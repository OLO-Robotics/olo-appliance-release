function a4_0x3dee(){const _0x84f2f6=['analyzeTopicStrategy','shouldThrottle','now','point_cloud_throttled','strategy','determineTopicStrategy','\x20topics','webrtc','isLargeDataTopic','child_process','unknown','strategies','sensor_msgs/msg/LaserScan','handleMessage','get','276072hyOdPZ','point','135692NEoHvR','forward','throttleFrequencies','map','lastMessageTimes','[TopicManager]\x20Discovering\x20new\x20topic\x20at\x20runtime:\x20','has','6MFuyve','image_throttled','includes','from','maxFrequency','points','PointCloud2','1368612FEivjI','defaultLargeDataStrategy','[TopicManager]\x20Initialised','test','[TopicManager]\x20Loaded\x20configuration:','cloud','1113984fHAQvM','930380ISLtKx','user_configured','config','Image','compressed','33HJTIjm','shouldUseWebRTC','sensor_msgs/msg/PointCloud2','1aMtwVA','throttle','filter','webrtc_skip','depth_points','websocket','length','pattern_configured','discoveryInProgress','image_raw','[TopicManager]\x20Topic\x20discovery\x20completed','replace','sensor_msgs/msg/CompressedImage','reason','parseStrategyConfig','606yswnfh','toString','getTopicStrategy','scan','[TopicManager]\x20Strategies:','loadConfig','type','webrtc_only','split','strategiesConfig','estimateTopicSize','LaserScan','laser_scan_throttled','[TopicManager]\x20Topic\x20discovery\x20failed:','[TopicManager]\x20Error\x20getting\x20topics:','7855Gzfjzi','entries','set','isLargeData','[TopicManager]\x20Topic\x20','image','exports','types','topicStrategies','305134FDipNB','isCameraTopic','throttle_skip','constructor','largeDataThreshold','large_data_throttled','topics','(((.+)+)+)+$','error','estimatedSize','normal_size','some','topicHandling','point_cloud','sensor_msgs/msg/Image','log','name','forEach','topic','search'];a4_0x3dee=function(){return _0x84f2f6;};return a4_0x3dee();}function a4_0xc4ee(_0xa7320b,_0x13583a){const _0xd2b3ef=a4_0x3dee();return a4_0xc4ee=function(_0x167667,_0x26f118){_0x167667=_0x167667-0x16c;let _0x3dee87=_0xd2b3ef[_0x167667];return _0x3dee87;},a4_0xc4ee(_0xa7320b,_0x13583a);}const a4_0x8716d8=a4_0xc4ee;(function(_0x48f4f8,_0x232314){const _0x4969fc=a4_0xc4ee,_0x313b4b=_0x48f4f8();while(!![]){try{const _0x41898b=-parseInt(_0x4969fc(0x1c9))/0x1*(parseInt(_0x4969fc(0x187))/0x2)+-parseInt(_0x4969fc(0x1b3))/0x3*(-parseInt(_0x4969fc(0x1ac))/0x4)+parseInt(_0x4969fc(0x17e))/0x5*(parseInt(_0x4969fc(0x16f))/0x6)+parseInt(_0x4969fc(0x1ba))/0x7+parseInt(_0x4969fc(0x1aa))/0x8+parseInt(_0x4969fc(0x1c0))/0x9+-parseInt(_0x4969fc(0x1c1))/0xa*(parseInt(_0x4969fc(0x1c6))/0xb);if(_0x41898b===_0x232314)break;else _0x313b4b['push'](_0x313b4b['shift']());}catch(_0x1c7f58){_0x313b4b['push'](_0x313b4b['shift']());}}}(a4_0x3dee,0x2449d));const a4_0x26f118=(function(){let _0x684a72=!![];return function(_0x46a9a9,_0x7c23db){const _0x5136d0=_0x684a72?function(){if(_0x7c23db){const _0x1e4e08=_0x7c23db['apply'](_0x46a9a9,arguments);return _0x7c23db=null,_0x1e4e08;}}:function(){};return _0x684a72=![],_0x5136d0;};}()),a4_0x167667=a4_0x26f118(this,function(){const _0x2b651c=a4_0xc4ee;return a4_0x167667[_0x2b651c(0x170)]()[_0x2b651c(0x19a)]('(((.+)+)+)+$')['toString']()[_0x2b651c(0x18a)](a4_0x167667)['search'](_0x2b651c(0x18e));});a4_0x167667();const {execSync}=require(a4_0x8716d8(0x1a4));class TopicManager{constructor(){const _0xc77354=a4_0x8716d8;this[_0xc77354(0x186)]=new Map(),this['lastMessageTimes']=new Map(),this['discoveryInProgress']=![],this[_0xc77354(0x1c3)]={'largeDataThreshold':0x64*0x400,'defaultLargeDataStrategy':'webrtc_only','throttleFrequencies':{'sensor_msgs/msg/PointCloud2':0x5,'sensor_msgs/msg/LaserScan':0xf},'strategiesConfig':{}},console['log'](_0xc77354(0x1bc));}[a4_0x8716d8(0x174)](_0xd15e27){const _0x1f8264=a4_0x8716d8;if(_0xd15e27[_0x1f8264(0x193)]){const _0x2ea82f=_0xd15e27[_0x1f8264(0x193)];_0x2ea82f[_0x1f8264(0x18b)]&&(this[_0x1f8264(0x1c3)][_0x1f8264(0x18b)]=_0x2ea82f[_0x1f8264(0x18b)]),_0x2ea82f[_0x1f8264(0x1bb)]&&(this[_0x1f8264(0x1c3)][_0x1f8264(0x1bb)]=_0x2ea82f['defaultLargeDataStrategy']),_0x2ea82f['strategies']&&(this[_0x1f8264(0x1c3)]['strategiesConfig']={..._0x2ea82f[_0x1f8264(0x1a6)]}),_0x2ea82f[_0x1f8264(0x1ae)]&&(this[_0x1f8264(0x1c3)][_0x1f8264(0x1ae)]={...this[_0x1f8264(0x1c3)][_0x1f8264(0x1ae)],..._0x2ea82f[_0x1f8264(0x1ae)]}),console[_0x1f8264(0x196)](_0x1f8264(0x1be),this['config']);}}async['discoverTopics'](_0x4d0324){const _0x1e7547=a4_0x8716d8;if(this['discoveryInProgress']||!_0x4d0324)return;this[_0x1e7547(0x1d1)]=!![],console[_0x1e7547(0x196)]('[TopicManager]\x20Starting\x20topic\x20discovery...');try{await new Promise((_0x18b930,_0xe8f37a)=>{_0x4d0324['getTopics'](_0x37d5f0=>{const _0x432ae6=a4_0xc4ee,_0x4f72f9=_0x37d5f0[_0x432ae6(0x18d)][_0x432ae6(0x1af)]((_0x546444,_0x1979a7)=>({'name':_0x546444,'type':_0x37d5f0[_0x432ae6(0x185)][_0x1979a7]}));console[_0x432ae6(0x196)]('[TopicManager]\x20Found\x20'+_0x4f72f9[_0x432ae6(0x1cf)]+_0x432ae6(0x1a1));for(const _0x458f8c of _0x4f72f9){this[_0x432ae6(0x19b)](_0x458f8c);}console['log'](_0x432ae6(0x1d3)),console[_0x432ae6(0x196)](_0x432ae6(0x173),Array[_0x432ae6(0x1b6)](this['topicStrategies'][_0x432ae6(0x17f)]())),_0x18b930();},_0x308369=>{const _0x4e9642=a4_0xc4ee;console[_0x4e9642(0x18f)](_0x4e9642(0x17d),_0x308369),_0xe8f37a(_0x308369);});});}catch(_0x586f68){console['error'](_0x1e7547(0x17c),_0x586f68);}finally{this[_0x1e7547(0x1d1)]=![];}}['analyzeTopicStrategy'](_0x402502){const _0x32f799=a4_0x8716d8,_0x508c83=this[_0x32f799(0x1a0)](_0x402502);this[_0x32f799(0x186)][_0x32f799(0x180)](_0x402502['name'],{'type':_0x402502[_0x32f799(0x175)],'strategy':_0x508c83['type'],'reason':_0x508c83[_0x32f799(0x16d)],'maxFrequency':_0x508c83[_0x32f799(0x1b7)],'isLargeData':_0x508c83[_0x32f799(0x181)],'estimatedSize':_0x508c83[_0x32f799(0x190)]}),console['log'](_0x32f799(0x182)+_0x402502['name']+':\x20'+_0x508c83[_0x32f799(0x175)]+'\x20('+_0x508c83[_0x32f799(0x16d)]+')');}[a4_0x8716d8(0x1a0)](_0x21bbbe){const _0xfc4791=a4_0x8716d8;if(this['config'][_0xfc4791(0x178)][_0x21bbbe[_0xfc4791(0x197)]]){const _0x50b276=this['config'][_0xfc4791(0x178)][_0x21bbbe[_0xfc4791(0x197)]];return this[_0xfc4791(0x16e)](_0x50b276,_0xfc4791(0x1c2));}for(const [_0xb6fb1e,_0x363bb2]of Object[_0xfc4791(0x17f)](this[_0xfc4791(0x1c3)][_0xfc4791(0x178)])){if(_0x21bbbe[_0xfc4791(0x197)][_0xfc4791(0x1b5)](_0xb6fb1e[_0xfc4791(0x1d4)]('/','')))return this[_0xfc4791(0x16e)](_0x363bb2,_0xfc4791(0x1d0));}if(this[_0xfc4791(0x188)](_0x21bbbe['name'],_0x21bbbe[_0xfc4791(0x175)])){const _0x5c0d17=this['estimateTopicSize'](_0x21bbbe[_0xfc4791(0x197)],_0x21bbbe['type']);return{'type':_0xfc4791(0x1a2),'reason':'video_webrtc_streaming','isLargeData':!![],'estimatedSize':_0x5c0d17,'maxFrequency':null};}const _0x2bd8ca=this[_0xfc4791(0x1a3)](_0x21bbbe[_0xfc4791(0x197)],_0x21bbbe[_0xfc4791(0x175)]),_0x5e5d02=this[_0xfc4791(0x179)](_0x21bbbe['name'],_0x21bbbe[_0xfc4791(0x175)]);if(_0x2bd8ca||_0x5e5d02>this[_0xfc4791(0x1c3)]['largeDataThreshold']){let _0x888a12=this[_0xfc4791(0x1c3)]['throttleFrequencies'][_0x21bbbe['type']]||0xa,_0x2d5b7f=_0xfc4791(0x18c);if(_0x21bbbe[_0xfc4791(0x175)][_0xfc4791(0x1b5)](_0xfc4791(0x1b9))||_0x21bbbe[_0xfc4791(0x197)][_0xfc4791(0x1b5)](_0xfc4791(0x1b8)))_0x888a12=this['config']['throttleFrequencies'][_0x21bbbe['type']]||0x5,_0x2d5b7f=_0xfc4791(0x19e);else{if(_0x21bbbe['type'][_0xfc4791(0x1b5)](_0xfc4791(0x17a))||_0x21bbbe[_0xfc4791(0x197)][_0xfc4791(0x1b5)](_0xfc4791(0x172)))_0x888a12=this['config'][_0xfc4791(0x1ae)][_0x21bbbe[_0xfc4791(0x175)]]||0xf,_0x2d5b7f=_0xfc4791(0x17b);else _0x21bbbe[_0xfc4791(0x175)][_0xfc4791(0x1b5)](_0xfc4791(0x1c4))&&(_0x888a12=this[_0xfc4791(0x1c3)]['throttleFrequencies'][_0x21bbbe[_0xfc4791(0x175)]]||0xa,_0x2d5b7f=_0xfc4791(0x1b4));}return{'type':_0xfc4791(0x1ca),'reason':_0x2d5b7f,'isLargeData':!![],'estimatedSize':_0x5e5d02,'maxFrequency':_0x888a12};}return{'type':_0xfc4791(0x1ce),'reason':_0xfc4791(0x191),'isLargeData':![],'estimatedSize':_0x5e5d02,'maxFrequency':null};}[a4_0x8716d8(0x16e)](_0x3d1332,_0x42f1eb){const _0x476589=a4_0x8716d8;if(_0x3d1332[_0x476589(0x1b5)](':')){const [_0x32158f,_0x101e6a]=_0x3d1332[_0x476589(0x177)](':');return{'type':_0x32158f,'reason':_0x42f1eb,'isLargeData':!![],'maxFrequency':_0x32158f==='throttle'?parseFloat(_0x101e6a):null,'estimatedSize':this[_0x476589(0x1c3)][_0x476589(0x18b)]+0x1};}return{'type':_0x3d1332,'reason':_0x42f1eb,'isLargeData':_0x3d1332!==_0x476589(0x1ce),'maxFrequency':null,'estimatedSize':this[_0x476589(0x1c3)][_0x476589(0x18b)]+0x1};}[a4_0x8716d8(0x1a3)](_0x1a4201,_0x46f273){const _0x2f8b59=a4_0x8716d8,_0x45a762=[/point_cloud/i,/points/i,/depth.*image/i,/.*pointcloud/i,/laser.*scan/i,/scan/i,/camera.*image_raw/i,/lidar/i],_0x5fcd1e=[_0x2f8b59(0x1c8),_0x2f8b59(0x195),'sensor_msgs/msg/LaserScan',_0x2f8b59(0x16c)];return _0x45a762[_0x2f8b59(0x192)](_0x52d6e5=>_0x52d6e5[_0x2f8b59(0x1bd)](_0x1a4201))||_0x5fcd1e['includes'](_0x46f273);}[a4_0x8716d8(0x188)](_0x95fbc9,_0x5a516b=''){const _0x28e86e=a4_0x8716d8,_0x1125f4=[_0x28e86e(0x195),'sensor_msgs/msg/CompressedImage'];if(_0x1125f4['includes'](_0x5a516b))return!_0x95fbc9[_0x28e86e(0x1b5)](_0x28e86e(0x1b8))&&!_0x95fbc9[_0x28e86e(0x1b5)](_0x28e86e(0x194))&&!_0x95fbc9[_0x28e86e(0x1b5)]('depth_points');return(_0x95fbc9[_0x28e86e(0x1b5)](_0x28e86e(0x183))||_0x95fbc9['includes'](_0x28e86e(0x1c5)))&&!_0x95fbc9['includes']('points')&&!_0x95fbc9['includes'](_0x28e86e(0x194))&&!_0x95fbc9['includes'](_0x28e86e(0x1cd));}['estimateTopicSize'](_0x548a76,_0x75312a){const _0x12b446=a4_0x8716d8,_0x2c4eb4={'sensor_msgs/msg/PointCloud2':0x1f4*0x400,'sensor_msgs/msg/Image':0x12c*0x400,'sensor_msgs/msg/CompressedImage':0x32*0x400,'sensor_msgs/msg/LaserScan':0x14*0x400};if(_0x2c4eb4[_0x75312a])return _0x2c4eb4[_0x75312a];if(_0x548a76[_0x12b446(0x1b5)]('point')||_0x548a76[_0x12b446(0x1b5)](_0x12b446(0x1bf)))return 0x190*0x400;if(_0x548a76['includes'](_0x12b446(0x1d2)))return 0x12c*0x400;if(_0x548a76[_0x12b446(0x1b5)]('compressed'))return 0x32*0x400;return 0x400;}[a4_0x8716d8(0x1a8)](_0x17b477){const _0x1b634f=a4_0x8716d8;let _0xed4331=this['topicStrategies'][_0x1b634f(0x1a9)](_0x17b477[_0x1b634f(0x199)]);if(!_0xed4331){console[_0x1b634f(0x196)](_0x1b634f(0x1b1)+_0x17b477[_0x1b634f(0x199)]);let _0x3f49fb=_0x1b634f(0x1a5);if(_0x17b477[_0x1b634f(0x199)]['includes']('image')&&_0x17b477[_0x1b634f(0x199)][_0x1b634f(0x1b5)](_0x1b634f(0x1c5)))_0x3f49fb=_0x1b634f(0x16c);else{if(_0x17b477['topic'][_0x1b634f(0x1b5)](_0x1b634f(0x183)))_0x3f49fb='sensor_msgs/msg/Image';else{if(_0x17b477[_0x1b634f(0x199)]['includes'](_0x1b634f(0x1ab))||_0x17b477[_0x1b634f(0x199)]['includes'](_0x1b634f(0x1bf)))_0x3f49fb=_0x1b634f(0x1c8);else _0x17b477['topic'][_0x1b634f(0x1b5)](_0x1b634f(0x172))&&(_0x3f49fb=_0x1b634f(0x1a7));}}const _0x470ef6={'name':_0x17b477[_0x1b634f(0x199)],'type':_0x3f49fb};this['analyzeTopicStrategy'](_0x470ef6),_0xed4331=this[_0x1b634f(0x186)][_0x1b634f(0x1a9)](_0x17b477[_0x1b634f(0x199)]);}if(!_0xed4331)return{'action':_0x1b634f(0x1ad),'message':_0x17b477};switch(_0xed4331[_0x1b634f(0x19f)]){case _0x1b634f(0x1ca):return this[_0x1b634f(0x19c)](_0x17b477['topic'],_0xed4331[_0x1b634f(0x1b7)])?{'action':_0x1b634f(0x1ad),'message':_0x17b477}:{'action':_0x1b634f(0x189)};case _0x1b634f(0x1a2):return{'action':_0x1b634f(0x1cc)};case _0x1b634f(0x1ce):default:return{'action':_0x1b634f(0x1ad),'message':_0x17b477};}}['shouldThrottle'](_0x2a3fac,_0x2ae2a8){const _0x3a198b=a4_0x8716d8;if(!_0x2ae2a8)return!![];const _0x56e2e7=Date[_0x3a198b(0x19d)](),_0x30753a=0x3e8/_0x2ae2a8;!this[_0x3a198b(0x1b0)][_0x3a198b(0x1b2)](_0x2a3fac)&&this[_0x3a198b(0x1b0)]['set'](_0x2a3fac,0x0);const _0x4b18de=this[_0x3a198b(0x1b0)][_0x3a198b(0x1a9)](_0x2a3fac),_0x1a309d=_0x56e2e7-_0x4b18de;if(_0x1a309d>=_0x30753a)return this[_0x3a198b(0x1b0)]['set'](_0x2a3fac,_0x56e2e7),!![];return![];}[a4_0x8716d8(0x171)](_0x1978e2){return this['topicStrategies']['get'](_0x1978e2);}['getManagedTopics'](){const _0x50be13=a4_0x8716d8;return Array[_0x50be13(0x1b6)](this[_0x50be13(0x186)]['entries']())[_0x50be13(0x1af)](([_0x5c6f91,_0x2ea01e])=>({'topic':_0x5c6f91,..._0x2ea01e}));}[a4_0x8716d8(0x1c7)](_0x1ff05b){const _0x46b139=a4_0x8716d8,_0x555519=this[_0x46b139(0x186)][_0x46b139(0x1a9)](_0x1ff05b);return _0x555519?.['strategy']===_0x46b139(0x176);}['getStatistics'](){const _0x1c4795=a4_0x8716d8,_0x54c496={};return this[_0x1c4795(0x186)][_0x1c4795(0x198)]((_0xf2b9c2,_0x32494d)=>{const _0x581b07=_0x1c4795;!_0x54c496[_0xf2b9c2[_0x581b07(0x19f)]]&&(_0x54c496[_0xf2b9c2[_0x581b07(0x19f)]]=0x0),_0x54c496[_0xf2b9c2[_0x581b07(0x19f)]]++;}),{'totalTopics':this[_0x1c4795(0x186)]['size'],'strategies':_0x54c496,'largeDataTopics':Array[_0x1c4795(0x1b6)](this[_0x1c4795(0x186)]['entries']())[_0x1c4795(0x1cb)](([_0xbc4f82,_0x41ad03])=>_0x41ad03[_0x1c4795(0x181)])[_0x1c4795(0x1af)](([_0x4daeef,_0x39f62f])=>_0x4daeef)};}}module[a4_0x8716d8(0x184)]=new TopicManager();