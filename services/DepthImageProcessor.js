const a3_0x45b823=a3_0x2cfc;(function(_0x35a337,_0x2ab11b){const _0x7f20f6=a3_0x2cfc,_0x1bdef9=_0x35a337();while(!![]){try{const _0x45ca4d=parseInt(_0x7f20f6(0x148))/0x1*(-parseInt(_0x7f20f6(0x147))/0x2)+-parseInt(_0x7f20f6(0x130))/0x3+parseInt(_0x7f20f6(0x14a))/0x4*(-parseInt(_0x7f20f6(0x155))/0x5)+-parseInt(_0x7f20f6(0x11e))/0x6*(parseInt(_0x7f20f6(0x15d))/0x7)+parseInt(_0x7f20f6(0x14d))/0x8+-parseInt(_0x7f20f6(0x150))/0x9*(parseInt(_0x7f20f6(0x13e))/0xa)+parseInt(_0x7f20f6(0x131))/0xb;if(_0x45ca4d===_0x2ab11b)break;else _0x1bdef9['push'](_0x1bdef9['shift']());}catch(_0x4382e1){_0x1bdef9['push'](_0x1bdef9['shift']());}}}(a3_0x43ff,0x415d2));function a3_0x43ff(){const _0x3f1700=['join','ushort','10TVmPGQ','floor','width','All\x20PNG\x20decode\x20attempts\x20failed:\x20','length','cos','constructor','convertRGBDepthToRGBA','padStart','532dkdeyD','1723HsEfhF','convertDepthToRGBA_16bit','579440DdtNLO',',\x20trying\x20as\x2016-bit\x20depth','sin','2915528uyGZkR','isDepthTopic',',\x20first\x2016\x20bytes:','1962027VDAmUE','log','createDepthFallbackPattern',',\x20channels:\x20','createImageData','5leSBwd','sqrt','[DepthImageProcessor]\x20No\x20PNG\x20header\x20found\x20in\x20buffer,\x20size:\x20','min','max','height','message','\x2016-bit','7wAjPZf','[DepthImageProcessor]\x20Initialized','greyscale','(((.+)+)+)+$','channels','2461494ZKOuzJ','slice','includes','toBuffer','sharp','uchar','info','Buffer\x20too\x20small\x20to\x20contain\x20any\x20meaningful\x20depth\x20data','depth','[DepthImageProcessor]\x20Buffer\x20size\x20matches\x20raw\x20depth\x20data,\x20interpreting\x20as\x20','toString',',\x20depth:\x20','Unrecognized\x20depth\x20format,\x20buffer\x20size:\x20',',\x20expected\x20raw:\x20','warn','raw','from','apply','206037ixsmMf','13237378uXJPyX','png','random','convertDepthToRGBA_8bit','data','search','map','depthToColor','processColorImage','[DepthImageProcessor]\x20PNG\x20decode\x20with\x20explicit\x20format:\x20','[DepthImageProcessor]\x20Depth\x20decoding\x20failed:'];a3_0x43ff=function(){return _0x3f1700;};return a3_0x43ff();}const a3_0x5e4b7c=(function(){let _0x58fdbd=!![];return function(_0x42988d,_0x37fd9a){const _0x876014=_0x58fdbd?function(){const _0x3b9bab=a3_0x2cfc;if(_0x37fd9a){const _0x7662a5=_0x37fd9a[_0x3b9bab(0x12f)](_0x42988d,arguments);return _0x37fd9a=null,_0x7662a5;}}:function(){};return _0x58fdbd=![],_0x876014;};}()),a3_0x57ba6e=a3_0x5e4b7c(this,function(){const _0x314247=a3_0x2cfc;return a3_0x57ba6e[_0x314247(0x128)]()[_0x314247(0x136)](_0x314247(0x11c))['toString']()[_0x314247(0x144)](a3_0x57ba6e)[_0x314247(0x136)]('(((.+)+)+)+$');});function a3_0x2cfc(_0x5389f7,_0x4532a6){const _0x219ae6=a3_0x43ff();return a3_0x2cfc=function(_0x57ba6e,_0x5e4b7c){_0x57ba6e=_0x57ba6e-0x11b;let _0x43ff23=_0x219ae6[_0x57ba6e];return _0x43ff23;},a3_0x2cfc(_0x5389f7,_0x4532a6);}a3_0x57ba6e();const sharp=require(a3_0x45b823(0x122));class DepthImageProcessor{constructor(){const _0x558c94=a3_0x45b823;console[_0x558c94(0x151)](_0x558c94(0x15e));}async['processDepthImage'](_0x48ec30,_0x5052f1,_0x51102f,_0x3ed908){const _0x435605=a3_0x45b823;try{let _0x3205cb,_0x3a3857;try{const _0x4e4292=await sharp(_0x48ec30)[_0x435605(0x132)]()[_0x435605(0x12d)]()[_0x435605(0x121)]({'resolveWithObject':!![]});_0x3205cb=_0x4e4292[_0x435605(0x135)],_0x3a3857=_0x4e4292[_0x435605(0x124)];}catch(_0x113aa1){try{const _0x4f1d64=await sharp(_0x48ec30)['raw']()[_0x435605(0x121)]({'resolveWithObject':!![]});_0x3205cb=_0x4f1d64['data'],_0x3a3857=_0x4f1d64[_0x435605(0x124)];}catch(_0x205859){try{const _0x82b7bb=await sharp(_0x48ec30)[_0x435605(0x11b)]()[_0x435605(0x12d)]()[_0x435605(0x121)]({'resolveWithObject':!![]});_0x3205cb=_0x82b7bb[_0x435605(0x135)],_0x3a3857=_0x82b7bb['info'];}catch(_0x33ec0f){if(_0x48ec30[_0x435605(0x142)]>=0x4){let _0x5c1b7e=-0x1;for(let _0x2771f1=0x0;_0x2771f1<=_0x48ec30['length']-0x4;_0x2771f1++){if(_0x48ec30[_0x2771f1]===0x89&&_0x48ec30[_0x2771f1+0x1]===0x50&&_0x48ec30[_0x2771f1+0x2]===0x4e&&_0x48ec30[_0x2771f1+0x3]===0x47){_0x5c1b7e=_0x2771f1;break;}}if(_0x5c1b7e>=0x0){const _0x36fa04=_0x48ec30[_0x435605(0x11f)](_0x5c1b7e);try{const _0x5b5af3=await sharp(_0x36fa04)[_0x435605(0x12d)]()[_0x435605(0x121)]({'resolveWithObject':!![]});_0x3205cb=_0x5b5af3['data'],_0x3a3857=_0x5b5af3[_0x435605(0x124)];}catch(_0x4485f4){try{const _0x3c3034=await sharp(_0x36fa04)[_0x435605(0x132)]()['raw']()[_0x435605(0x121)]({'resolveWithObject':!![]});_0x3205cb=_0x3c3034[_0x435605(0x135)],_0x3a3857=_0x3c3034[_0x435605(0x124)],console[_0x435605(0x151)](_0x435605(0x13a)+_0x3a3857[_0x435605(0x140)]+'x'+_0x3a3857[_0x435605(0x15a)]+_0x435605(0x153)+_0x3a3857[_0x435605(0x11d)]+_0x435605(0x129)+_0x3a3857['depth']);}catch(_0x1c6be3){throw new Error(_0x435605(0x141)+_0x1c6be3[_0x435605(0x15b)]);}}}else{console[_0x435605(0x151)](_0x435605(0x157)+_0x48ec30[_0x435605(0x142)]),console[_0x435605(0x151)]('[DepthImageProcessor]\x20First\x2016\x20bytes:\x20'+Array[_0x435605(0x12e)](_0x48ec30[_0x435605(0x11f)](0x0,0x10))[_0x435605(0x137)](_0x302748=>'0x'+_0x302748['toString'](0x10)[_0x435605(0x146)](0x2,'0'))[_0x435605(0x13c)]('\x20'));const _0x45dcac=0x280,_0x125b10=0x1e0,_0x5ab02d=_0x45dcac*_0x125b10*0x2;if(Math['abs'](_0x48ec30[_0x435605(0x142)]-_0x5ab02d)<0x3e8)console['log'](_0x435605(0x127)+_0x45dcac+'x'+_0x125b10+_0x435605(0x15c)),_0x3205cb=_0x48ec30,_0x3a3857={'width':_0x45dcac,'height':_0x125b10,'channels':0x1,'depth':_0x435605(0x13d)};else throw new Error(_0x435605(0x12a)+_0x48ec30['length']+_0x435605(0x12b)+_0x5ab02d);}}else throw new Error(_0x435605(0x125));}}}const _0x339049=_0x51102f[_0x435605(0x154)](_0x5052f1[_0x435605(0x140)],_0x5052f1[_0x435605(0x15a)]);if(_0x3a3857[_0x435605(0x11d)]===0x1&&_0x3a3857[_0x435605(0x126)]===_0x435605(0x123))this[_0x435605(0x134)](_0x3205cb,_0x339049[_0x435605(0x135)],_0x3a3857[_0x435605(0x140)],_0x3a3857[_0x435605(0x15a)],_0x5052f1[_0x435605(0x140)],_0x5052f1[_0x435605(0x15a)]);else{if(_0x3a3857[_0x435605(0x11d)]===0x1&&(_0x3a3857[_0x435605(0x126)]==='ushort'||_0x3a3857[_0x435605(0x126)]===undefined))this[_0x435605(0x149)](_0x3205cb,_0x339049['data'],_0x3a3857['width'],_0x3a3857[_0x435605(0x15a)],_0x5052f1[_0x435605(0x140)],_0x5052f1[_0x435605(0x15a)]);else{if(_0x3a3857['channels']===0x3)_0x3ed908[_0x435605(0x120)](_0x435605(0x126))?this[_0x435605(0x145)](_0x3205cb,_0x339049['data'],_0x3a3857[_0x435605(0x140)],_0x3a3857[_0x435605(0x15a)],_0x5052f1[_0x435605(0x140)],_0x5052f1['height']):this['convertRGBToRGBA'](_0x3205cb,_0x339049['data'],_0x3a3857[_0x435605(0x140)],_0x3a3857[_0x435605(0x15a)],_0x5052f1[_0x435605(0x140)],_0x5052f1[_0x435605(0x15a)]);else _0x3a3857['channels']===0x2?this[_0x435605(0x149)](_0x3205cb,_0x339049['data'],_0x3a3857['width'],_0x3a3857[_0x435605(0x15a)],_0x5052f1[_0x435605(0x140)],_0x5052f1['height']):(console[_0x435605(0x151)]('[DepthImageProcessor]\x20Unknown\x20format:\x20channels='+_0x3a3857[_0x435605(0x11d)]+',\x20depth='+_0x3a3857[_0x435605(0x126)]+_0x435605(0x14b)),this[_0x435605(0x149)](_0x3205cb,_0x339049[_0x435605(0x135)],_0x3a3857[_0x435605(0x140)],_0x3a3857[_0x435605(0x15a)],_0x5052f1[_0x435605(0x140)],_0x5052f1[_0x435605(0x15a)]));}}return _0x339049;}catch(_0x1ff133){console[_0x435605(0x12c)](_0x435605(0x13b),_0x1ff133[_0x435605(0x15b)]);Math[_0x435605(0x133)]()<0.05&&console[_0x435605(0x12c)]('[DepthImageProcessor]\x20Buffer\x20info:\x20size='+_0x48ec30[_0x435605(0x142)]+_0x435605(0x14f),Array[_0x435605(0x12e)](_0x48ec30[_0x435605(0x11f)](0x0,0x10))[_0x435605(0x137)](_0x302a27=>'0x'+_0x302a27[_0x435605(0x128)](0x10)[_0x435605(0x146)](0x2,'0'))['join']('\x20'));const _0x5748ac=_0x51102f['createImageData'](_0x5052f1[_0x435605(0x140)],_0x5052f1[_0x435605(0x15a)]);for(let _0x58d05c=0x0;_0x58d05c<_0x5052f1[_0x435605(0x15a)];_0x58d05c++){for(let _0x5deba3=0x0;_0x5deba3<_0x5052f1[_0x435605(0x140)];_0x5deba3++){const _0x35f77b=(_0x58d05c*_0x5052f1[_0x435605(0x140)]+_0x5deba3)*0x4,_0x294a94=Math['abs'](Math[_0x435605(0x14c)](_0x5deba3*0.01)*Math[_0x435605(0x143)](_0x58d05c*0.01)),_0x4099d8=this['depthToColor'](_0x294a94);_0x5748ac['data'][_0x35f77b]=_0x4099d8['r'],_0x5748ac[_0x435605(0x135)][_0x35f77b+0x1]=_0x4099d8['g'],_0x5748ac[_0x435605(0x135)][_0x35f77b+0x2]=_0x4099d8['b'],_0x5748ac[_0x435605(0x135)][_0x35f77b+0x3]=0xff;}}return _0x5748ac;}}[a3_0x45b823(0x134)](_0x366aa5,_0xef821f,_0x21e690,_0x59b6aa,_0xf53442,_0x3c04d6){const _0xebefbf=a3_0x45b823,_0x3073d1=_0x21e690/_0xf53442,_0x39017d=_0x59b6aa/_0x3c04d6;for(let _0x220afc=0x0;_0x220afc<_0x3c04d6;_0x220afc++){for(let _0x1c82d0=0x0;_0x1c82d0<_0xf53442;_0x1c82d0++){const _0x40163f=Math[_0xebefbf(0x13f)](_0x1c82d0*_0x3073d1),_0x18dd1f=Math['floor'](_0x220afc*_0x39017d),_0x4221d1=_0x18dd1f*_0x21e690+_0x40163f,_0x270273=(_0x220afc*_0xf53442+_0x1c82d0)*0x4,_0x55e1a0=_0x366aa5[_0x4221d1]||0x0,_0x5594bc=this['depthToColor'](_0x55e1a0/0xff);_0xef821f[_0x270273]=_0x5594bc['r'],_0xef821f[_0x270273+0x1]=_0x5594bc['g'],_0xef821f[_0x270273+0x2]=_0x5594bc['b'],_0xef821f[_0x270273+0x3]=0xff;}}}[a3_0x45b823(0x149)](_0x3975cb,_0x3ea19b,_0x1a2636,_0x5048bd,_0x2200af,_0x3cf51f){const _0x4c8e0c=a3_0x45b823,_0x8053d5=_0x1a2636/_0x2200af,_0x5ddaa8=_0x5048bd/_0x3cf51f;let _0x55ee7c=0xffff,_0x529533=0x0;for(let _0x1d31d5=0x0;_0x1d31d5<_0x3975cb[_0x4c8e0c(0x142)];_0x1d31d5+=0x2){const _0x20fb85=_0x3975cb[_0x1d31d5+0x1]<<0x8|_0x3975cb[_0x1d31d5];_0x20fb85>0x0&&(_0x55ee7c=Math[_0x4c8e0c(0x158)](_0x55ee7c,_0x20fb85),_0x529533=Math[_0x4c8e0c(0x159)](_0x529533,_0x20fb85));}const _0x216e34=_0x529533-_0x55ee7c||0x1;for(let _0x5d60e9=0x0;_0x5d60e9<_0x3cf51f;_0x5d60e9++){for(let _0x5303df=0x0;_0x5303df<_0x2200af;_0x5303df++){const _0x508d02=Math['floor'](_0x5303df*_0x8053d5),_0x2fc70b=Math[_0x4c8e0c(0x13f)](_0x5d60e9*_0x5ddaa8),_0x1e589e=(_0x2fc70b*_0x1a2636+_0x508d02)*0x2,_0x168268=(_0x5d60e9*_0x2200af+_0x5303df)*0x4,_0x1423bb=_0x3975cb[_0x1e589e+0x1]<<0x8|_0x3975cb[_0x1e589e],_0x4c555b=_0x1423bb>0x0?(_0x1423bb-_0x55ee7c)/_0x216e34:0x0,_0x2d9be3=this[_0x4c8e0c(0x138)](_0x4c555b);_0x3ea19b[_0x168268]=_0x2d9be3['r'],_0x3ea19b[_0x168268+0x1]=_0x2d9be3['g'],_0x3ea19b[_0x168268+0x2]=_0x2d9be3['b'],_0x3ea19b[_0x168268+0x3]=0xff;}}}[a3_0x45b823(0x145)](_0x3f8936,_0x330d8c,_0x3f1756,_0xf8cec0,_0x373b44,_0x1be55a){const _0x4d2fb1=a3_0x45b823,_0x49238c=_0x3f1756/_0x373b44,_0x314f41=_0xf8cec0/_0x1be55a;let _0x3ff5e0=0xff,_0x1ca93c=0x0;for(let _0x391ea9=0x1;_0x391ea9<_0x3f8936[_0x4d2fb1(0x142)];_0x391ea9+=0x3){const _0x5e9593=_0x3f8936[_0x391ea9];_0x5e9593>0x0&&(_0x3ff5e0=Math[_0x4d2fb1(0x158)](_0x3ff5e0,_0x5e9593),_0x1ca93c=Math['max'](_0x1ca93c,_0x5e9593));}const _0x8f577c=_0x1ca93c-_0x3ff5e0||0x1;for(let _0x2aae54=0x0;_0x2aae54<_0x1be55a;_0x2aae54++){for(let _0xf4ba90=0x0;_0xf4ba90<_0x373b44;_0xf4ba90++){const _0x5f1c0c=Math['floor'](_0xf4ba90*_0x49238c),_0x44583a=Math[_0x4d2fb1(0x13f)](_0x2aae54*_0x314f41),_0xdd5f98=(_0x44583a*_0x3f1756+_0x5f1c0c)*0x3,_0x26b3c3=(_0x2aae54*_0x373b44+_0xf4ba90)*0x4,_0x2914dd=_0x3f8936[_0xdd5f98+0x1],_0x5e189c=_0x2914dd>0x0?(_0x2914dd-_0x3ff5e0)/_0x8f577c:0x0,_0x43946c=this[_0x4d2fb1(0x138)](_0x5e189c);_0x330d8c[_0x26b3c3]=_0x43946c['r'],_0x330d8c[_0x26b3c3+0x1]=_0x43946c['g'],_0x330d8c[_0x26b3c3+0x2]=_0x43946c['b'],_0x330d8c[_0x26b3c3+0x3]=0xff;}}}['convertRGBToRGBA'](_0x3c8453,_0x50eb4d,_0xd52068,_0x57ad79,_0x513ad0,_0x73e6c3){const _0x24b2c6=a3_0x45b823,_0x312f7a=_0xd52068/_0x513ad0,_0x65e767=_0x57ad79/_0x73e6c3;for(let _0xc4f3d9=0x0;_0xc4f3d9<_0x73e6c3;_0xc4f3d9++){for(let _0x3b7501=0x0;_0x3b7501<_0x513ad0;_0x3b7501++){const _0x5a464e=Math[_0x24b2c6(0x13f)](_0x3b7501*_0x312f7a),_0x529ea7=Math[_0x24b2c6(0x13f)](_0xc4f3d9*_0x65e767),_0x5018ae=(_0x529ea7*_0xd52068+_0x5a464e)*0x3,_0x2a1a42=(_0xc4f3d9*_0x513ad0+_0x3b7501)*0x4;_0x50eb4d[_0x2a1a42]=_0x3c8453[_0x5018ae],_0x50eb4d[_0x2a1a42+0x1]=_0x3c8453[_0x5018ae+0x1],_0x50eb4d[_0x2a1a42+0x2]=_0x3c8453[_0x5018ae+0x2],_0x50eb4d[_0x2a1a42+0x3]=0xff;}}}[a3_0x45b823(0x152)](_0x38ecc0,_0x13c029,_0x276088){const _0x5c6b19=a3_0x45b823;for(let _0x439905=0x0;_0x439905<_0x38ecc0['length'];_0x439905+=0x4){_0x38ecc0[_0x439905]=0x14,_0x38ecc0[_0x439905+0x1]=0x14,_0x38ecc0[_0x439905+0x2]=0x28,_0x38ecc0[_0x439905+0x3]=0xff;}for(let _0x289012=0x0;_0x289012<_0x276088;_0x289012++){for(let _0x44cec7=0x0;_0x44cec7<_0x13c029;_0x44cec7++){const _0x42c8ea=(_0x289012*_0x13c029+_0x44cec7)*0x4;(_0x44cec7+_0x289012)%0x28<0x14&&(_0x38ecc0[_0x42c8ea]=0xff,_0x38ecc0[_0x42c8ea+0x1]=0x64,_0x38ecc0[_0x42c8ea+0x2]=0x0,_0x38ecc0[_0x42c8ea+0x3]=0xb4),(_0x44cec7%0x32===0x0||_0x289012%0x32===0x0)&&(_0x38ecc0[_0x42c8ea]=0x64,_0x38ecc0[_0x42c8ea+0x1]=0x64,_0x38ecc0[_0x42c8ea+0x2]=0x64,_0x38ecc0[_0x42c8ea+0x3]=0xff);}}const _0x1f3339=Math['floor'](_0x13c029/0x2),_0x374697=Math[_0x5c6b19(0x13f)](_0x276088/0x2),_0x337124=0x1e;for(let _0x2df159=_0x374697-_0x337124;_0x2df159<_0x374697+_0x337124;_0x2df159++){for(let _0x40c8c6=_0x1f3339-_0x337124;_0x40c8c6<_0x1f3339+_0x337124;_0x40c8c6++){if(_0x40c8c6>=0x0&&_0x40c8c6<_0x13c029&&_0x2df159>=0x0&&_0x2df159<_0x276088){const _0x1b0de1=_0x40c8c6-_0x1f3339,_0x21b496=_0x2df159-_0x374697,_0x467319=Math[_0x5c6b19(0x156)](_0x1b0de1*_0x1b0de1+_0x21b496*_0x21b496);if(_0x467319<_0x337124){const _0x424311=(_0x2df159*_0x13c029+_0x40c8c6)*0x4,_0x369688=Math['max'](0x0,0xff-_0x467319/_0x337124*0xff);_0x38ecc0[_0x424311]=0xff,_0x38ecc0[_0x424311+0x1]=_0x369688,_0x38ecc0[_0x424311+0x2]=0x0,_0x38ecc0[_0x424311+0x3]=0xc8;}}}}}['depthToColor'](_0x3a6841){const _0x1ccff5=a3_0x45b823;if(_0x3a6841<=0x0)return{'r':0x0,'g':0x0,'b':0x0};const _0x346ee4=Math['max'](0x0,Math[_0x1ccff5(0x158)](0x1,_0x3a6841));if(_0x346ee4<0.25){const _0x30adc0=_0x346ee4/0.25;return{'r':0x0,'g':Math['floor'](_0x30adc0*0xff),'b':0xff};}else{if(_0x346ee4<0.5){const _0x442bdc=(_0x346ee4-0.25)/0.25;return{'r':0x0,'g':0xff,'b':Math[_0x1ccff5(0x13f)]((0x1-_0x442bdc)*0xff)};}else{if(_0x346ee4<0.75){const _0x1a80c9=(_0x346ee4-0.5)/0.25;return{'r':Math[_0x1ccff5(0x13f)](_0x1a80c9*0xff),'g':0xff,'b':0x0};}else{const _0x13f5e3=(_0x346ee4-0.75)/0.25;return{'r':0xff,'g':Math[_0x1ccff5(0x13f)]((0x1-_0x13f5e3)*0xff),'b':0x0};}}}}[a3_0x45b823(0x14e)](_0x2f74cb){const _0x1327d9=a3_0x45b823;return _0x2f74cb[_0x1327d9(0x120)]('depth');}async[a3_0x45b823(0x139)](_0x590b5b,_0x3c8898,_0x27d763){const _0x1fe437=a3_0x45b823,{data:_0x5aab7a,info:_0x277317}=await sharp(_0x590b5b)['resize'](_0x3c8898[_0x1fe437(0x140)],_0x3c8898[_0x1fe437(0x15a)])[_0x1fe437(0x12d)]()[_0x1fe437(0x121)]({'resolveWithObject':!![]}),_0x52bea9=_0x27d763['createImageData'](_0x3c8898[_0x1fe437(0x140)],_0x3c8898[_0x1fe437(0x15a)]);for(let _0x23941d=0x0,_0x4258de=0x0;_0x23941d<_0x5aab7a[_0x1fe437(0x142)];_0x23941d+=0x3,_0x4258de+=0x4){_0x52bea9[_0x1fe437(0x135)][_0x4258de]=_0x5aab7a[_0x23941d],_0x52bea9['data'][_0x4258de+0x1]=_0x5aab7a[_0x23941d+0x1],_0x52bea9[_0x1fe437(0x135)][_0x4258de+0x2]=_0x5aab7a[_0x23941d+0x2],_0x52bea9[_0x1fe437(0x135)][_0x4258de+0x3]=0xff;}return _0x52bea9;}}module['exports']=DepthImageProcessor;