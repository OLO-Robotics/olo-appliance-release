const a3_0x13dc5f=a3_0x31c0;(function(_0x454e6f,_0x3de7ec){const _0x2a4574=a3_0x31c0,_0x40aabe=_0x454e6f();while(!![]){try{const _0x4be88d=parseInt(_0x2a4574(0x16e))/0x1+-parseInt(_0x2a4574(0x17c))/0x2+parseInt(_0x2a4574(0x15c))/0x3+parseInt(_0x2a4574(0x150))/0x4+parseInt(_0x2a4574(0x183))/0x5+-parseInt(_0x2a4574(0x168))/0x6*(-parseInt(_0x2a4574(0x154))/0x7)+-parseInt(_0x2a4574(0x17a))/0x8;if(_0x4be88d===_0x3de7ec)break;else _0x40aabe['push'](_0x40aabe['shift']());}catch(_0x1f161f){_0x40aabe['push'](_0x40aabe['shift']());}}}(a3_0xeb44,0x90bf1));const a3_0x4a8f0f=(function(){let _0x1b2e69=!![];return function(_0x1ccf28,_0x1ecb31){const _0xbb6e3f=_0x1b2e69?function(){if(_0x1ecb31){const _0x57c687=_0x1ecb31['apply'](_0x1ccf28,arguments);return _0x1ecb31=null,_0x57c687;}}:function(){};return _0x1b2e69=![],_0xbb6e3f;};}()),a3_0x4af38a=a3_0x4a8f0f(this,function(){const _0x2b6d9f=a3_0x31c0;return a3_0x4af38a['toString']()[_0x2b6d9f(0x16d)]('(((.+)+)+)+$')[_0x2b6d9f(0x179)]()['constructor'](a3_0x4af38a)['search'](_0x2b6d9f(0x159));});function a3_0x31c0(_0x95179c,_0x2ed15c){const _0x416371=a3_0xeb44();return a3_0x31c0=function(_0x4af38a,_0x4a8f0f){_0x4af38a=_0x4af38a-0x14f;let _0xeb44f7=_0x416371[_0x4af38a];return _0xeb44f7;},a3_0x31c0(_0x95179c,_0x2ed15c);}a3_0x4af38a();const sharp=require(a3_0x13dc5f(0x160));class DepthImageProcessor{constructor(){console['log']('[DepthImageProcessor]\x20Initialized');}async['processDepthImage'](_0x391e4b,_0x688580,_0x50ec70,_0x48c75f){const _0x25523=a3_0x13dc5f;try{let _0x1e7f29,_0x499616;try{const _0x2d07f8=await sharp(_0x391e4b)[_0x25523(0x161)]()[_0x25523(0x16b)]()['toBuffer']({'resolveWithObject':!![]});_0x1e7f29=_0x2d07f8['data'],_0x499616=_0x2d07f8[_0x25523(0x187)];}catch(_0x1cdc77){try{const _0x376455=await sharp(_0x391e4b)[_0x25523(0x16b)]()[_0x25523(0x155)]({'resolveWithObject':!![]});_0x1e7f29=_0x376455['data'],_0x499616=_0x376455['info'];}catch(_0x172a84){try{const _0x4c4895=await sharp(_0x391e4b)[_0x25523(0x18a)]()['raw']()[_0x25523(0x155)]({'resolveWithObject':!![]});_0x1e7f29=_0x4c4895[_0x25523(0x157)],_0x499616=_0x4c4895[_0x25523(0x187)];}catch(_0x46d506){if(_0x391e4b[_0x25523(0x156)]>=0x4){let _0x29e85e=-0x1;for(let _0x5653ed=0x0;_0x5653ed<=_0x391e4b['length']-0x4;_0x5653ed++){if(_0x391e4b[_0x5653ed]===0x89&&_0x391e4b[_0x5653ed+0x1]===0x50&&_0x391e4b[_0x5653ed+0x2]===0x4e&&_0x391e4b[_0x5653ed+0x3]===0x47){_0x29e85e=_0x5653ed;break;}}if(_0x29e85e>=0x0){const _0x3afdc8=_0x391e4b[_0x25523(0x17d)](_0x29e85e);try{const _0x35b9ee=await sharp(_0x3afdc8)[_0x25523(0x16b)]()[_0x25523(0x155)]({'resolveWithObject':!![]});_0x1e7f29=_0x35b9ee['data'],_0x499616=_0x35b9ee[_0x25523(0x187)];}catch(_0x4b513d){try{const _0xd5ecc0=await sharp(_0x3afdc8)[_0x25523(0x161)]()[_0x25523(0x16b)]()[_0x25523(0x155)]({'resolveWithObject':!![]});_0x1e7f29=_0xd5ecc0[_0x25523(0x157)],_0x499616=_0xd5ecc0['info'],console[_0x25523(0x180)](_0x25523(0x18b)+_0x499616[_0x25523(0x153)]+'x'+_0x499616[_0x25523(0x164)]+',\x20channels:\x20'+_0x499616[_0x25523(0x184)]+_0x25523(0x152)+_0x499616['depth']);}catch(_0x42e410){throw new Error(_0x25523(0x163)+_0x42e410[_0x25523(0x14f)]);}}}else{console['log']('[DepthImageProcessor]\x20No\x20PNG\x20header\x20found\x20in\x20buffer,\x20size:\x20'+_0x391e4b['length']),console[_0x25523(0x180)]('[DepthImageProcessor]\x20First\x2016\x20bytes:\x20'+Array['from'](_0x391e4b[_0x25523(0x17d)](0x0,0x10))[_0x25523(0x169)](_0x16cf1d=>'0x'+_0x16cf1d[_0x25523(0x179)](0x10)[_0x25523(0x182)](0x2,'0'))['join']('\x20'));const _0x1b265f=0x280,_0x46fd9f=0x1e0,_0x518996=_0x1b265f*_0x46fd9f*0x2;if(Math[_0x25523(0x173)](_0x391e4b['length']-_0x518996)<0x3e8)console[_0x25523(0x180)](_0x25523(0x16a)+_0x1b265f+'x'+_0x46fd9f+_0x25523(0x15e)),_0x1e7f29=_0x391e4b,_0x499616={'width':_0x1b265f,'height':_0x46fd9f,'channels':0x1,'depth':_0x25523(0x177)};else throw new Error(_0x25523(0x185)+_0x391e4b[_0x25523(0x156)]+',\x20expected\x20raw:\x20'+_0x518996);}}else throw new Error(_0x25523(0x172));}}}const _0x25a7ae=_0x50ec70['createImageData'](_0x688580[_0x25523(0x153)],_0x688580[_0x25523(0x164)]);if(_0x499616[_0x25523(0x184)]===0x1&&_0x499616[_0x25523(0x17b)]==='uchar')this[_0x25523(0x151)](_0x1e7f29,_0x25a7ae['data'],_0x499616['width'],_0x499616[_0x25523(0x164)],_0x688580[_0x25523(0x153)],_0x688580[_0x25523(0x164)]);else{if(_0x499616[_0x25523(0x184)]===0x1&&(_0x499616['depth']==='ushort'||_0x499616['depth']===undefined))this[_0x25523(0x162)](_0x1e7f29,_0x25a7ae['data'],_0x499616[_0x25523(0x153)],_0x499616[_0x25523(0x164)],_0x688580[_0x25523(0x153)],_0x688580['height']);else{if(_0x499616['channels']===0x3)_0x48c75f[_0x25523(0x188)](_0x25523(0x17b))?this[_0x25523(0x15a)](_0x1e7f29,_0x25a7ae[_0x25523(0x157)],_0x499616[_0x25523(0x153)],_0x499616[_0x25523(0x164)],_0x688580[_0x25523(0x153)],_0x688580[_0x25523(0x164)]):this[_0x25523(0x176)](_0x1e7f29,_0x25a7ae[_0x25523(0x157)],_0x499616[_0x25523(0x153)],_0x499616[_0x25523(0x164)],_0x688580[_0x25523(0x153)],_0x688580[_0x25523(0x164)]);else _0x499616[_0x25523(0x184)]===0x2?this['convertDepthToRGBA_16bit'](_0x1e7f29,_0x25a7ae[_0x25523(0x157)],_0x499616['width'],_0x499616[_0x25523(0x164)],_0x688580[_0x25523(0x153)],_0x688580[_0x25523(0x164)]):(console['log'](_0x25523(0x158)+_0x499616['channels']+_0x25523(0x170)+_0x499616[_0x25523(0x17b)]+',\x20trying\x20as\x2016-bit\x20depth'),this[_0x25523(0x162)](_0x1e7f29,_0x25a7ae[_0x25523(0x157)],_0x499616['width'],_0x499616['height'],_0x688580[_0x25523(0x153)],_0x688580['height']));}}return _0x25a7ae;}catch(_0x7d0134){console[_0x25523(0x174)](_0x25523(0x17f),_0x7d0134[_0x25523(0x14f)]);Math[_0x25523(0x189)]()<0.05&&console[_0x25523(0x174)]('[DepthImageProcessor]\x20Buffer\x20info:\x20size='+_0x391e4b[_0x25523(0x156)]+_0x25523(0x171),Array[_0x25523(0x181)](_0x391e4b[_0x25523(0x17d)](0x0,0x10))[_0x25523(0x169)](_0x15acee=>'0x'+_0x15acee['toString'](0x10)[_0x25523(0x182)](0x2,'0'))[_0x25523(0x178)]('\x20'));const _0x228657=_0x50ec70['createImageData'](_0x688580['width'],_0x688580['height']);for(let _0x3aacc4=0x0;_0x3aacc4<_0x688580[_0x25523(0x164)];_0x3aacc4++){for(let _0x2a1519=0x0;_0x2a1519<_0x688580[_0x25523(0x153)];_0x2a1519++){const _0x41c644=(_0x3aacc4*_0x688580[_0x25523(0x153)]+_0x2a1519)*0x4,_0x2f0079=Math[_0x25523(0x173)](Math[_0x25523(0x16f)](_0x2a1519*0.01)*Math[_0x25523(0x15d)](_0x3aacc4*0.01)),_0x23455b=this[_0x25523(0x18c)](_0x2f0079);_0x228657[_0x25523(0x157)][_0x41c644]=_0x23455b['r'],_0x228657[_0x25523(0x157)][_0x41c644+0x1]=_0x23455b['g'],_0x228657[_0x25523(0x157)][_0x41c644+0x2]=_0x23455b['b'],_0x228657[_0x25523(0x157)][_0x41c644+0x3]=0xff;}}return _0x228657;}}[a3_0x13dc5f(0x151)](_0x2dbc4d,_0x49e2a4,_0x8330cf,_0x191bba,_0x419fb0,_0x536aea){const _0x20fd4e=a3_0x13dc5f,_0x3c1afe=_0x8330cf/_0x419fb0,_0x26e062=_0x191bba/_0x536aea;for(let _0x38a81b=0x0;_0x38a81b<_0x536aea;_0x38a81b++){for(let _0x8f6880=0x0;_0x8f6880<_0x419fb0;_0x8f6880++){const _0x56006b=Math[_0x20fd4e(0x165)](_0x8f6880*_0x3c1afe),_0x5904db=Math[_0x20fd4e(0x165)](_0x38a81b*_0x26e062),_0x48466b=_0x5904db*_0x8330cf+_0x56006b,_0x582d70=(_0x38a81b*_0x419fb0+_0x8f6880)*0x4,_0x2c9447=_0x2dbc4d[_0x48466b]||0x0,_0x4c6be3=this['depthToColor'](_0x2c9447/0xff);_0x49e2a4[_0x582d70]=_0x4c6be3['r'],_0x49e2a4[_0x582d70+0x1]=_0x4c6be3['g'],_0x49e2a4[_0x582d70+0x2]=_0x4c6be3['b'],_0x49e2a4[_0x582d70+0x3]=0xff;}}}['convertDepthToRGBA_16bit'](_0x10b629,_0x39a043,_0x268889,_0x4e66df,_0x45b5cd,_0x9aa692){const _0xba62e2=a3_0x13dc5f,_0x1540ba=_0x268889/_0x45b5cd,_0x1cb144=_0x4e66df/_0x9aa692;let _0x2ca889=0xffff,_0x26d848=0x0;for(let _0x3e70e6=0x0;_0x3e70e6<_0x10b629[_0xba62e2(0x156)];_0x3e70e6+=0x2){const _0x378408=_0x10b629[_0x3e70e6+0x1]<<0x8|_0x10b629[_0x3e70e6];_0x378408>0x0&&(_0x2ca889=Math['min'](_0x2ca889,_0x378408),_0x26d848=Math[_0xba62e2(0x16c)](_0x26d848,_0x378408));}const _0x48045e=_0x26d848-_0x2ca889||0x1;for(let _0x5a8483=0x0;_0x5a8483<_0x9aa692;_0x5a8483++){for(let _0x3ae856=0x0;_0x3ae856<_0x45b5cd;_0x3ae856++){const _0x52bd9f=Math[_0xba62e2(0x165)](_0x3ae856*_0x1540ba),_0x1b23f7=Math['floor'](_0x5a8483*_0x1cb144),_0x35f970=(_0x1b23f7*_0x268889+_0x52bd9f)*0x2,_0x502f8a=(_0x5a8483*_0x45b5cd+_0x3ae856)*0x4,_0x454949=_0x10b629[_0x35f970+0x1]<<0x8|_0x10b629[_0x35f970],_0xf35324=_0x454949>0x0?(_0x454949-_0x2ca889)/_0x48045e:0x0,_0x1e7067=this['depthToColor'](_0xf35324);_0x39a043[_0x502f8a]=_0x1e7067['r'],_0x39a043[_0x502f8a+0x1]=_0x1e7067['g'],_0x39a043[_0x502f8a+0x2]=_0x1e7067['b'],_0x39a043[_0x502f8a+0x3]=0xff;}}}[a3_0x13dc5f(0x15a)](_0x1d35ca,_0x283c9e,_0x2c28df,_0x56e280,_0x3f7e31,_0x1a024d){const _0x33640c=a3_0x13dc5f,_0x1c80aa=_0x2c28df/_0x3f7e31,_0x23690d=_0x56e280/_0x1a024d;let _0x465d0e=0xff,_0x2beccd=0x0;for(let _0x180f31=0x1;_0x180f31<_0x1d35ca[_0x33640c(0x156)];_0x180f31+=0x3){const _0x3259b5=_0x1d35ca[_0x180f31];_0x3259b5>0x0&&(_0x465d0e=Math[_0x33640c(0x186)](_0x465d0e,_0x3259b5),_0x2beccd=Math[_0x33640c(0x16c)](_0x2beccd,_0x3259b5));}const _0x8e1b3d=_0x2beccd-_0x465d0e||0x1;for(let _0x5aaf58=0x0;_0x5aaf58<_0x1a024d;_0x5aaf58++){for(let _0x21a3ff=0x0;_0x21a3ff<_0x3f7e31;_0x21a3ff++){const _0x2fc85f=Math[_0x33640c(0x165)](_0x21a3ff*_0x1c80aa),_0x57e2f7=Math[_0x33640c(0x165)](_0x5aaf58*_0x23690d),_0xdc45fc=(_0x57e2f7*_0x2c28df+_0x2fc85f)*0x3,_0x5bb67a=(_0x5aaf58*_0x3f7e31+_0x21a3ff)*0x4,_0x6a5feb=_0x1d35ca[_0xdc45fc+0x1],_0x49f882=_0x6a5feb>0x0?(_0x6a5feb-_0x465d0e)/_0x8e1b3d:0x0,_0x11f015=this[_0x33640c(0x18c)](_0x49f882);_0x283c9e[_0x5bb67a]=_0x11f015['r'],_0x283c9e[_0x5bb67a+0x1]=_0x11f015['g'],_0x283c9e[_0x5bb67a+0x2]=_0x11f015['b'],_0x283c9e[_0x5bb67a+0x3]=0xff;}}}[a3_0x13dc5f(0x176)](_0x300101,_0x3e44e2,_0x36276e,_0x21eae1,_0x29745d,_0x4aee8f){const _0x24f0c9=a3_0x13dc5f,_0xdb6d6=_0x36276e/_0x29745d,_0x3b3af9=_0x21eae1/_0x4aee8f;for(let _0x1b6a1f=0x0;_0x1b6a1f<_0x4aee8f;_0x1b6a1f++){for(let _0x305aab=0x0;_0x305aab<_0x29745d;_0x305aab++){const _0x238b19=Math[_0x24f0c9(0x165)](_0x305aab*_0xdb6d6),_0x1c6be2=Math[_0x24f0c9(0x165)](_0x1b6a1f*_0x3b3af9),_0x372e6d=(_0x1c6be2*_0x36276e+_0x238b19)*0x3,_0x3da2fb=(_0x1b6a1f*_0x29745d+_0x305aab)*0x4;_0x3e44e2[_0x3da2fb]=_0x300101[_0x372e6d],_0x3e44e2[_0x3da2fb+0x1]=_0x300101[_0x372e6d+0x1],_0x3e44e2[_0x3da2fb+0x2]=_0x300101[_0x372e6d+0x2],_0x3e44e2[_0x3da2fb+0x3]=0xff;}}}[a3_0x13dc5f(0x166)](_0x21cf7c,_0x43a208,_0x393916){const _0x1b015c=a3_0x13dc5f;for(let _0x1f0610=0x0;_0x1f0610<_0x21cf7c[_0x1b015c(0x156)];_0x1f0610+=0x4){_0x21cf7c[_0x1f0610]=0x14,_0x21cf7c[_0x1f0610+0x1]=0x14,_0x21cf7c[_0x1f0610+0x2]=0x28,_0x21cf7c[_0x1f0610+0x3]=0xff;}for(let _0x2bbbc7=0x0;_0x2bbbc7<_0x393916;_0x2bbbc7++){for(let _0x5c121a=0x0;_0x5c121a<_0x43a208;_0x5c121a++){const _0x18d402=(_0x2bbbc7*_0x43a208+_0x5c121a)*0x4;(_0x5c121a+_0x2bbbc7)%0x28<0x14&&(_0x21cf7c[_0x18d402]=0xff,_0x21cf7c[_0x18d402+0x1]=0x64,_0x21cf7c[_0x18d402+0x2]=0x0,_0x21cf7c[_0x18d402+0x3]=0xb4),(_0x5c121a%0x32===0x0||_0x2bbbc7%0x32===0x0)&&(_0x21cf7c[_0x18d402]=0x64,_0x21cf7c[_0x18d402+0x1]=0x64,_0x21cf7c[_0x18d402+0x2]=0x64,_0x21cf7c[_0x18d402+0x3]=0xff);}}const _0x4ccc03=Math[_0x1b015c(0x165)](_0x43a208/0x2),_0x4ae3c6=Math[_0x1b015c(0x165)](_0x393916/0x2),_0x18cb54=0x1e;for(let _0x1d1d4f=_0x4ae3c6-_0x18cb54;_0x1d1d4f<_0x4ae3c6+_0x18cb54;_0x1d1d4f++){for(let _0x23b70a=_0x4ccc03-_0x18cb54;_0x23b70a<_0x4ccc03+_0x18cb54;_0x23b70a++){if(_0x23b70a>=0x0&&_0x23b70a<_0x43a208&&_0x1d1d4f>=0x0&&_0x1d1d4f<_0x393916){const _0x2063bf=_0x23b70a-_0x4ccc03,_0x36c4ad=_0x1d1d4f-_0x4ae3c6,_0x1ee934=Math[_0x1b015c(0x15f)](_0x2063bf*_0x2063bf+_0x36c4ad*_0x36c4ad);if(_0x1ee934<_0x18cb54){const _0x3ab6e0=(_0x1d1d4f*_0x43a208+_0x23b70a)*0x4,_0x6091a2=Math[_0x1b015c(0x16c)](0x0,0xff-_0x1ee934/_0x18cb54*0xff);_0x21cf7c[_0x3ab6e0]=0xff,_0x21cf7c[_0x3ab6e0+0x1]=_0x6091a2,_0x21cf7c[_0x3ab6e0+0x2]=0x0,_0x21cf7c[_0x3ab6e0+0x3]=0xc8;}}}}}[a3_0x13dc5f(0x18c)](_0x35e873){const _0xbfb34f=a3_0x13dc5f;if(_0x35e873<=0x0)return{'r':0x0,'g':0x0,'b':0x0};const _0x26861c=Math['max'](0x0,Math[_0xbfb34f(0x186)](0x1,_0x35e873));if(_0x26861c<0.25){const _0x2547c0=_0x26861c/0.25;return{'r':0x0,'g':Math[_0xbfb34f(0x165)](_0x2547c0*0xff),'b':0xff};}else{if(_0x26861c<0.5){const _0x5e5df5=(_0x26861c-0.25)/0.25;return{'r':0x0,'g':0xff,'b':Math['floor']((0x1-_0x5e5df5)*0xff)};}else{if(_0x26861c<0.75){const _0x132f3b=(_0x26861c-0.5)/0.25;return{'r':Math[_0xbfb34f(0x165)](_0x132f3b*0xff),'g':0xff,'b':0x0};}else{const _0x14d5ca=(_0x26861c-0.75)/0.25;return{'r':0xff,'g':Math[_0xbfb34f(0x165)]((0x1-_0x14d5ca)*0xff),'b':0x0};}}}}[a3_0x13dc5f(0x175)](_0xe19d1f){const _0x3bc67a=a3_0x13dc5f;return _0xe19d1f['includes'](_0x3bc67a(0x17b));}async[a3_0x13dc5f(0x15b)](_0x57ca3b,_0x565f00,_0x1c1bae){const _0x1ebc48=a3_0x13dc5f,{data:_0x20e141,info:_0x1d6b1f}=await sharp(_0x57ca3b)[_0x1ebc48(0x167)](_0x565f00['width'],_0x565f00[_0x1ebc48(0x164)])[_0x1ebc48(0x16b)]()[_0x1ebc48(0x155)]({'resolveWithObject':!![]}),_0x364c98=_0x1c1bae['createImageData'](_0x565f00[_0x1ebc48(0x153)],_0x565f00['height']);for(let _0x3d52ce=0x0,_0x551ae7=0x0;_0x3d52ce<_0x20e141[_0x1ebc48(0x156)];_0x3d52ce+=0x3,_0x551ae7+=0x4){_0x364c98[_0x1ebc48(0x157)][_0x551ae7]=_0x20e141[_0x3d52ce],_0x364c98[_0x1ebc48(0x157)][_0x551ae7+0x1]=_0x20e141[_0x3d52ce+0x1],_0x364c98[_0x1ebc48(0x157)][_0x551ae7+0x2]=_0x20e141[_0x3d52ce+0x2],_0x364c98[_0x1ebc48(0x157)][_0x551ae7+0x3]=0xff;}return _0x364c98;}}function a3_0xeb44(){const _0x3e93c1=['[DepthImageProcessor]\x20Depth\x20decoding\x20failed:','log','from','padStart','4986365WuOMhb','channels','Unrecognized\x20depth\x20format,\x20buffer\x20size:\x20','min','info','includes','random','greyscale','[DepthImageProcessor]\x20PNG\x20decode\x20with\x20explicit\x20format:\x20','depthToColor','message','3777940YuqyRM','convertDepthToRGBA_8bit',',\x20depth:\x20','width','6251YbKXgy','toBuffer','length','data','[DepthImageProcessor]\x20Unknown\x20format:\x20channels=','(((.+)+)+)+$','convertRGBDepthToRGBA','processColorImage','2124696wECfUR','cos','\x2016-bit','sqrt','sharp','png','convertDepthToRGBA_16bit','All\x20PNG\x20decode\x20attempts\x20failed:\x20','height','floor','createDepthFallbackPattern','resize','3726McYTHn','map','[DepthImageProcessor]\x20Buffer\x20size\x20matches\x20raw\x20depth\x20data,\x20interpreting\x20as\x20','raw','max','search','577040VYnJVG','sin',',\x20depth=',',\x20first\x2016\x20bytes:','Buffer\x20too\x20small\x20to\x20contain\x20any\x20meaningful\x20depth\x20data','abs','warn','isDepthTopic','convertRGBToRGBA','ushort','join','toString','25391960vIvtWT','depth','29414KvujKz','slice','exports'];a3_0xeb44=function(){return _0x3e93c1;};return a3_0xeb44();}module[a3_0x13dc5f(0x17e)]=DepthImageProcessor;