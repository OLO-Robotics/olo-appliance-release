const a3_0x8aef90=a3_0x3e0a;(function(_0x4efe3d,_0x118d2e){const _0x152025=a3_0x3e0a,_0xee167e=_0x4efe3d();while(!![]){try{const _0x4ecc1c=parseInt(_0x152025(0xab))/0x1*(parseInt(_0x152025(0x9c))/0x2)+parseInt(_0x152025(0xa9))/0x3*(-parseInt(_0x152025(0x97))/0x4)+parseInt(_0x152025(0xa0))/0x5+parseInt(_0x152025(0x8d))/0x6+parseInt(_0x152025(0x83))/0x7+parseInt(_0x152025(0x9f))/0x8+-parseInt(_0x152025(0xb4))/0x9;if(_0x4ecc1c===_0x118d2e)break;else _0xee167e['push'](_0xee167e['shift']());}catch(_0x2c3de4){_0xee167e['push'](_0xee167e['shift']());}}}(a3_0x66b6,0x4a4c1));const a3_0x31e555=(function(){let _0x2673e9=!![];return function(_0x17a0ec,_0x5d2d6f){const _0x25d87c=_0x2673e9?function(){const _0x3397c6=a3_0x3e0a;if(_0x5d2d6f){const _0x5e3e95=_0x5d2d6f[_0x3397c6(0xa6)](_0x17a0ec,arguments);return _0x5d2d6f=null,_0x5e3e95;}}:function(){};return _0x2673e9=![],_0x25d87c;};}()),a3_0xb73c69=a3_0x31e555(this,function(){const _0x48bd19=a3_0x3e0a;return a3_0xb73c69[_0x48bd19(0xb3)]()[_0x48bd19(0x7e)]('(((.+)+)+)+$')[_0x48bd19(0xb3)]()[_0x48bd19(0xa4)](a3_0xb73c69)['search'](_0x48bd19(0x9a));});a3_0xb73c69();const sharp=require('sharp');class DepthImageProcessor{constructor(){const _0x35ad22=a3_0x3e0a;console['log'](_0x35ad22(0x93));}async['processDepthImage'](_0x440be7,_0x15cfa1,_0x39da2a,_0x498f87){const _0x454440=a3_0x3e0a;try{let _0x40c72a,_0x50ce37;try{const _0x45441c=await sharp(_0x440be7)[_0x454440(0x8b)]()[_0x454440(0x8f)]()[_0x454440(0x82)]({'resolveWithObject':!![]});_0x40c72a=_0x45441c[_0x454440(0x7f)],_0x50ce37=_0x45441c[_0x454440(0xaf)];}catch(_0x2c72b6){try{const _0x45c2b4=await sharp(_0x440be7)[_0x454440(0x8f)]()['toBuffer']({'resolveWithObject':!![]});_0x40c72a=_0x45c2b4['data'],_0x50ce37=_0x45c2b4[_0x454440(0xaf)];}catch(_0x291819){try{const _0x106bbe=await sharp(_0x440be7)[_0x454440(0x96)]()[_0x454440(0x8f)]()[_0x454440(0x82)]({'resolveWithObject':!![]});_0x40c72a=_0x106bbe['data'],_0x50ce37=_0x106bbe[_0x454440(0xaf)];}catch(_0x4c3c7b){if(_0x440be7['length']>=0x4){let _0x25102f=-0x1;for(let _0x362627=0x0;_0x362627<=_0x440be7[_0x454440(0xb6)]-0x4;_0x362627++){if(_0x440be7[_0x362627]===0x89&&_0x440be7[_0x362627+0x1]===0x50&&_0x440be7[_0x362627+0x2]===0x4e&&_0x440be7[_0x362627+0x3]===0x47){_0x25102f=_0x362627;break;}}if(_0x25102f>=0x0){const _0x394da3=_0x440be7[_0x454440(0xb5)](_0x25102f);try{const _0x498eea=await sharp(_0x394da3)[_0x454440(0x8f)]()['toBuffer']({'resolveWithObject':!![]});_0x40c72a=_0x498eea[_0x454440(0x7f)],_0x50ce37=_0x498eea[_0x454440(0xaf)];}catch(_0x2eeab0){try{const _0x257320=await sharp(_0x394da3)[_0x454440(0x8b)]()[_0x454440(0x8f)]()['toBuffer']({'resolveWithObject':!![]});_0x40c72a=_0x257320[_0x454440(0x7f)],_0x50ce37=_0x257320[_0x454440(0xaf)],console['log']('[DepthImageProcessor]\x20PNG\x20decode\x20with\x20explicit\x20format:\x20'+_0x50ce37['width']+'x'+_0x50ce37['height']+_0x454440(0xb2)+_0x50ce37[_0x454440(0x9e)]+_0x454440(0xac)+_0x50ce37[_0x454440(0x94)]);}catch(_0x1f9e62){throw new Error(_0x454440(0xb7)+_0x1f9e62[_0x454440(0x8e)]);}}}else{console['log'](_0x454440(0x99)+_0x440be7['length']),console[_0x454440(0x80)](_0x454440(0xb9)+Array[_0x454440(0x92)](_0x440be7[_0x454440(0xb5)](0x0,0x10))[_0x454440(0x8a)](_0x567afd=>'0x'+_0x567afd[_0x454440(0xb3)](0x10)[_0x454440(0xa8)](0x2,'0'))['join']('\x20'));const _0x2c6f88=0x280,_0x2ccba5=0x1e0,_0x4a8cc=_0x2c6f88*_0x2ccba5*0x2;if(Math[_0x454440(0xa2)](_0x440be7['length']-_0x4a8cc)<0x3e8)console[_0x454440(0x80)]('[DepthImageProcessor]\x20Buffer\x20size\x20matches\x20raw\x20depth\x20data,\x20interpreting\x20as\x20'+_0x2c6f88+'x'+_0x2ccba5+_0x454440(0x98)),_0x40c72a=_0x440be7,_0x50ce37={'width':_0x2c6f88,'height':_0x2ccba5,'channels':0x1,'depth':_0x454440(0x9b)};else throw new Error(_0x454440(0x89)+_0x440be7[_0x454440(0xb6)]+_0x454440(0xba)+_0x4a8cc);}}else throw new Error('Buffer\x20too\x20small\x20to\x20contain\x20any\x20meaningful\x20depth\x20data');}}}const _0x4bd2a7=_0x39da2a[_0x454440(0xa3)](_0x15cfa1[_0x454440(0xaa)],_0x15cfa1[_0x454440(0x91)]);if(_0x50ce37[_0x454440(0x9e)]===0x1&&_0x50ce37[_0x454440(0x94)]==='uchar')this[_0x454440(0xa1)](_0x40c72a,_0x4bd2a7[_0x454440(0x7f)],_0x50ce37[_0x454440(0xaa)],_0x50ce37[_0x454440(0x91)],_0x15cfa1['width'],_0x15cfa1['height']);else{if(_0x50ce37[_0x454440(0x9e)]===0x1&&(_0x50ce37[_0x454440(0x94)]===_0x454440(0x9b)||_0x50ce37['depth']===undefined))this['convertDepthToRGBA_16bit'](_0x40c72a,_0x4bd2a7[_0x454440(0x7f)],_0x50ce37[_0x454440(0xaa)],_0x50ce37['height'],_0x15cfa1[_0x454440(0xaa)],_0x15cfa1[_0x454440(0x91)]);else{if(_0x50ce37[_0x454440(0x9e)]===0x3)_0x498f87['includes'](_0x454440(0x94))?this[_0x454440(0x90)](_0x40c72a,_0x4bd2a7['data'],_0x50ce37[_0x454440(0xaa)],_0x50ce37[_0x454440(0x91)],_0x15cfa1['width'],_0x15cfa1['height']):this['convertRGBToRGBA'](_0x40c72a,_0x4bd2a7[_0x454440(0x7f)],_0x50ce37[_0x454440(0xaa)],_0x50ce37['height'],_0x15cfa1[_0x454440(0xaa)],_0x15cfa1['height']);else _0x50ce37[_0x454440(0x9e)]===0x2?this['convertDepthToRGBA_16bit'](_0x40c72a,_0x4bd2a7[_0x454440(0x7f)],_0x50ce37[_0x454440(0xaa)],_0x50ce37['height'],_0x15cfa1['width'],_0x15cfa1[_0x454440(0x91)]):(console['log']('[DepthImageProcessor]\x20Unknown\x20format:\x20channels='+_0x50ce37[_0x454440(0x9e)]+_0x454440(0xa7)+_0x50ce37[_0x454440(0x94)]+_0x454440(0x85)),this[_0x454440(0xb8)](_0x40c72a,_0x4bd2a7[_0x454440(0x7f)],_0x50ce37[_0x454440(0xaa)],_0x50ce37[_0x454440(0x91)],_0x15cfa1[_0x454440(0xaa)],_0x15cfa1[_0x454440(0x91)]));}}return _0x4bd2a7;}catch(_0x1eb89f){console[_0x454440(0x87)](_0x454440(0x88),_0x1eb89f['message']);Math[_0x454440(0xbb)]()<0.05&&console[_0x454440(0x87)]('[DepthImageProcessor]\x20Buffer\x20info:\x20size='+_0x440be7[_0x454440(0xb6)]+_0x454440(0x8c),Array[_0x454440(0x92)](_0x440be7[_0x454440(0xb5)](0x0,0x10))[_0x454440(0x8a)](_0x4484cb=>'0x'+_0x4484cb[_0x454440(0xb3)](0x10)[_0x454440(0xa8)](0x2,'0'))[_0x454440(0x95)]('\x20'));const _0x354144=_0x39da2a[_0x454440(0xa3)](_0x15cfa1[_0x454440(0xaa)],_0x15cfa1[_0x454440(0x91)]);for(let _0x3da0fe=0x0;_0x3da0fe<_0x15cfa1[_0x454440(0x91)];_0x3da0fe++){for(let _0xafddb6=0x0;_0xafddb6<_0x15cfa1[_0x454440(0xaa)];_0xafddb6++){const _0x358c20=(_0x3da0fe*_0x15cfa1[_0x454440(0xaa)]+_0xafddb6)*0x4,_0x5a4912=Math['abs'](Math[_0x454440(0xbe)](_0xafddb6*0.01)*Math[_0x454440(0x9d)](_0x3da0fe*0.01)),_0x571951=this['depthToColor'](_0x5a4912);_0x354144[_0x454440(0x7f)][_0x358c20]=_0x571951['r'],_0x354144[_0x454440(0x7f)][_0x358c20+0x1]=_0x571951['g'],_0x354144[_0x454440(0x7f)][_0x358c20+0x2]=_0x571951['b'],_0x354144[_0x454440(0x7f)][_0x358c20+0x3]=0xff;}}return _0x354144;}}[a3_0x8aef90(0xa1)](_0x215210,_0x2d28d9,_0x4904d4,_0x475bb0,_0x475a9c,_0x1ab06f){const _0x1ef244=a3_0x8aef90,_0xf94902=_0x4904d4/_0x475a9c,_0x249e01=_0x475bb0/_0x1ab06f;for(let _0xe76cbe=0x0;_0xe76cbe<_0x1ab06f;_0xe76cbe++){for(let _0x4f7b42=0x0;_0x4f7b42<_0x475a9c;_0x4f7b42++){const _0x432a16=Math[_0x1ef244(0xbc)](_0x4f7b42*_0xf94902),_0x1a6c1c=Math['floor'](_0xe76cbe*_0x249e01),_0x298ec5=_0x1a6c1c*_0x4904d4+_0x432a16,_0x5a0f86=(_0xe76cbe*_0x475a9c+_0x4f7b42)*0x4,_0x32a5a5=_0x215210[_0x298ec5]||0x0,_0x2cced1=this[_0x1ef244(0x84)](_0x32a5a5/0xff);_0x2d28d9[_0x5a0f86]=_0x2cced1['r'],_0x2d28d9[_0x5a0f86+0x1]=_0x2cced1['g'],_0x2d28d9[_0x5a0f86+0x2]=_0x2cced1['b'],_0x2d28d9[_0x5a0f86+0x3]=0xff;}}}[a3_0x8aef90(0xb8)](_0x36515c,_0x51edc3,_0x11c9b2,_0x4a22cf,_0x147ec3,_0x54162a){const _0x415885=a3_0x8aef90,_0x14d6aa=_0x11c9b2/_0x147ec3,_0x215d02=_0x4a22cf/_0x54162a;let _0x5e6cb4=0xffff,_0x49a6bc=0x0;for(let _0x151982=0x0;_0x151982<_0x36515c[_0x415885(0xb6)];_0x151982+=0x2){const _0x394e06=_0x36515c[_0x151982+0x1]<<0x8|_0x36515c[_0x151982];_0x394e06>0x0&&(_0x5e6cb4=Math[_0x415885(0xad)](_0x5e6cb4,_0x394e06),_0x49a6bc=Math[_0x415885(0x86)](_0x49a6bc,_0x394e06));}const _0x3459f5=_0x49a6bc-_0x5e6cb4||0x1;for(let _0x5f1b6f=0x0;_0x5f1b6f<_0x54162a;_0x5f1b6f++){for(let _0x3a3d0e=0x0;_0x3a3d0e<_0x147ec3;_0x3a3d0e++){const _0x20b9b1=Math[_0x415885(0xbc)](_0x3a3d0e*_0x14d6aa),_0x3aa69f=Math[_0x415885(0xbc)](_0x5f1b6f*_0x215d02),_0x2a25b7=(_0x3aa69f*_0x11c9b2+_0x20b9b1)*0x2,_0x1beb91=(_0x5f1b6f*_0x147ec3+_0x3a3d0e)*0x4,_0x115f96=_0x36515c[_0x2a25b7+0x1]<<0x8|_0x36515c[_0x2a25b7],_0x20ecf9=_0x115f96>0x0?(_0x115f96-_0x5e6cb4)/_0x3459f5:0x0,_0x44f91d=this[_0x415885(0x84)](_0x20ecf9);_0x51edc3[_0x1beb91]=_0x44f91d['r'],_0x51edc3[_0x1beb91+0x1]=_0x44f91d['g'],_0x51edc3[_0x1beb91+0x2]=_0x44f91d['b'],_0x51edc3[_0x1beb91+0x3]=0xff;}}}[a3_0x8aef90(0x90)](_0x5037a6,_0x5aa4de,_0x4e10ea,_0x5035d6,_0x19644e,_0xc282d6){const _0x1cdf33=a3_0x8aef90,_0x59bcd6=_0x4e10ea/_0x19644e,_0x267284=_0x5035d6/_0xc282d6;let _0x4fb536=0xff,_0x34980d=0x0;for(let _0x374fca=0x1;_0x374fca<_0x5037a6[_0x1cdf33(0xb6)];_0x374fca+=0x3){const _0x36322d=_0x5037a6[_0x374fca];_0x36322d>0x0&&(_0x4fb536=Math[_0x1cdf33(0xad)](_0x4fb536,_0x36322d),_0x34980d=Math[_0x1cdf33(0x86)](_0x34980d,_0x36322d));}const _0x27a5ba=_0x34980d-_0x4fb536||0x1;for(let _0x53eacd=0x0;_0x53eacd<_0xc282d6;_0x53eacd++){for(let _0x5840bc=0x0;_0x5840bc<_0x19644e;_0x5840bc++){const _0x1b3819=Math[_0x1cdf33(0xbc)](_0x5840bc*_0x59bcd6),_0x2a6ca5=Math['floor'](_0x53eacd*_0x267284),_0x59daac=(_0x2a6ca5*_0x4e10ea+_0x1b3819)*0x3,_0x3eba38=(_0x53eacd*_0x19644e+_0x5840bc)*0x4,_0x4e5965=_0x5037a6[_0x59daac+0x1],_0x369352=_0x4e5965>0x0?(_0x4e5965-_0x4fb536)/_0x27a5ba:0x0,_0x251f08=this['depthToColor'](_0x369352);_0x5aa4de[_0x3eba38]=_0x251f08['r'],_0x5aa4de[_0x3eba38+0x1]=_0x251f08['g'],_0x5aa4de[_0x3eba38+0x2]=_0x251f08['b'],_0x5aa4de[_0x3eba38+0x3]=0xff;}}}[a3_0x8aef90(0xbd)](_0x47cad9,_0x196ed8,_0x588394,_0x2c5819,_0x4f7166,_0x469cca){const _0x55b502=a3_0x8aef90,_0x1278b1=_0x588394/_0x4f7166,_0x57cb85=_0x2c5819/_0x469cca;for(let _0x2c812e=0x0;_0x2c812e<_0x469cca;_0x2c812e++){for(let _0x1f299a=0x0;_0x1f299a<_0x4f7166;_0x1f299a++){const _0x379cf3=Math[_0x55b502(0xbc)](_0x1f299a*_0x1278b1),_0x213992=Math['floor'](_0x2c812e*_0x57cb85),_0x30cdaa=(_0x213992*_0x588394+_0x379cf3)*0x3,_0x19aa79=(_0x2c812e*_0x4f7166+_0x1f299a)*0x4;_0x196ed8[_0x19aa79]=_0x47cad9[_0x30cdaa],_0x196ed8[_0x19aa79+0x1]=_0x47cad9[_0x30cdaa+0x1],_0x196ed8[_0x19aa79+0x2]=_0x47cad9[_0x30cdaa+0x2],_0x196ed8[_0x19aa79+0x3]=0xff;}}}[a3_0x8aef90(0xae)](_0x1dc560,_0x1526d0,_0x4bf927){const _0x5f1008=a3_0x8aef90;for(let _0x91b777=0x0;_0x91b777<_0x1dc560[_0x5f1008(0xb6)];_0x91b777+=0x4){_0x1dc560[_0x91b777]=0x14,_0x1dc560[_0x91b777+0x1]=0x14,_0x1dc560[_0x91b777+0x2]=0x28,_0x1dc560[_0x91b777+0x3]=0xff;}for(let _0x36f9af=0x0;_0x36f9af<_0x4bf927;_0x36f9af++){for(let _0x3e7de1=0x0;_0x3e7de1<_0x1526d0;_0x3e7de1++){const _0x1fc937=(_0x36f9af*_0x1526d0+_0x3e7de1)*0x4;(_0x3e7de1+_0x36f9af)%0x28<0x14&&(_0x1dc560[_0x1fc937]=0xff,_0x1dc560[_0x1fc937+0x1]=0x64,_0x1dc560[_0x1fc937+0x2]=0x0,_0x1dc560[_0x1fc937+0x3]=0xb4),(_0x3e7de1%0x32===0x0||_0x36f9af%0x32===0x0)&&(_0x1dc560[_0x1fc937]=0x64,_0x1dc560[_0x1fc937+0x1]=0x64,_0x1dc560[_0x1fc937+0x2]=0x64,_0x1dc560[_0x1fc937+0x3]=0xff);}}const _0x3c74ec=Math[_0x5f1008(0xbc)](_0x1526d0/0x2),_0x3cc77d=Math[_0x5f1008(0xbc)](_0x4bf927/0x2),_0x58d40b=0x1e;for(let _0x2738f5=_0x3cc77d-_0x58d40b;_0x2738f5<_0x3cc77d+_0x58d40b;_0x2738f5++){for(let _0x5a8ec4=_0x3c74ec-_0x58d40b;_0x5a8ec4<_0x3c74ec+_0x58d40b;_0x5a8ec4++){if(_0x5a8ec4>=0x0&&_0x5a8ec4<_0x1526d0&&_0x2738f5>=0x0&&_0x2738f5<_0x4bf927){const _0x5e940e=_0x5a8ec4-_0x3c74ec,_0x3d7be5=_0x2738f5-_0x3cc77d,_0x128233=Math[_0x5f1008(0xb0)](_0x5e940e*_0x5e940e+_0x3d7be5*_0x3d7be5);if(_0x128233<_0x58d40b){const _0x464103=(_0x2738f5*_0x1526d0+_0x5a8ec4)*0x4,_0x16977a=Math[_0x5f1008(0x86)](0x0,0xff-_0x128233/_0x58d40b*0xff);_0x1dc560[_0x464103]=0xff,_0x1dc560[_0x464103+0x1]=_0x16977a,_0x1dc560[_0x464103+0x2]=0x0,_0x1dc560[_0x464103+0x3]=0xc8;}}}}}['depthToColor'](_0x6e455d){const _0x23a609=a3_0x8aef90;if(_0x6e455d<=0x0)return{'r':0x0,'g':0x0,'b':0x0};const _0x4e5151=Math[_0x23a609(0x86)](0x0,Math[_0x23a609(0xad)](0x1,_0x6e455d));if(_0x4e5151<0.25){const _0x3eabcf=_0x4e5151/0.25;return{'r':0x0,'g':Math[_0x23a609(0xbc)](_0x3eabcf*0xff),'b':0xff};}else{if(_0x4e5151<0.5){const _0x4534c8=(_0x4e5151-0.25)/0.25;return{'r':0x0,'g':0xff,'b':Math[_0x23a609(0xbc)]((0x1-_0x4534c8)*0xff)};}else{if(_0x4e5151<0.75){const _0x56a097=(_0x4e5151-0.5)/0.25;return{'r':Math['floor'](_0x56a097*0xff),'g':0xff,'b':0x0};}else{const _0x678e=(_0x4e5151-0.75)/0.25;return{'r':0xff,'g':Math['floor']((0x1-_0x678e)*0xff),'b':0x0};}}}}[a3_0x8aef90(0xb1)](_0x3f3389){const _0x33161d=a3_0x8aef90;return _0x3f3389['includes'](_0x33161d(0x94));}async[a3_0x8aef90(0x81)](_0x2063ae,_0x1f0f35,_0x117d48){const _0x154c0e=a3_0x8aef90,{data:_0x2f949c,info:_0x1ba0db}=await sharp(_0x2063ae)[_0x154c0e(0xa5)](_0x1f0f35[_0x154c0e(0xaa)],_0x1f0f35[_0x154c0e(0x91)])[_0x154c0e(0x8f)]()[_0x154c0e(0x82)]({'resolveWithObject':!![]}),_0x2b2766=_0x117d48[_0x154c0e(0xa3)](_0x1f0f35[_0x154c0e(0xaa)],_0x1f0f35[_0x154c0e(0x91)]);for(let _0x3ced7a=0x0,_0x1a3c0b=0x0;_0x3ced7a<_0x2f949c[_0x154c0e(0xb6)];_0x3ced7a+=0x3,_0x1a3c0b+=0x4){_0x2b2766['data'][_0x1a3c0b]=_0x2f949c[_0x3ced7a],_0x2b2766[_0x154c0e(0x7f)][_0x1a3c0b+0x1]=_0x2f949c[_0x3ced7a+0x1],_0x2b2766[_0x154c0e(0x7f)][_0x1a3c0b+0x2]=_0x2f949c[_0x3ced7a+0x2],_0x2b2766[_0x154c0e(0x7f)][_0x1a3c0b+0x3]=0xff;}return _0x2b2766;}}function a3_0x66b6(){const _0x3e0ab2=['[DepthImageProcessor]\x20First\x2016\x20bytes:\x20',',\x20expected\x20raw:\x20','random','floor','convertRGBToRGBA','sin','search','data','log','processColorImage','toBuffer','1400175qccSpE','depthToColor',',\x20trying\x20as\x2016-bit\x20depth','max','warn','[DepthImageProcessor]\x20Depth\x20decoding\x20failed:','Unrecognized\x20depth\x20format,\x20buffer\x20size:\x20','map','png',',\x20first\x2016\x20bytes:','3410070zrgxUI','message','raw','convertRGBDepthToRGBA','height','from','[DepthImageProcessor]\x20Initialized','depth','join','greyscale','2896jdGPnK','\x2016-bit','[DepthImageProcessor]\x20No\x20PNG\x20header\x20found\x20in\x20buffer,\x20size:\x20','(((.+)+)+)+$','ushort','2OTsZgx','cos','channels','4796720rfLxXU','800045XZTdAC','convertDepthToRGBA_8bit','abs','createImageData','constructor','resize','apply',',\x20depth=','padStart','1569qzQiBN','width','14019iNUWVV',',\x20depth:\x20','min','createDepthFallbackPattern','info','sqrt','isDepthTopic',',\x20channels:\x20','toString','7731135tCxfmT','slice','length','All\x20PNG\x20decode\x20attempts\x20failed:\x20','convertDepthToRGBA_16bit'];a3_0x66b6=function(){return _0x3e0ab2;};return a3_0x66b6();}function a3_0x3e0a(_0x5bd948,_0xcaf4fb){const _0x36aa8a=a3_0x66b6();return a3_0x3e0a=function(_0xb73c69,_0x31e555){_0xb73c69=_0xb73c69-0x7e;let _0x66b6e7=_0x36aa8a[_0xb73c69];return _0x66b6e7;},a3_0x3e0a(_0x5bd948,_0xcaf4fb);}module['exports']=DepthImageProcessor;