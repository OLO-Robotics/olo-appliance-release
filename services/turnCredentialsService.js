const a5_0x357cf1=a5_0x2751;(function(_0x371b34,_0x9cc311){const _0x582c12=a5_0x2751,_0x4c5234=_0x371b34();while(!![]){try{const _0x3ec611=parseInt(_0x582c12(0x18d))/0x1+-parseInt(_0x582c12(0x166))/0x2*(parseInt(_0x582c12(0x17d))/0x3)+parseInt(_0x582c12(0x18a))/0x4*(parseInt(_0x582c12(0x17a))/0x5)+parseInt(_0x582c12(0x18c))/0x6+parseInt(_0x582c12(0x181))/0x7*(-parseInt(_0x582c12(0x16c))/0x8)+parseInt(_0x582c12(0x190))/0x9*(-parseInt(_0x582c12(0x17e))/0xa)+-parseInt(_0x582c12(0x17c))/0xb;if(_0x3ec611===_0x9cc311)break;else _0x4c5234['push'](_0x4c5234['shift']());}catch(_0x47559b){_0x4c5234['push'](_0x4c5234['shift']());}}}(a5_0x56cb,0xca3b7));function a5_0x56cb(){const _0x514dda=['cacheExpiry','protocol','5DeLJRr','initialize','82764SSGTPU','35199geOwUs','6190pnGGef','[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials','end','3166394FehDsg','port','./auth','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','/webrtc/turn-credentials','getCredentials','credentialsCache','OLO-Appliance/1.0','6321020sgGhvw','getFallbackIceServers','4682196gxsGVF','1239543wsJweT','hostname','https:','10926QQqgJw','Bearer\x20','pathname','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','http','toString','isAuthenticated','https','log','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','getToken','iceServers','266JhLvWj','apply','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','8DLIevR','constructor','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','search','fetchCredentials','serverUrl','data','error','[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:','login','exports','clearCache'];a5_0x56cb=function(){return _0x514dda;};return a5_0x56cb();}function a5_0x2751(_0x576d56,_0xefd153){const _0x584959=a5_0x56cb();return a5_0x2751=function(_0x35ffbd,_0x4c1c7a){_0x35ffbd=_0x35ffbd-0x163;let _0x56cb9e=_0x584959[_0x35ffbd];return _0x56cb9e;},a5_0x2751(_0x576d56,_0xefd153);}const a5_0x4c1c7a=(function(){let _0x2f8efd=!![];return function(_0x395955,_0x1ee1be){const _0x425074=_0x2f8efd?function(){const _0xe56926=a5_0x2751;if(_0x1ee1be){const _0x50dc9e=_0x1ee1be[_0xe56926(0x167)](_0x395955,arguments);return _0x1ee1be=null,_0x50dc9e;}}:function(){};return _0x2f8efd=![],_0x425074;};}()),a5_0x35ffbd=a5_0x4c1c7a(this,function(){const _0x420eeb=a5_0x2751;return a5_0x35ffbd[_0x420eeb(0x195)]()[_0x420eeb(0x16f)]('(((.+)+)+)+$')[_0x420eeb(0x195)]()[_0x420eeb(0x16d)](a5_0x35ffbd)[_0x420eeb(0x16f)]('(((.+)+)+)+$');});a5_0x35ffbd();const https=require(a5_0x357cf1(0x197)),http=require(a5_0x357cf1(0x194)),authService=require(a5_0x357cf1(0x183));class ApplianceTurnCredentialsService{constructor(){const _0x5bb811=a5_0x357cf1;this['credentialsCache']=null,this[_0x5bb811(0x178)]=0x0,this['cacheDuration']=0xe10*0x3e8,this[_0x5bb811(0x171)]=null;}[a5_0x357cf1(0x17b)](_0x483c07){const _0x3c4723=a5_0x357cf1;this[_0x3c4723(0x171)]=_0x483c07,console['log'](_0x3c4723(0x174),_0x483c07);}async[a5_0x357cf1(0x170)](){const _0x491726=a5_0x357cf1;if(!this['serverUrl'])return console[_0x491726(0x173)](_0x491726(0x16e)),this['getFallbackIceServers']();if(!authService[_0x491726(0x196)]()){console[_0x491726(0x198)](_0x491726(0x193));const _0x55d9e6=await authService[_0x491726(0x175)]();if(!_0x55d9e6)return console[_0x491726(0x173)]('[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate'),this[_0x491726(0x18b)]();}try{console['log'](_0x491726(0x184));const _0x59d0f8=new URL(_0x491726(0x186),this[_0x491726(0x171)]),_0x42ea3e=_0x59d0f8[_0x491726(0x179)]===_0x491726(0x18f),_0xf197c3=_0x42ea3e?https:http,_0x3c80d1=authService[_0x491726(0x164)]();if(!_0x3c80d1)return console['error']('[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available'),this[_0x491726(0x18b)]();return new Promise((_0x168e39,_0x40a1bb)=>{const _0x4f0ac0=_0x491726,_0x4b0254={'hostname':_0x59d0f8[_0x4f0ac0(0x18e)],'port':_0x59d0f8[_0x4f0ac0(0x182)]||(_0x42ea3e?0x1bb:0x50),'path':_0x59d0f8[_0x4f0ac0(0x192)],'method':'GET','headers':{'User-Agent':_0x4f0ac0(0x189),'Authorization':_0x4f0ac0(0x191)+_0x3c80d1}},_0x40cd23=_0xf197c3['request'](_0x4b0254,_0x129d05=>{const _0x1b14e2=_0x4f0ac0;let _0x17a0a9='';_0x129d05['on'](_0x1b14e2(0x172),_0x1be027=>{_0x17a0a9+=_0x1be027;}),_0x129d05['on'](_0x1b14e2(0x180),()=>{const _0x33248e=_0x1b14e2;try{const _0x1f380f=JSON['parse'](_0x17a0a9);_0x1f380f['iceServers']?(console[_0x33248e(0x198)]('[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server'),_0x168e39(_0x1f380f[_0x33248e(0x165)])):(console['warn'](_0x33248e(0x185)),_0x168e39(this[_0x33248e(0x18b)]()));}catch(_0x133778){console['error'](_0x33248e(0x16a),_0x133778),_0x168e39(this['getFallbackIceServers']());}});});_0x40cd23['on'](_0x4f0ac0(0x173),_0x595f56=>{const _0x96bbd=_0x4f0ac0;console[_0x96bbd(0x173)]('[Appliance\x20TURN\x20Service]\x20Request\x20error:',_0x595f56),_0x168e39(this['getFallbackIceServers']());}),_0x40cd23['setTimeout'](0x2710,()=>{const _0x57f537=_0x4f0ac0;console[_0x57f537(0x173)](_0x57f537(0x169)),_0x40cd23['destroy'](),_0x168e39(this[_0x57f537(0x18b)]());}),_0x40cd23['end']();});}catch(_0x7f06c0){return console['error'](_0x491726(0x168),_0x7f06c0),this[_0x491726(0x18b)]();}}async[a5_0x357cf1(0x187)](){const _0x2a9dd3=a5_0x357cf1,_0x14cc21=Date['now']();if(this['credentialsCache']&&_0x14cc21<this[_0x2a9dd3(0x178)])return console[_0x2a9dd3(0x198)](_0x2a9dd3(0x17f)),this[_0x2a9dd3(0x188)];const _0x5f2301=await this[_0x2a9dd3(0x170)]();return this[_0x2a9dd3(0x188)]=_0x5f2301,this[_0x2a9dd3(0x178)]=_0x14cc21+this['cacheDuration'],console[_0x2a9dd3(0x198)](_0x2a9dd3(0x163)),_0x5f2301;}async['getIceServers'](){const _0x525d60=a5_0x357cf1;return await this[_0x525d60(0x187)]();}[a5_0x357cf1(0x18b)](){const _0x44af5e=a5_0x357cf1;return console[_0x44af5e(0x198)](_0x44af5e(0x16b)),[{'urls':'stun:stun.l.google.com:19302'},{'urls':'stun:stun1.l.google.com:19302'}];}[a5_0x357cf1(0x177)](){const _0x5b74e3=a5_0x357cf1;this[_0x5b74e3(0x188)]=null,this[_0x5b74e3(0x178)]=0x0,console[_0x5b74e3(0x198)]('[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared');}}module[a5_0x357cf1(0x176)]=new ApplianceTurnCredentialsService();