const a5_0x3e8699=a5_0x2cad;(function(_0x200110,_0x2ccc61){const _0x5b7892=a5_0x2cad,_0x292492=_0x200110();while(!![]){try{const _0x4e2b6=parseInt(_0x5b7892(0x1e5))/0x1+parseInt(_0x5b7892(0x1ee))/0x2*(-parseInt(_0x5b7892(0x1e3))/0x3)+-parseInt(_0x5b7892(0x1d2))/0x4*(-parseInt(_0x5b7892(0x1f0))/0x5)+parseInt(_0x5b7892(0x1c4))/0x6+-parseInt(_0x5b7892(0x1f1))/0x7+-parseInt(_0x5b7892(0x1df))/0x8*(parseInt(_0x5b7892(0x1e7))/0x9)+parseInt(_0x5b7892(0x1c7))/0xa;if(_0x4e2b6===_0x2ccc61)break;else _0x292492['push'](_0x292492['shift']());}catch(_0x49e247){_0x292492['push'](_0x292492['shift']());}}}(a5_0x3c1b,0x2c251));const a5_0x368ee8=(function(){let _0x2da95d=!![];return function(_0x361d8d,_0x5f32d4){const _0x25099c=_0x2da95d?function(){const _0x27ed7e=a5_0x2cad;if(_0x5f32d4){const _0xce78cd=_0x5f32d4[_0x27ed7e(0x1c1)](_0x361d8d,arguments);return _0x5f32d4=null,_0xce78cd;}}:function(){};return _0x2da95d=![],_0x25099c;};}()),a5_0x31788d=a5_0x368ee8(this,function(){const _0x1588c6=a5_0x2cad;return a5_0x31788d[_0x1588c6(0x1be)]()[_0x1588c6(0x1cc)](_0x1588c6(0x1c6))['toString']()[_0x1588c6(0x1cf)](a5_0x31788d)[_0x1588c6(0x1cc)](_0x1588c6(0x1c6));});function a5_0x2cad(_0x426ef8,_0x12b5ab){const _0x31a811=a5_0x3c1b();return a5_0x2cad=function(_0x31788d,_0x368ee8){_0x31788d=_0x31788d-0x1be;let _0x3c1b19=_0x31a811[_0x31788d];return _0x3c1b19;},a5_0x2cad(_0x426ef8,_0x12b5ab);}function a5_0x3c1b(){const _0x88ac66=['cacheExpiry','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','33KrAOgs','cacheDuration','161440mFCsOu','setTimeout','18WRSmCa','getToken','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','stun:stun1.l.google.com:19302','GET','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','fetchCredentials','36318qDDKUm','[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:','5JDIcMj','1364363aHlqDo','[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials','serverUrl','getFallbackIceServers','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','toString','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','apply','port','./auth','1375590ymlUKM','protocol','(((.+)+)+)+$','1572840LGeYDV','Bearer\x20','iceServers','[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared','warn','search','http','getIceServers','constructor','login','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','943816NqDaHu','log','OLO-Appliance/1.0','clearCache','exports','stun:stun.l.google.com:19302','getCredentials','isAuthenticated','now','https','destroy','credentialsCache','end','833872XRdLuE','error'];a5_0x3c1b=function(){return _0x88ac66;};return a5_0x3c1b();}a5_0x31788d();const https=require(a5_0x3e8699(0x1db)),http=require(a5_0x3e8699(0x1cd)),authService=require(a5_0x3e8699(0x1c3));class ApplianceTurnCredentialsService{constructor(){const _0x26caff=a5_0x3e8699;this[_0x26caff(0x1dd)]=null,this[_0x26caff(0x1e1)]=0x0,this[_0x26caff(0x1e4)]=0xe10*0x3e8,this[_0x26caff(0x1f3)]=null;}['initialize'](_0x4c5390){const _0x57778e=a5_0x3e8699;this[_0x57778e(0x1f3)]=_0x4c5390,console[_0x57778e(0x1d3)](_0x57778e(0x1ef),_0x4c5390);}async['fetchCredentials'](){const _0x2f5199=a5_0x3e8699;if(!this['serverUrl'])return console['error']('[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized'),this[_0x2f5199(0x1f4)]();if(!authService[_0x2f5199(0x1d9)]()){console[_0x2f5199(0x1d3)](_0x2f5199(0x1c0));const _0x4d9b85=await authService[_0x2f5199(0x1d0)]();if(!_0x4d9b85)return console[_0x2f5199(0x1e0)]('[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate'),this[_0x2f5199(0x1f4)]();}try{console[_0x2f5199(0x1d3)](_0x2f5199(0x1e9));const _0x24828d=new URL('/webrtc/turn-credentials',this['serverUrl']),_0x2bde10=_0x24828d[_0x2f5199(0x1c5)]==='https:',_0x4e5368=_0x2bde10?https:http,_0x2fe103=authService[_0x2f5199(0x1e8)]();if(!_0x2fe103)return console[_0x2f5199(0x1e0)]('[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available'),this[_0x2f5199(0x1f4)]();return new Promise((_0xbc5337,_0x1b2b69)=>{const _0x38aba4=_0x2f5199,_0x4ec9a2={'hostname':_0x24828d['hostname'],'port':_0x24828d[_0x38aba4(0x1c2)]||(_0x2bde10?0x1bb:0x50),'path':_0x24828d['pathname'],'method':_0x38aba4(0x1eb),'headers':{'User-Agent':_0x38aba4(0x1d4),'Authorization':_0x38aba4(0x1c8)+_0x2fe103}},_0x5f3adb=_0x4e5368['request'](_0x4ec9a2,_0x2acf87=>{let _0xb3a1d4='';_0x2acf87['on']('data',_0x41603f=>{_0xb3a1d4+=_0x41603f;}),_0x2acf87['on']('end',()=>{const _0x26070f=a5_0x2cad;try{const _0x39d70d=JSON['parse'](_0xb3a1d4);_0x39d70d[_0x26070f(0x1c9)]?(console[_0x26070f(0x1d3)]('[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server'),_0xbc5337(_0x39d70d[_0x26070f(0x1c9)])):(console[_0x26070f(0x1cb)]('[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback'),_0xbc5337(this[_0x26070f(0x1f4)]()));}catch(_0x4f4695){console['error'](_0x26070f(0x1ec),_0x4f4695),_0xbc5337(this[_0x26070f(0x1f4)]());}});});_0x5f3adb['on'](_0x38aba4(0x1e0),_0x45cdf9=>{const _0x13a887=_0x38aba4;console[_0x13a887(0x1e0)]('[Appliance\x20TURN\x20Service]\x20Request\x20error:',_0x45cdf9),_0xbc5337(this['getFallbackIceServers']());}),_0x5f3adb[_0x38aba4(0x1e6)](0x2710,()=>{const _0x170a31=_0x38aba4;console[_0x170a31(0x1e0)](_0x170a31(0x1d1)),_0x5f3adb[_0x170a31(0x1dc)](),_0xbc5337(this[_0x170a31(0x1f4)]());}),_0x5f3adb[_0x38aba4(0x1de)]();});}catch(_0x45a633){return console['error'](_0x2f5199(0x1f5),_0x45a633),this[_0x2f5199(0x1f4)]();}}async[a5_0x3e8699(0x1d8)](){const _0x275977=a5_0x3e8699,_0x516880=Date[_0x275977(0x1da)]();if(this[_0x275977(0x1dd)]&&_0x516880<this[_0x275977(0x1e1)])return console[_0x275977(0x1d3)](_0x275977(0x1f2)),this[_0x275977(0x1dd)];const _0x103db2=await this[_0x275977(0x1ed)]();return this[_0x275977(0x1dd)]=_0x103db2,this['cacheExpiry']=_0x516880+this['cacheDuration'],console['log'](_0x275977(0x1e2)),_0x103db2;}async[a5_0x3e8699(0x1ce)](){const _0x4b00c7=a5_0x3e8699;return await this[_0x4b00c7(0x1d8)]();}[a5_0x3e8699(0x1f4)](){const _0x55734e=a5_0x3e8699;return console[_0x55734e(0x1d3)](_0x55734e(0x1bf)),[{'urls':_0x55734e(0x1d7)},{'urls':_0x55734e(0x1ea)}];}[a5_0x3e8699(0x1d5)](){const _0x39be21=a5_0x3e8699;this[_0x39be21(0x1dd)]=null,this[_0x39be21(0x1e1)]=0x0,console['log'](_0x39be21(0x1ca));}}module[a5_0x3e8699(0x1d6)]=new ApplianceTurnCredentialsService();