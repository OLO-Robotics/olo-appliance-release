function a5_0x59eb(){const _0x3a2803=['456ekTEvo','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','getToken','pathname','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','3520504nvtkmH','196488gnQTIc','getFallbackIceServers','now','log','isAuthenticated','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','./auth','search','4MYtAOq','[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared','(((.+)+)+)+$','getIceServers','end','Bearer\x20','hostname','apply','OLO-Appliance/1.0','warn','toString','port','7202550mHWcDL','fetchCredentials','cacheExpiry','login','80525mBcdFA','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','5066416FfxUsB','iceServers','[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server','serverUrl','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','cacheDuration','9VudtDc','credentialsCache','607791GLfLDj','exports','error','[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available','572HRBWNK','14okBZny','request','1423813QZfNUS','/webrtc/turn-credentials','https:','protocol','constructor'];a5_0x59eb=function(){return _0x3a2803;};return a5_0x59eb();}const a5_0xa64bb6=a5_0x1f5e;function a5_0x1f5e(_0x38ac86,_0x31fab1){const _0x37cb15=a5_0x59eb();return a5_0x1f5e=function(_0x10dbfd,_0x3f5033){_0x10dbfd=_0x10dbfd-0x95;let _0x59eb34=_0x37cb15[_0x10dbfd];return _0x59eb34;},a5_0x1f5e(_0x38ac86,_0x31fab1);}(function(_0x3c8a78,_0x4b09c2){const _0x35e6c1=a5_0x1f5e,_0x7c6a9c=_0x3c8a78();while(!![]){try{const _0x21dde3=parseInt(_0x35e6c1(0x99))/0x1+-parseInt(_0x35e6c1(0xad))/0x2*(-parseInt(_0x35e6c1(0xc7))/0x3)+parseInt(_0x35e6c1(0xbf))/0x4+parseInt(_0x35e6c1(0xbd))/0x5*(-parseInt(_0x35e6c1(0x9e))/0x6)+parseInt(_0x35e6c1(0x97))/0x7*(-parseInt(_0x35e6c1(0xa4))/0x8)+parseInt(_0x35e6c1(0xc5))/0x9*(parseInt(_0x35e6c1(0xb9))/0xa)+parseInt(_0x35e6c1(0x96))/0xb*(-parseInt(_0x35e6c1(0xa5))/0xc);if(_0x21dde3===_0x4b09c2)break;else _0x7c6a9c['push'](_0x7c6a9c['shift']());}catch(_0x2521d0){_0x7c6a9c['push'](_0x7c6a9c['shift']());}}}(a5_0x59eb,0xd2098));const a5_0x3f5033=(function(){let _0x1ab16b=!![];return function(_0x19eff1,_0x2f18a1){const _0x3f5ed1=_0x1ab16b?function(){const _0x1fc19e=a5_0x1f5e;if(_0x2f18a1){const _0x4aa51f=_0x2f18a1[_0x1fc19e(0xb4)](_0x19eff1,arguments);return _0x2f18a1=null,_0x4aa51f;}}:function(){};return _0x1ab16b=![],_0x3f5ed1;};}()),a5_0x10dbfd=a5_0x3f5033(this,function(){const _0x9f1778=a5_0x1f5e;return a5_0x10dbfd['toString']()[_0x9f1778(0xac)](_0x9f1778(0xaf))[_0x9f1778(0xb7)]()[_0x9f1778(0x9d)](a5_0x10dbfd)[_0x9f1778(0xac)]('(((.+)+)+)+$');});a5_0x10dbfd();const https=require('https'),http=require('http'),authService=require(a5_0xa64bb6(0xab));class ApplianceTurnCredentialsService{constructor(){const _0x24b41d=a5_0xa64bb6;this['credentialsCache']=null,this[_0x24b41d(0xbb)]=0x0,this[_0x24b41d(0xc4)]=0xe10*0x3e8,this[_0x24b41d(0xc2)]=null;}['initialize'](_0x45b57e){const _0x2addfc=a5_0xa64bb6;this['serverUrl']=_0x45b57e,console[_0x2addfc(0xa8)]('[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:',_0x45b57e);}async[a5_0xa64bb6(0xba)](){const _0x18cb76=a5_0xa64bb6;if(!this[_0x18cb76(0xc2)])return console[_0x18cb76(0xc9)]('[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized'),this[_0x18cb76(0xa6)]();if(!authService[_0x18cb76(0xa9)]()){console['log']('[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...');const _0x5ed4ad=await authService[_0x18cb76(0xbc)]();if(!_0x5ed4ad)return console[_0x18cb76(0xc9)]('[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate'),this['getFallbackIceServers']();}try{console[_0x18cb76(0xa8)](_0x18cb76(0xa3));const _0x14b6dd=new URL(_0x18cb76(0x9a),this[_0x18cb76(0xc2)]),_0x54b332=_0x14b6dd[_0x18cb76(0x9c)]===_0x18cb76(0x9b),_0x59e35b=_0x54b332?https:http,_0x506636=authService[_0x18cb76(0xa0)]();if(!_0x506636)return console[_0x18cb76(0xc9)](_0x18cb76(0x95)),this[_0x18cb76(0xa6)]();return new Promise((_0x5c7c5c,_0xd1db44)=>{const _0x32b4f2=_0x18cb76,_0x19e6dc={'hostname':_0x14b6dd[_0x32b4f2(0xb3)],'port':_0x14b6dd[_0x32b4f2(0xb8)]||(_0x54b332?0x1bb:0x50),'path':_0x14b6dd[_0x32b4f2(0xa1)],'method':'GET','headers':{'User-Agent':_0x32b4f2(0xb5),'Authorization':_0x32b4f2(0xb2)+_0x506636}},_0x43d669=_0x59e35b[_0x32b4f2(0x98)](_0x19e6dc,_0x455f72=>{const _0x2c3e99=_0x32b4f2;let _0x27e9c3='';_0x455f72['on']('data',_0x49f09e=>{_0x27e9c3+=_0x49f09e;}),_0x455f72['on'](_0x2c3e99(0xb1),()=>{const _0x293dcb=_0x2c3e99;try{const _0x31f453=JSON['parse'](_0x27e9c3);_0x31f453[_0x293dcb(0xc0)]?(console[_0x293dcb(0xa8)](_0x293dcb(0xc1)),_0x5c7c5c(_0x31f453[_0x293dcb(0xc0)])):(console[_0x293dcb(0xb6)](_0x293dcb(0xc3)),_0x5c7c5c(this[_0x293dcb(0xa6)]()));}catch(_0x53b3f3){console[_0x293dcb(0xc9)](_0x293dcb(0xaa),_0x53b3f3),_0x5c7c5c(this[_0x293dcb(0xa6)]());}});});_0x43d669['on'](_0x32b4f2(0xc9),_0x16eb7c=>{console['error']('[Appliance\x20TURN\x20Service]\x20Request\x20error:',_0x16eb7c),_0x5c7c5c(this['getFallbackIceServers']());}),_0x43d669['setTimeout'](0x2710,()=>{const _0x562ede=_0x32b4f2;console[_0x562ede(0xc9)](_0x562ede(0xa2)),_0x43d669['destroy'](),_0x5c7c5c(this[_0x562ede(0xa6)]());}),_0x43d669['end']();});}catch(_0x13f1b1){return console[_0x18cb76(0xc9)](_0x18cb76(0x9f),_0x13f1b1),this['getFallbackIceServers']();}}async['getCredentials'](){const _0x147d7b=a5_0xa64bb6,_0x166563=Date[_0x147d7b(0xa7)]();if(this[_0x147d7b(0xc6)]&&_0x166563<this[_0x147d7b(0xbb)])return console[_0x147d7b(0xa8)]('[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials'),this['credentialsCache'];const _0x5d6924=await this[_0x147d7b(0xba)]();return this[_0x147d7b(0xc6)]=_0x5d6924,this[_0x147d7b(0xbb)]=_0x166563+this[_0x147d7b(0xc4)],console['log']('[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials'),_0x5d6924;}async[a5_0xa64bb6(0xb0)](){return await this['getCredentials']();}[a5_0xa64bb6(0xa6)](){const _0x26f38d=a5_0xa64bb6;return console[_0x26f38d(0xa8)](_0x26f38d(0xbe)),[{'urls':'stun:stun.l.google.com:19302'},{'urls':'stun:stun1.l.google.com:19302'}];}['clearCache'](){const _0x4316c6=a5_0xa64bb6;this[_0x4316c6(0xc6)]=null,this['cacheExpiry']=0x0,console[_0x4316c6(0xa8)](_0x4316c6(0xae));}}module[a5_0xa64bb6(0xc8)]=new ApplianceTurnCredentialsService();