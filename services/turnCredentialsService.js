function a5_0x5a12(_0x4ab068,_0x1ad01b){const _0x1bc3f9=a5_0x5127();return a5_0x5a12=function(_0x3b8480,_0x2883d2){_0x3b8480=_0x3b8480-0xc9;let _0x5127f0=_0x1bc3f9[_0x3b8480];return _0x5127f0;},a5_0x5a12(_0x4ab068,_0x1ad01b);}const a5_0x2e66f2=a5_0x5a12;(function(_0x315992,_0x57a994){const _0x2ae4e5=a5_0x5a12,_0x23f22a=_0x315992();while(!![]){try{const _0x6caa5c=parseInt(_0x2ae4e5(0xdb))/0x1*(-parseInt(_0x2ae4e5(0xdd))/0x2)+parseInt(_0x2ae4e5(0xf4))/0x3*(-parseInt(_0x2ae4e5(0xfd))/0x4)+-parseInt(_0x2ae4e5(0xf0))/0x5*(-parseInt(_0x2ae4e5(0xcd))/0x6)+-parseInt(_0x2ae4e5(0xe1))/0x7*(-parseInt(_0x2ae4e5(0xfb))/0x8)+-parseInt(_0x2ae4e5(0xe3))/0x9*(parseInt(_0x2ae4e5(0xff))/0xa)+-parseInt(_0x2ae4e5(0xe4))/0xb+parseInt(_0x2ae4e5(0xe9))/0xc;if(_0x6caa5c===_0x57a994)break;else _0x23f22a['push'](_0x23f22a['shift']());}catch(_0x4da95f){_0x23f22a['push'](_0x23f22a['shift']());}}}(a5_0x5127,0x76cc8));const a5_0x2883d2=(function(){let _0x496ab7=!![];return function(_0x3fbc26,_0x221b2e){const _0x309d49=_0x496ab7?function(){const _0x5a505e=a5_0x5a12;if(_0x221b2e){const _0x455125=_0x221b2e[_0x5a505e(0xda)](_0x3fbc26,arguments);return _0x221b2e=null,_0x455125;}}:function(){};return _0x496ab7=![],_0x309d49;};}()),a5_0x3b8480=a5_0x2883d2(this,function(){const _0x14330d=a5_0x5a12;return a5_0x3b8480[_0x14330d(0xd1)]()['search'](_0x14330d(0xd9))[_0x14330d(0xd1)]()[_0x14330d(0xf9)](a5_0x3b8480)[_0x14330d(0xd4)](_0x14330d(0xd9));});a5_0x3b8480();const https=require(a5_0x2e66f2(0xcb)),http=require(a5_0x2e66f2(0xf7)),authService=require(a5_0x2e66f2(0xf2));class ApplianceTurnCredentialsService{constructor(){const _0x63bf1a=a5_0x2e66f2;this[_0x63bf1a(0xec)]=null,this['cacheExpiry']=0x0,this[_0x63bf1a(0xf5)]=0xe10*0x3e8,this[_0x63bf1a(0xd5)]=null;}[a5_0x2e66f2(0xf3)](_0x440cc9){const _0x3df849=a5_0x2e66f2;this[_0x3df849(0xd5)]=_0x440cc9,console[_0x3df849(0xed)](_0x3df849(0xe6),_0x440cc9);}async['fetchCredentials'](){const _0x157a98=a5_0x2e66f2;if(!this[_0x157a98(0xd5)])return console[_0x157a98(0xf1)](_0x157a98(0xea)),this[_0x157a98(0xe0)]();if(!authService['isAuthenticated']()){console[_0x157a98(0xed)](_0x157a98(0xdc));const _0x28b4d0=await authService['login']();if(!_0x28b4d0)return console[_0x157a98(0xf1)](_0x157a98(0xce)),this['getFallbackIceServers']();}try{console[_0x157a98(0xed)](_0x157a98(0xfe));const _0x334bf9=new URL(_0x157a98(0xd2),this['serverUrl']),_0x494949=_0x334bf9['protocol']==='https:',_0x5f19a4=_0x494949?https:http,_0x488276=authService['getToken']();if(!_0x488276)return console[_0x157a98(0xf1)]('[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available'),this[_0x157a98(0xe0)]();return new Promise((_0x425cc8,_0x493172)=>{const _0x456a42=_0x157a98,_0x5d6e8c={'hostname':_0x334bf9['hostname'],'port':_0x334bf9[_0x456a42(0xeb)]||(_0x494949?0x1bb:0x50),'path':_0x334bf9['pathname'],'method':'GET','headers':{'User-Agent':'OLO-Appliance/1.0','Authorization':_0x456a42(0xee)+_0x488276}},_0x4b477d=_0x5f19a4[_0x456a42(0xe5)](_0x5d6e8c,_0x580a84=>{const _0x9ca164=_0x456a42;let _0x38c2d6='';_0x580a84['on'](_0x9ca164(0xd3),_0x5c763d=>{_0x38c2d6+=_0x5c763d;}),_0x580a84['on'](_0x9ca164(0xcf),()=>{const _0x23ac4c=_0x9ca164;try{const _0xd5243a=JSON['parse'](_0x38c2d6);_0xd5243a['iceServers']?(console[_0x23ac4c(0xed)]('[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server'),_0x425cc8(_0xd5243a['iceServers'])):(console[_0x23ac4c(0xfa)]('[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback'),_0x425cc8(this[_0x23ac4c(0xe0)]()));}catch(_0x4c56eb){console['error'](_0x23ac4c(0xd7),_0x4c56eb),_0x425cc8(this[_0x23ac4c(0xe0)]());}});});_0x4b477d['on'](_0x456a42(0xf1),_0x547b08=>{const _0x28a03e=_0x456a42;console[_0x28a03e(0xf1)](_0x28a03e(0xd8),_0x547b08),_0x425cc8(this[_0x28a03e(0xe0)]());}),_0x4b477d[_0x456a42(0xc9)](0x2710,()=>{const _0x484138=_0x456a42;console[_0x484138(0xf1)]('[Appliance\x20TURN\x20Service]\x20Request\x20timeout'),_0x4b477d[_0x484138(0xf6)](),_0x425cc8(this['getFallbackIceServers']());}),_0x4b477d[_0x456a42(0xcf)]();});}catch(_0xb36215){return console[_0x157a98(0xf1)](_0x157a98(0xef),_0xb36215),this[_0x157a98(0xe0)]();}}async[a5_0x2e66f2(0xe2)](){const _0xecf4a7=a5_0x2e66f2,_0x650c75=Date[_0xecf4a7(0xfc)]();if(this['credentialsCache']&&_0x650c75<this[_0xecf4a7(0xd0)])return console[_0xecf4a7(0xed)](_0xecf4a7(0xd6)),this[_0xecf4a7(0xec)];const _0x3b5bde=await this[_0xecf4a7(0x101)]();return this[_0xecf4a7(0xec)]=_0x3b5bde,this[_0xecf4a7(0xd0)]=_0x650c75+this[_0xecf4a7(0xf5)],console['log'](_0xecf4a7(0xdf)),_0x3b5bde;}async[a5_0x2e66f2(0xde)](){const _0x4ebb9=a5_0x2e66f2;return await this[_0x4ebb9(0xe2)]();}[a5_0x2e66f2(0xe0)](){const _0x45a9cc=a5_0x2e66f2;return console[_0x45a9cc(0xed)](_0x45a9cc(0xca)),[{'urls':_0x45a9cc(0xf8)},{'urls':_0x45a9cc(0xe7)}];}[a5_0x2e66f2(0xcc)](){const _0x5a7039=a5_0x2e66f2;this['credentialsCache']=null,this[_0x5a7039(0xd0)]=0x0,console[_0x5a7039(0xed)](_0x5a7039(0xe8));}}function a5_0x5127(){const _0x141e9b=['[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','[Appliance\x20TURN\x20Service]\x20Request\x20error:','(((.+)+)+)+$','apply','52cNqtlH','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','32404GcygSe','getIceServers','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','getFallbackIceServers','6713WTDmvs','getCredentials','108BlVQfh','6444548PFdVcc','request','[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:','stun:stun1.l.google.com:19302','[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared','30086532VbhVor','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','port','credentialsCache','log','Bearer\x20','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','5lXbVUa','error','./auth','initialize','1434162JlCubE','cacheDuration','destroy','http','stun:stun.l.google.com:19302','constructor','warn','7024WItbfD','now','8dBIwWE','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','698430NofvCY','exports','fetchCredentials','setTimeout','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','https','clearCache','2159898qeGLPf','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','end','cacheExpiry','toString','/webrtc/turn-credentials','data','search','serverUrl','[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials'];a5_0x5127=function(){return _0x141e9b;};return a5_0x5127();}module[a5_0x2e66f2(0x100)]=new ApplianceTurnCredentialsService();