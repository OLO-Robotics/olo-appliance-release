const a5_0x165a28=a5_0x3e66;(function(_0x356414,_0x4d2486){const _0x4b4d2f=a5_0x3e66,_0xef9a8d=_0x356414();while(!![]){try{const _0x5c049b=-parseInt(_0x4b4d2f(0x12b))/0x1+parseInt(_0x4b4d2f(0x131))/0x2+parseInt(_0x4b4d2f(0x121))/0x3+parseInt(_0x4b4d2f(0x13a))/0x4+-parseInt(_0x4b4d2f(0x12e))/0x5+-parseInt(_0x4b4d2f(0x133))/0x6+parseInt(_0x4b4d2f(0x12c))/0x7*(-parseInt(_0x4b4d2f(0x147))/0x8);if(_0x5c049b===_0x4d2486)break;else _0xef9a8d['push'](_0xef9a8d['shift']());}catch(_0x1f3208){_0xef9a8d['push'](_0xef9a8d['shift']());}}}(a5_0x18ee,0x445dc));function a5_0x3e66(_0xcb7836,_0x2a5721){const _0x744e06=a5_0x18ee();return a5_0x3e66=function(_0x3cfed9,_0x5751ee){_0x3cfed9=_0x3cfed9-0x11d;let _0x18eec8=_0x744e06[_0x3cfed9];return _0x18eec8;},a5_0x3e66(_0xcb7836,_0x2a5721);}const a5_0x5751ee=(function(){let _0x285fa6=!![];return function(_0x17ed74,_0x110510){const _0x32a6ec=_0x285fa6?function(){const _0x20e8b4=a5_0x3e66;if(_0x110510){const _0x59e6b9=_0x110510[_0x20e8b4(0x146)](_0x17ed74,arguments);return _0x110510=null,_0x59e6b9;}}:function(){};return _0x285fa6=![],_0x32a6ec;};}()),a5_0x3cfed9=a5_0x5751ee(this,function(){const _0x52938a=a5_0x3e66;return a5_0x3cfed9[_0x52938a(0x138)]()['search']('(((.+)+)+)+$')[_0x52938a(0x138)]()[_0x52938a(0x149)](a5_0x3cfed9)[_0x52938a(0x12f)](_0x52938a(0x130));});a5_0x3cfed9();function a5_0x18ee(){const _0x3c165f=['(((.+)+)+)+$','201474QPITbk','[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials','1106832XIwRsb','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','https','fetchCredentials','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','toString','[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared','2162156bjymML','OLO-Appliance/1.0','serverUrl','stun:stun.l.google.com:19302','iceServers','[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available','./auth','getIceServers','[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:','parse','login','credentialsCache','apply','648WGUdJd','clearCache','constructor','hostname','protocol','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','Bearer\x20','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','cacheDuration','initialize','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','getFallbackIceServers','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','getCredentials','pathname','destroy','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','exports','warn','cacheExpiry','/webrtc/turn-credentials','isAuthenticated','request','GET','958053EmDvnX','end','log','error','port','now','[Appliance\x20TURN\x20Service]\x20Request\x20error:','setTimeout','http','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','309838gZaVkA','12047pDygPk','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','234440ykIkzG','search'];a5_0x18ee=function(){return _0x3c165f;};return a5_0x18ee();}const https=require(a5_0x165a28(0x135)),http=require(a5_0x165a28(0x129)),authService=require(a5_0x165a28(0x140));class ApplianceTurnCredentialsService{constructor(){const _0x49e48b=a5_0x165a28;this[_0x49e48b(0x145)]=null,this[_0x49e48b(0x15b)]=0x0,this[_0x49e48b(0x14f)]=0xe10*0x3e8,this[_0x49e48b(0x13c)]=null;}[a5_0x165a28(0x150)](_0x52fd24){const _0x380625=a5_0x165a28;this[_0x380625(0x13c)]=_0x52fd24,console[_0x380625(0x123)](_0x380625(0x142),_0x52fd24);}async[a5_0x165a28(0x136)](){const _0x1dbe30=a5_0x165a28;if(!this[_0x1dbe30(0x13c)])return console['error'](_0x1dbe30(0x14c)),this['getFallbackIceServers']();if(!authService[_0x1dbe30(0x11e)]()){console[_0x1dbe30(0x123)](_0x1dbe30(0x12d));const _0x31bfd0=await authService[_0x1dbe30(0x144)]();if(!_0x31bfd0)return console[_0x1dbe30(0x124)](_0x1dbe30(0x158)),this[_0x1dbe30(0x152)]();}try{console[_0x1dbe30(0x123)](_0x1dbe30(0x137));const _0x1d4316=new URL(_0x1dbe30(0x11d),this[_0x1dbe30(0x13c)]),_0x3b823c=_0x1d4316[_0x1dbe30(0x14b)]==='https:',_0x16cb8c=_0x3b823c?https:http,_0x34c4f6=authService['getToken']();if(!_0x34c4f6)return console[_0x1dbe30(0x124)](_0x1dbe30(0x13f)),this[_0x1dbe30(0x152)]();return new Promise((_0x4fe312,_0x3433bb)=>{const _0x20c345=_0x1dbe30,_0xb54410={'hostname':_0x1d4316[_0x20c345(0x14a)],'port':_0x1d4316[_0x20c345(0x125)]||(_0x3b823c?0x1bb:0x50),'path':_0x1d4316[_0x20c345(0x156)],'method':_0x20c345(0x120),'headers':{'User-Agent':_0x20c345(0x13b),'Authorization':_0x20c345(0x14d)+_0x34c4f6}},_0x5bf74d=_0x16cb8c[_0x20c345(0x11f)](_0xb54410,_0x1b4a5a=>{let _0x592551='';_0x1b4a5a['on']('data',_0x538bfe=>{_0x592551+=_0x538bfe;}),_0x1b4a5a['on']('end',()=>{const _0x2bec91=a5_0x3e66;try{const _0x55beda=JSON[_0x2bec91(0x143)](_0x592551);_0x55beda[_0x2bec91(0x13e)]?(console['log']('[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server'),_0x4fe312(_0x55beda['iceServers'])):(console[_0x2bec91(0x15a)](_0x2bec91(0x154)),_0x4fe312(this[_0x2bec91(0x152)]()));}catch(_0x1ee145){console[_0x2bec91(0x124)](_0x2bec91(0x14e),_0x1ee145),_0x4fe312(this[_0x2bec91(0x152)]());}});});_0x5bf74d['on'](_0x20c345(0x124),_0x15a18d=>{const _0x3f162b=_0x20c345;console[_0x3f162b(0x124)](_0x3f162b(0x127),_0x15a18d),_0x4fe312(this['getFallbackIceServers']());}),_0x5bf74d[_0x20c345(0x128)](0x2710,()=>{const _0x4836ac=_0x20c345;console['error'](_0x4836ac(0x134)),_0x5bf74d[_0x4836ac(0x157)](),_0x4fe312(this[_0x4836ac(0x152)]());}),_0x5bf74d[_0x20c345(0x122)]();});}catch(_0x4e4a3a){return console[_0x1dbe30(0x124)](_0x1dbe30(0x12a),_0x4e4a3a),this[_0x1dbe30(0x152)]();}}async[a5_0x165a28(0x155)](){const _0x33d8ef=a5_0x165a28,_0x1eeacb=Date[_0x33d8ef(0x126)]();if(this['credentialsCache']&&_0x1eeacb<this[_0x33d8ef(0x15b)])return console[_0x33d8ef(0x123)](_0x33d8ef(0x132)),this[_0x33d8ef(0x145)];const _0x38db43=await this[_0x33d8ef(0x136)]();return this[_0x33d8ef(0x145)]=_0x38db43,this[_0x33d8ef(0x15b)]=_0x1eeacb+this['cacheDuration'],console[_0x33d8ef(0x123)](_0x33d8ef(0x153)),_0x38db43;}async[a5_0x165a28(0x141)](){const _0x171344=a5_0x165a28;return await this[_0x171344(0x155)]();}['getFallbackIceServers'](){const _0x1d5308=a5_0x165a28;return console[_0x1d5308(0x123)](_0x1d5308(0x151)),[{'urls':_0x1d5308(0x13d)},{'urls':'stun:stun1.l.google.com:19302'}];}[a5_0x165a28(0x148)](){const _0xbdaf5e=a5_0x165a28;this[_0xbdaf5e(0x145)]=null,this[_0xbdaf5e(0x15b)]=0x0,console[_0xbdaf5e(0x123)](_0xbdaf5e(0x139));}}module[a5_0x165a28(0x159)]=new ApplianceTurnCredentialsService();