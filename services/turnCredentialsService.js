const a5_0x1706ab=a5_0xdbca;(function(_0x3297d4,_0x5c8a78){const _0x172e12=a5_0xdbca,_0x4ee7c8=_0x3297d4();while(!![]){try{const _0x4c68ec=parseInt(_0x172e12(0x1d6))/0x1*(-parseInt(_0x172e12(0x1e3))/0x2)+parseInt(_0x172e12(0x203))/0x3*(-parseInt(_0x172e12(0x1e0))/0x4)+-parseInt(_0x172e12(0x1f5))/0x5+-parseInt(_0x172e12(0x202))/0x6+parseInt(_0x172e12(0x1f6))/0x7*(-parseInt(_0x172e12(0x200))/0x8)+parseInt(_0x172e12(0x204))/0x9*(-parseInt(_0x172e12(0x1f4))/0xa)+parseInt(_0x172e12(0x1f3))/0xb*(parseInt(_0x172e12(0x1fe))/0xc);if(_0x4c68ec===_0x5c8a78)break;else _0x4ee7c8['push'](_0x4ee7c8['shift']());}catch(_0x62bf10){_0x4ee7c8['push'](_0x4ee7c8['shift']());}}}(a5_0x6b0a,0x9d5d3));function a5_0x6b0a(){const _0x50e5f3=['serverUrl','clearCache','apply','cacheDuration','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','/webrtc/turn-credentials','data','exports','[Appliance\x20TURN\x20Service]\x20Request\x20error:','stun:stun1.l.google.com:19302','OLO-Appliance/1.0','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','1742147ISqave','684370QEZRyx','125560UZfEnR','616gtRXhJ','login','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','iceServers','destroy','getCredentials','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','https:','276gaJCYq','search','115912kawCDX','initialize','1294548lPPytO','283389UIHHbv','9dhFBBJ','https','parse','(((.+)+)+)+$','./auth','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','cacheExpiry','credentialsCache','isAuthenticated','error','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','log','10bJGyDI','stun:stun.l.google.com:19302','pathname','getFallbackIceServers','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','constructor','end','protocol','GET','12DRtiwX','getToken','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','226076fyQZZC','port','[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:','toString'];a5_0x6b0a=function(){return _0x50e5f3;};return a5_0x6b0a();}const a5_0x306438=(function(){let _0x8faf57=!![];return function(_0xffc71a,_0x2954db){const _0x3c50d3=_0x8faf57?function(){const _0x86aa7d=a5_0xdbca;if(_0x2954db){const _0x186261=_0x2954db[_0x86aa7d(0x1e9)](_0xffc71a,arguments);return _0x2954db=null,_0x186261;}}:function(){};return _0x8faf57=![],_0x3c50d3;};}()),a5_0x48cd3e=a5_0x306438(this,function(){const _0x301cee=a5_0xdbca;return a5_0x48cd3e[_0x301cee(0x1e6)]()[_0x301cee(0x1ff)](_0x301cee(0x207))[_0x301cee(0x1e6)]()[_0x301cee(0x1dc)](a5_0x48cd3e)['search']('(((.+)+)+)+$');});a5_0x48cd3e();const https=require(a5_0x1706ab(0x205)),http=require('http'),authService=require(a5_0x1706ab(0x1ce));function a5_0xdbca(_0x3a1f50,_0x2decc2){const _0x237f8c=a5_0x6b0a();return a5_0xdbca=function(_0x48cd3e,_0x306438){_0x48cd3e=_0x48cd3e-0x1ce;let _0x6b0a0f=_0x237f8c[_0x48cd3e];return _0x6b0a0f;},a5_0xdbca(_0x3a1f50,_0x2decc2);}class ApplianceTurnCredentialsService{constructor(){const _0x26c14c=a5_0x1706ab;this['credentialsCache']=null,this['cacheExpiry']=0x0,this[_0x26c14c(0x1ea)]=0xe10*0x3e8,this[_0x26c14c(0x1e7)]=null;}[a5_0x1706ab(0x201)](_0x585b42){const _0x58d7b6=a5_0x1706ab;this[_0x58d7b6(0x1e7)]=_0x585b42,console[_0x58d7b6(0x1d5)](_0x58d7b6(0x1e5),_0x585b42);}async['fetchCredentials'](){const _0x473d5a=a5_0x1706ab;if(!this[_0x473d5a(0x1e7)])return console[_0x473d5a(0x1d3)](_0x473d5a(0x1d4)),this['getFallbackIceServers']();if(!authService[_0x473d5a(0x1d2)]()){console['log'](_0x473d5a(0x1f2));const _0x2f1131=await authService[_0x473d5a(0x1f7)]();if(!_0x2f1131)return console[_0x473d5a(0x1d3)](_0x473d5a(0x1da)),this['getFallbackIceServers']();}try{console[_0x473d5a(0x1d5)](_0x473d5a(0x1db));const _0xb55e4=new URL(_0x473d5a(0x1ec),this['serverUrl']),_0x3fb064=_0xb55e4[_0x473d5a(0x1de)]===_0x473d5a(0x1fd),_0x1c017f=_0x3fb064?https:http,_0x2f2670=authService[_0x473d5a(0x1e1)]();if(!_0x2f2670)return console[_0x473d5a(0x1d3)]('[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available'),this[_0x473d5a(0x1d9)]();return new Promise((_0x4f97f5,_0x407427)=>{const _0x588acc=_0x473d5a,_0x147527={'hostname':_0xb55e4['hostname'],'port':_0xb55e4[_0x588acc(0x1e4)]||(_0x3fb064?0x1bb:0x50),'path':_0xb55e4[_0x588acc(0x1d8)],'method':_0x588acc(0x1df),'headers':{'User-Agent':_0x588acc(0x1f1),'Authorization':'Bearer\x20'+_0x2f2670}},_0x39e698=_0x1c017f['request'](_0x147527,_0xb1a143=>{const _0x267560=_0x588acc;let _0x3443c5='';_0xb1a143['on'](_0x267560(0x1ed),_0xee9b4a=>{_0x3443c5+=_0xee9b4a;}),_0xb1a143['on'](_0x267560(0x1dd),()=>{const _0x3dc7ab=_0x267560;try{const _0x3c0791=JSON[_0x3dc7ab(0x206)](_0x3443c5);_0x3c0791[_0x3dc7ab(0x1f9)]?(console['log']('[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server'),_0x4f97f5(_0x3c0791['iceServers'])):(console['warn'](_0x3dc7ab(0x1eb)),_0x4f97f5(this[_0x3dc7ab(0x1d9)]()));}catch(_0x6a7ec1){console[_0x3dc7ab(0x1d3)](_0x3dc7ab(0x1e2),_0x6a7ec1),_0x4f97f5(this[_0x3dc7ab(0x1d9)]());}});});_0x39e698['on']('error',_0x5da2c4=>{const _0x2b951e=_0x588acc;console[_0x2b951e(0x1d3)](_0x2b951e(0x1ef),_0x5da2c4),_0x4f97f5(this[_0x2b951e(0x1d9)]());}),_0x39e698['setTimeout'](0x2710,()=>{const _0x2df448=_0x588acc;console[_0x2df448(0x1d3)](_0x2df448(0x1cf)),_0x39e698[_0x2df448(0x1fa)](),_0x4f97f5(this[_0x2df448(0x1d9)]());}),_0x39e698['end']();});}catch(_0x2145bd){return console[_0x473d5a(0x1d3)]('[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:',_0x2145bd),this['getFallbackIceServers']();}}async['getCredentials'](){const _0x3796e1=a5_0x1706ab,_0x561e16=Date['now']();if(this[_0x3796e1(0x1d1)]&&_0x561e16<this[_0x3796e1(0x1d0)])return console[_0x3796e1(0x1d5)]('[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials'),this['credentialsCache'];const _0x8d4718=await this['fetchCredentials']();return this[_0x3796e1(0x1d1)]=_0x8d4718,this['cacheExpiry']=_0x561e16+this[_0x3796e1(0x1ea)],console[_0x3796e1(0x1d5)](_0x3796e1(0x1fc)),_0x8d4718;}async['getIceServers'](){const _0x4f2f2e=a5_0x1706ab;return await this[_0x4f2f2e(0x1fb)]();}[a5_0x1706ab(0x1d9)](){const _0x539831=a5_0x1706ab;return console['log'](_0x539831(0x1f8)),[{'urls':_0x539831(0x1d7)},{'urls':_0x539831(0x1f0)}];}[a5_0x1706ab(0x1e8)](){const _0x48e454=a5_0x1706ab;this[_0x48e454(0x1d1)]=null,this[_0x48e454(0x1d0)]=0x0,console[_0x48e454(0x1d5)]('[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared');}}module[a5_0x1706ab(0x1ee)]=new ApplianceTurnCredentialsService();