const a4_0x5c61d5=a4_0x9f95;(function(_0x15f797,_0x301852){const _0x2a2a50=a4_0x9f95,_0x5e8df9=_0x15f797();while(!![]){try{const _0x4c6c8f=-parseInt(_0x2a2a50(0x208))/0x1+-parseInt(_0x2a2a50(0x1b1))/0x2+-parseInt(_0x2a2a50(0x1cf))/0x3+parseInt(_0x2a2a50(0x1c5))/0x4+parseInt(_0x2a2a50(0x1ec))/0x5+-parseInt(_0x2a2a50(0x1b4))/0x6+parseInt(_0x2a2a50(0x20c))/0x7*(parseInt(_0x2a2a50(0x204))/0x8);if(_0x4c6c8f===_0x301852)break;else _0x5e8df9['push'](_0x5e8df9['shift']());}catch(_0x13a8e5){_0x5e8df9['push'](_0x5e8df9['shift']());}}}(a4_0x5a97,0xe29be));const a4_0x107a8c=(function(){let _0x43e2a9=!![];return function(_0x48e02f,_0x126bc7){const _0x290d2a=_0x43e2a9?function(){const _0x318bbc=a4_0x9f95;if(_0x126bc7){const _0xf24cab=_0x126bc7[_0x318bbc(0x1f0)](_0x48e02f,arguments);return _0x126bc7=null,_0xf24cab;}}:function(){};return _0x43e2a9=![],_0x290d2a;};}()),a4_0x484d26=a4_0x107a8c(this,function(){const _0x39adb8=a4_0x9f95;return a4_0x484d26[_0x39adb8(0x207)]()[_0x39adb8(0x1b7)](_0x39adb8(0x1ee))['toString']()[_0x39adb8(0x200)](a4_0x484d26)['search'](_0x39adb8(0x1ee));});function a4_0x9f95(_0x3bca38,_0x2d327c){const _0x56884e=a4_0x5a97();return a4_0x9f95=function(_0x484d26,_0x107a8c){_0x484d26=_0x484d26-0x1b1;let _0x5a9700=_0x56884e[_0x484d26];return _0x5a9700;},a4_0x9f95(_0x3bca38,_0x2d327c);}a4_0x484d26();const {execSync}=require(a4_0x5c61d5(0x1fd));class TopicManager{constructor(){const _0x2c769a=a4_0x5c61d5;this['topicStrategies']=new Map(),this['lastMessageTimes']=new Map(),this['discoveryInProgress']=![],this[_0x2c769a(0x1bf)]={'largeDataThreshold':0x64*0x400,'defaultLargeDataStrategy':_0x2c769a(0x1f3),'throttleFrequencies':{'sensor_msgs/msg/PointCloud2':0x5,'sensor_msgs/msg/LaserScan':0xf},'strategiesConfig':{}},console[_0x2c769a(0x20f)](_0x2c769a(0x1f2));}[a4_0x5c61d5(0x1d5)](_0x5a8e9c){const _0x154ef7=a4_0x5c61d5;if(_0x5a8e9c[_0x154ef7(0x1f6)]){const _0x16e96e=_0x5a8e9c['topicHandling'];_0x16e96e[_0x154ef7(0x1bd)]&&(this[_0x154ef7(0x1bf)][_0x154ef7(0x1bd)]=_0x16e96e[_0x154ef7(0x1bd)]),_0x16e96e[_0x154ef7(0x1bc)]&&(this[_0x154ef7(0x1bf)][_0x154ef7(0x1bc)]=_0x16e96e[_0x154ef7(0x1bc)]),_0x16e96e[_0x154ef7(0x1e2)]&&(this['config'][_0x154ef7(0x1e1)]={..._0x16e96e[_0x154ef7(0x1e2)]}),_0x16e96e[_0x154ef7(0x206)]&&(this[_0x154ef7(0x1bf)][_0x154ef7(0x206)]={...this[_0x154ef7(0x1bf)][_0x154ef7(0x206)],..._0x16e96e[_0x154ef7(0x206)]}),console[_0x154ef7(0x20f)](_0x154ef7(0x213),this[_0x154ef7(0x1bf)]);}}async[a4_0x5c61d5(0x1c4)](_0xdaa2df){const _0x508cc4=a4_0x5c61d5;if(this[_0x508cc4(0x1ef)]||!_0xdaa2df)return;this[_0x508cc4(0x1ef)]=!![],console[_0x508cc4(0x20f)](_0x508cc4(0x1b3));try{await new Promise((_0x5849ef,_0x49f17b)=>{const _0x1c03b5=_0x508cc4;_0xdaa2df[_0x1c03b5(0x1ea)](_0x1060a6=>{const _0x1e4faf=_0x1c03b5,_0x524676=_0x1060a6[_0x1e4faf(0x1c9)][_0x1e4faf(0x1cc)]((_0x582bcd,_0x48d6b0)=>({'name':_0x582bcd,'type':_0x1060a6[_0x1e4faf(0x1eb)][_0x48d6b0]}));console[_0x1e4faf(0x20f)](_0x1e4faf(0x1c6)+_0x524676[_0x1e4faf(0x1df)]+'\x20topics');for(const _0x42fdca of _0x524676){this[_0x1e4faf(0x1fe)](_0x42fdca);}console['log']('[TopicManager]\x20Topic\x20discovery\x20completed'),console['log'](_0x1e4faf(0x1c3),Array[_0x1e4faf(0x203)](this[_0x1e4faf(0x210)]['entries']())),_0x5849ef();},_0x354928=>{const _0xc77fd5=_0x1c03b5;console[_0xc77fd5(0x1e4)](_0xc77fd5(0x1b5),_0x354928),_0x49f17b(_0x354928);});});}catch(_0x4e212c){console[_0x508cc4(0x1e4)]('[TopicManager]\x20Topic\x20discovery\x20failed:',_0x4e212c);}finally{this[_0x508cc4(0x1ef)]=![];}}['analyzeTopicStrategy'](_0x275b62){const _0x21fcac=a4_0x5c61d5,_0x6f44b1=this[_0x21fcac(0x1f1)](_0x275b62);this['topicStrategies']['set'](_0x275b62[_0x21fcac(0x1cb)],{'type':_0x275b62[_0x21fcac(0x1c7)],'strategy':_0x6f44b1['type'],'reason':_0x6f44b1[_0x21fcac(0x1f7)],'maxFrequency':_0x6f44b1[_0x21fcac(0x1da)],'isLargeData':_0x6f44b1[_0x21fcac(0x212)],'estimatedSize':_0x6f44b1[_0x21fcac(0x20a)]}),console[_0x21fcac(0x20f)](_0x21fcac(0x1d6)+_0x275b62['name']+':\x20'+_0x6f44b1[_0x21fcac(0x1c7)]+'\x20('+_0x6f44b1['reason']+')');}['determineTopicStrategy'](_0x5b803b){const _0x3c7e04=a4_0x5c61d5;if(this['config'][_0x3c7e04(0x1e1)][_0x5b803b[_0x3c7e04(0x1cb)]]){const _0x1b8866=this[_0x3c7e04(0x1bf)]['strategiesConfig'][_0x5b803b[_0x3c7e04(0x1cb)]];return this['parseStrategyConfig'](_0x1b8866,'user_configured');}for(const [_0x4e19e3,_0x1908dc]of Object[_0x3c7e04(0x1ca)](this[_0x3c7e04(0x1bf)][_0x3c7e04(0x1e1)])){if(_0x5b803b[_0x3c7e04(0x1cb)][_0x3c7e04(0x1d8)](_0x4e19e3[_0x3c7e04(0x1cd)]('/','')))return this['parseStrategyConfig'](_0x1908dc,_0x3c7e04(0x1c2));}if(this[_0x3c7e04(0x1ce)](_0x5b803b[_0x3c7e04(0x1cb)],_0x5b803b[_0x3c7e04(0x1c7)])){const _0x2fcdfa=this[_0x3c7e04(0x1bb)](_0x5b803b['name'],_0x5b803b['type']);return{'type':_0x3c7e04(0x201),'reason':_0x3c7e04(0x209),'isLargeData':!![],'estimatedSize':_0x2fcdfa,'maxFrequency':null};}const _0xa3a275=this[_0x3c7e04(0x1d3)](_0x5b803b[_0x3c7e04(0x1cb)],_0x5b803b[_0x3c7e04(0x1c7)]),_0x4a61f8=this[_0x3c7e04(0x1bb)](_0x5b803b['name'],_0x5b803b[_0x3c7e04(0x1c7)]);if(_0xa3a275||_0x4a61f8>this[_0x3c7e04(0x1bf)][_0x3c7e04(0x1bd)]){let _0x24622e=this[_0x3c7e04(0x1bf)][_0x3c7e04(0x206)][_0x5b803b[_0x3c7e04(0x1c7)]]||0xa,_0x39d49e=_0x3c7e04(0x214);if(_0x5b803b[_0x3c7e04(0x1c7)][_0x3c7e04(0x1d8)](_0x3c7e04(0x20b))||_0x5b803b[_0x3c7e04(0x1cb)][_0x3c7e04(0x1d8)](_0x3c7e04(0x1f5)))_0x24622e=this[_0x3c7e04(0x1bf)][_0x3c7e04(0x206)][_0x5b803b[_0x3c7e04(0x1c7)]]||0x5,_0x39d49e='point_cloud_throttled';else{if(_0x5b803b[_0x3c7e04(0x1c7)][_0x3c7e04(0x1d8)]('LaserScan')||_0x5b803b[_0x3c7e04(0x1cb)][_0x3c7e04(0x1d8)]('scan'))_0x24622e=this[_0x3c7e04(0x1bf)][_0x3c7e04(0x206)][_0x5b803b['type']]||0xf,_0x39d49e=_0x3c7e04(0x1d4);else _0x5b803b[_0x3c7e04(0x1c7)][_0x3c7e04(0x1d8)]('Image')&&(_0x24622e=this['config']['throttleFrequencies'][_0x5b803b[_0x3c7e04(0x1c7)]]||0xa,_0x39d49e=_0x3c7e04(0x1b9));}return{'type':_0x3c7e04(0x20e),'reason':_0x39d49e,'isLargeData':!![],'estimatedSize':_0x4a61f8,'maxFrequency':_0x24622e};}return{'type':'websocket','reason':_0x3c7e04(0x205),'isLargeData':![],'estimatedSize':_0x4a61f8,'maxFrequency':null};}['parseStrategyConfig'](_0x3ed77c,_0x5ae6f2){const _0x12c73c=a4_0x5c61d5;if(_0x3ed77c['includes'](':')){const [_0x3b6116,_0x5d21f5]=_0x3ed77c[_0x12c73c(0x1e8)](':');return{'type':_0x3b6116,'reason':_0x5ae6f2,'isLargeData':!![],'maxFrequency':_0x3b6116===_0x12c73c(0x20e)?parseFloat(_0x5d21f5):null,'estimatedSize':this[_0x12c73c(0x1bf)][_0x12c73c(0x1bd)]+0x1};}return{'type':_0x3ed77c,'reason':_0x5ae6f2,'isLargeData':_0x3ed77c!==_0x12c73c(0x1b8),'maxFrequency':null,'estimatedSize':this['config']['largeDataThreshold']+0x1};}[a4_0x5c61d5(0x1d3)](_0x423fd6,_0x3ee820){const _0x2c682a=a4_0x5c61d5,_0x4ed560=[/point_cloud/i,/points/i,/depth.*image/i,/.*pointcloud/i,/laser.*scan/i,/scan/i,/camera.*image_raw/i,/lidar/i],_0x311376=[_0x2c682a(0x1d0),_0x2c682a(0x1e7),'sensor_msgs/msg/LaserScan',_0x2c682a(0x211)];return _0x4ed560['some'](_0x3268bb=>_0x3268bb[_0x2c682a(0x1e5)](_0x423fd6))||_0x311376[_0x2c682a(0x1d8)](_0x3ee820);}['isCameraTopic'](_0x3e8b7f,_0x2aac00=''){const _0x783f89=a4_0x5c61d5,_0xad0c96=[_0x783f89(0x1e7),'sensor_msgs/msg/CompressedImage'];if(_0xad0c96['includes'](_0x2aac00))return!_0x3e8b7f[_0x783f89(0x1d8)](_0x783f89(0x1f5))&&!_0x3e8b7f['includes'](_0x783f89(0x1ba))&&!_0x3e8b7f[_0x783f89(0x1d8)](_0x783f89(0x1d1));return(_0x3e8b7f[_0x783f89(0x1d8)](_0x783f89(0x1e0))||_0x3e8b7f[_0x783f89(0x1d8)](_0x783f89(0x1db)))&&!_0x3e8b7f[_0x783f89(0x1d8)]('points')&&!_0x3e8b7f['includes']('point_cloud')&&!_0x3e8b7f[_0x783f89(0x1d8)](_0x783f89(0x1d1));}[a4_0x5c61d5(0x1bb)](_0x2be0f3,_0x56d604){const _0x3049f0=a4_0x5c61d5,_0x508a0a={'sensor_msgs/msg/PointCloud2':0x1f4*0x400,'sensor_msgs/msg/Image':0x12c*0x400,'sensor_msgs/msg/CompressedImage':0x32*0x400,'sensor_msgs/msg/LaserScan':0x14*0x400};if(_0x508a0a[_0x56d604])return _0x508a0a[_0x56d604];if(_0x2be0f3[_0x3049f0(0x1d8)]('point')||_0x2be0f3[_0x3049f0(0x1d8)](_0x3049f0(0x1b6)))return 0x190*0x400;if(_0x2be0f3[_0x3049f0(0x1d8)]('image_raw'))return 0x12c*0x400;if(_0x2be0f3[_0x3049f0(0x1d8)]('compressed'))return 0x32*0x400;return 0x400;}[a4_0x5c61d5(0x1ff)](_0x1e2d35){const _0x484bf4=a4_0x5c61d5;let _0x47c423=this[_0x484bf4(0x210)][_0x484bf4(0x1b2)](_0x1e2d35['topic']);if(!_0x47c423){console[_0x484bf4(0x20f)](_0x484bf4(0x1f4)+_0x1e2d35[_0x484bf4(0x1d7)]);let _0x1f8167=_0x484bf4(0x20d);if(_0x1e2d35['topic']['includes'](_0x484bf4(0x1e0))&&_0x1e2d35[_0x484bf4(0x1d7)]['includes'](_0x484bf4(0x1db)))_0x1f8167=_0x484bf4(0x211);else{if(_0x1e2d35[_0x484bf4(0x1d7)]['includes'](_0x484bf4(0x1e0)))_0x1f8167=_0x484bf4(0x1e7);else{if(_0x1e2d35[_0x484bf4(0x1d7)][_0x484bf4(0x1d8)](_0x484bf4(0x1de))||_0x1e2d35[_0x484bf4(0x1d7)][_0x484bf4(0x1d8)](_0x484bf4(0x1b6)))_0x1f8167=_0x484bf4(0x1d0);else _0x1e2d35[_0x484bf4(0x1d7)][_0x484bf4(0x1d8)](_0x484bf4(0x1e3))&&(_0x1f8167=_0x484bf4(0x1fa));}}const _0x21b486={'name':_0x1e2d35[_0x484bf4(0x1d7)],'type':_0x1f8167};this[_0x484bf4(0x1fe)](_0x21b486),_0x47c423=this[_0x484bf4(0x210)][_0x484bf4(0x1b2)](_0x1e2d35['topic']);}if(!_0x47c423)return{'action':_0x484bf4(0x1c8),'message':_0x1e2d35};switch(_0x47c423[_0x484bf4(0x1d9)]){case _0x484bf4(0x20e):return this[_0x484bf4(0x1f8)](_0x1e2d35[_0x484bf4(0x1d7)],_0x47c423[_0x484bf4(0x1da)])?{'action':_0x484bf4(0x1c8),'message':_0x1e2d35}:{'action':_0x484bf4(0x1f9)};case _0x484bf4(0x201):return{'action':_0x484bf4(0x1fb)};case _0x484bf4(0x1b8):default:return{'action':_0x484bf4(0x1c8),'message':_0x1e2d35};}}['shouldThrottle'](_0x275399,_0x1bfea5){const _0x46278e=a4_0x5c61d5;if(!_0x1bfea5)return!![];const _0x36e81f=Date[_0x46278e(0x1fc)](),_0x17fa4e=0x3e8/_0x1bfea5;!this[_0x46278e(0x1dc)][_0x46278e(0x1e6)](_0x275399)&&this[_0x46278e(0x1dc)][_0x46278e(0x1ed)](_0x275399,0x0);const _0x425572=this[_0x46278e(0x1dc)][_0x46278e(0x1b2)](_0x275399),_0x3f3a45=_0x36e81f-_0x425572;if(_0x3f3a45>=_0x17fa4e)return this['lastMessageTimes'][_0x46278e(0x1ed)](_0x275399,_0x36e81f),!![];return![];}[a4_0x5c61d5(0x1be)](_0x4b4f3c){const _0xec2abf=a4_0x5c61d5;return this[_0xec2abf(0x210)]['get'](_0x4b4f3c);}[a4_0x5c61d5(0x1d2)](){const _0x57ef8a=a4_0x5c61d5;return Array['from'](this[_0x57ef8a(0x210)][_0x57ef8a(0x1ca)]())[_0x57ef8a(0x1cc)](([_0x425cfa,_0x5f3c86])=>({'topic':_0x425cfa,..._0x5f3c86}));}[a4_0x5c61d5(0x202)](_0x3786fa){const _0x50687b=a4_0x5c61d5,_0x1e91a0=this['topicStrategies'][_0x50687b(0x1b2)](_0x3786fa);return _0x1e91a0?.[_0x50687b(0x1d9)]===_0x50687b(0x1f3);}[a4_0x5c61d5(0x1c0)](){const _0x2dec3e=a4_0x5c61d5,_0x12a126={};return this[_0x2dec3e(0x210)]['forEach']((_0x465e22,_0x59517a)=>{const _0x98b50e=_0x2dec3e;!_0x12a126[_0x465e22[_0x98b50e(0x1d9)]]&&(_0x12a126[_0x465e22[_0x98b50e(0x1d9)]]=0x0),_0x12a126[_0x465e22[_0x98b50e(0x1d9)]]++;}),{'totalTopics':this[_0x2dec3e(0x210)][_0x2dec3e(0x1e9)],'strategies':_0x12a126,'largeDataTopics':Array[_0x2dec3e(0x203)](this[_0x2dec3e(0x210)][_0x2dec3e(0x1ca)]())[_0x2dec3e(0x1dd)](([_0x57edb6,_0x169559])=>_0x169559[_0x2dec3e(0x212)])[_0x2dec3e(0x1cc)](([_0x2680d6,_0x50cd71])=>_0x2680d6)};}}function a4_0x5a97(){const _0x323386=['length','image','strategiesConfig','strategies','scan','error','test','has','sensor_msgs/msg/Image','split','size','getTopics','types','2965175JuoHWv','set','(((.+)+)+)+$','discoveryInProgress','apply','determineTopicStrategy','[TopicManager]\x20Initialised','webrtc_only','[TopicManager]\x20Discovering\x20new\x20topic\x20at\x20runtime:\x20','points','topicHandling','reason','shouldThrottle','throttle_skip','sensor_msgs/msg/LaserScan','webrtc_skip','now','child_process','analyzeTopicStrategy','handleMessage','constructor','webrtc','shouldUseWebRTC','from','16tInAbO','normal_size','throttleFrequencies','toString','1175093gLFfHk','video_webrtc_streaming','estimatedSize','PointCloud2','4700633psyOQu','unknown','throttle','log','topicStrategies','sensor_msgs/msg/CompressedImage','isLargeData','[TopicManager]\x20Loaded\x20configuration:','large_data_throttled','1309676GobMOp','get','[TopicManager]\x20Starting\x20topic\x20discovery...','3387510Nifmqw','[TopicManager]\x20Error\x20getting\x20topics:','cloud','search','websocket','image_throttled','point_cloud','estimateTopicSize','defaultLargeDataStrategy','largeDataThreshold','getTopicStrategy','config','getStatistics','exports','pattern_configured','[TopicManager]\x20Strategies:','discoverTopics','6581000mPQHOq','[TopicManager]\x20Found\x20','type','forward','topics','entries','name','map','replace','isCameraTopic','775851yIWAii','sensor_msgs/msg/PointCloud2','depth_points','getManagedTopics','isLargeDataTopic','laser_scan_throttled','loadConfig','[TopicManager]\x20Topic\x20','topic','includes','strategy','maxFrequency','compressed','lastMessageTimes','filter','point'];a4_0x5a97=function(){return _0x323386;};return a4_0x5a97();}module[a4_0x5c61d5(0x1c1)]=new TopicManager();