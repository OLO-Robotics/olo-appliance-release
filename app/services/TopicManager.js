function a4_0x453c(){const _0x1c0b26=['normal_size','unknown','filter','lastMessageTimes','analyzeTopicStrategy','[TopicManager]\x20Starting\x20topic\x20discovery...','child_process','PointCloud2','378351ktVwrX','isLargeData','has','throttle_skip','size','pattern_configured','video_webrtc_streaming','compressed','shouldThrottle','throttleFrequencies','getStatistics','strategies','estimateTopicSize','[TopicManager]\x20Found\x20','603978JJsiDx','maxFrequency','determineTopicStrategy','cloud','[TopicManager]\x20Initialised','laser_scan_throttled','from','sensor_msgs/msg/Image','get','sensor_msgs/msg/CompressedImage','forward','split','log','Image','topicStrategies','10OHivHL','set','shouldUseWebRTC','estimatedSize','[TopicManager]\x20Loaded\x20configuration:','now','apply','20494sMLXDz','5326520VXqwxB','large_data_throttled','config','points','forEach','discoveryInProgress','1501200vpboAc','types','sensor_msgs/msg/LaserScan','map','[TopicManager]\x20Topic\x20discovery\x20completed','topicHandling','point_cloud','some','33fSnRBo','(((.+)+)+)+$','length','\x20topics','scan','isLargeDataTopic','discoverTopics','reason','largeDataThreshold','throttle','replace','websocket','strategy','isCameraTopic','28FSHKlJ','image','entries','depth_points','[TopicManager]\x20Topic\x20discovery\x20failed:','defaultLargeDataStrategy','LaserScan','type','handleMessage','test','name','webrtc','1260230rEdolo','[TopicManager]\x20Strategies:','strategiesConfig','toString','error','exports','1091092oyJFBk','constructor','includes','webrtc_only','88UZLOdT','topic','[TopicManager]\x20Discovering\x20new\x20topic\x20at\x20runtime:\x20','search','point'];a4_0x453c=function(){return _0x1c0b26;};return a4_0x453c();}const a4_0x955b3b=a4_0x41b5;(function(_0x3f63a4,_0xbc25c3){const _0x3fcc94=a4_0x41b5,_0x5d611b=_0x3f63a4();while(!![]){try{const _0x18ebe9=-parseInt(_0x3fcc94(0x1d5))/0x1+-parseInt(_0x3fcc94(0x1f9))/0x2*(-parseInt(_0x3fcc94(0x1a4))/0x3)+-parseInt(_0x3fcc94(0x1c4))/0x4*(-parseInt(_0x3fcc94(0x1f2))/0x5)+parseInt(_0x3fcc94(0x1e3))/0x6*(-parseInt(_0x3fcc94(0x1b2))/0x7)+-parseInt(_0x3fcc94(0x1fa))/0x8+parseInt(_0x3fcc94(0x200))/0x9+parseInt(_0x3fcc94(0x1be))/0xa*(parseInt(_0x3fcc94(0x1c8))/0xb);if(_0x18ebe9===_0xbc25c3)break;else _0x5d611b['push'](_0x5d611b['shift']());}catch(_0x38b86b){_0x5d611b['push'](_0x5d611b['shift']());}}}(a4_0x453c,0x5e57d));const a4_0x3d1dd4=(function(){let _0x16cb36=!![];return function(_0x5c97eb,_0x21874d){const _0x54df3a=_0x16cb36?function(){const _0x281854=a4_0x41b5;if(_0x21874d){const _0x4dbfac=_0x21874d[_0x281854(0x1f8)](_0x5c97eb,arguments);return _0x21874d=null,_0x4dbfac;}}:function(){};return _0x16cb36=![],_0x54df3a;};}()),a4_0x116c41=a4_0x3d1dd4(this,function(){const _0x252938=a4_0x41b5;return a4_0x116c41['toString']()[_0x252938(0x1cb)](_0x252938(0x1a5))[_0x252938(0x1c1)]()[_0x252938(0x1c5)](a4_0x116c41)[_0x252938(0x1cb)]('(((.+)+)+)+$');});function a4_0x41b5(_0x3aaafe,_0x378f14){const _0x1e63d9=a4_0x453c();return a4_0x41b5=function(_0x116c41,_0x3d1dd4){_0x116c41=_0x116c41-0x19e;let _0x453c95=_0x1e63d9[_0x116c41];return _0x453c95;},a4_0x41b5(_0x3aaafe,_0x378f14);}a4_0x116c41();const {execSync}=require(a4_0x955b3b(0x1d3));class TopicManager{constructor(){const _0x3b56c0=a4_0x955b3b;this[_0x3b56c0(0x1f1)]=new Map(),this['lastMessageTimes']=new Map(),this['discoveryInProgress']=![],this[_0x3b56c0(0x1fc)]={'largeDataThreshold':0x64*0x400,'defaultLargeDataStrategy':_0x3b56c0(0x1c7),'throttleFrequencies':{'sensor_msgs/msg/PointCloud2':0x5,'sensor_msgs/msg/LaserScan':0xf},'strategiesConfig':{}},console[_0x3b56c0(0x1ef)](_0x3b56c0(0x1e7));}['loadConfig'](_0x1d6eed){const _0x2e3e3b=a4_0x955b3b;if(_0x1d6eed[_0x2e3e3b(0x1a1)]){const _0x2b2dfe=_0x1d6eed['topicHandling'];_0x2b2dfe['largeDataThreshold']&&(this['config'][_0x2e3e3b(0x1ac)]=_0x2b2dfe['largeDataThreshold']),_0x2b2dfe[_0x2e3e3b(0x1b7)]&&(this[_0x2e3e3b(0x1fc)][_0x2e3e3b(0x1b7)]=_0x2b2dfe[_0x2e3e3b(0x1b7)]),_0x2b2dfe[_0x2e3e3b(0x1e0)]&&(this['config'][_0x2e3e3b(0x1c0)]={..._0x2b2dfe[_0x2e3e3b(0x1e0)]}),_0x2b2dfe[_0x2e3e3b(0x1de)]&&(this[_0x2e3e3b(0x1fc)][_0x2e3e3b(0x1de)]={...this['config'][_0x2e3e3b(0x1de)],..._0x2b2dfe[_0x2e3e3b(0x1de)]}),console[_0x2e3e3b(0x1ef)](_0x2e3e3b(0x1f6),this['config']);}}async[a4_0x955b3b(0x1aa)](_0x8a9e66){const _0x272b8c=a4_0x955b3b;if(this['discoveryInProgress']||!_0x8a9e66)return;this[_0x272b8c(0x1ff)]=!![],console[_0x272b8c(0x1ef)](_0x272b8c(0x1d2));try{await new Promise((_0x1432da,_0x49b710)=>{_0x8a9e66['getTopics'](_0x28fcbc=>{const _0x524d19=a4_0x41b5,_0x4f6aa2=_0x28fcbc['topics'][_0x524d19(0x19f)]((_0x21a0e4,_0x1df93d)=>({'name':_0x21a0e4,'type':_0x28fcbc[_0x524d19(0x201)][_0x1df93d]}));console[_0x524d19(0x1ef)](_0x524d19(0x1e2)+_0x4f6aa2[_0x524d19(0x1a6)]+_0x524d19(0x1a7));for(const _0x574b9a of _0x4f6aa2){this[_0x524d19(0x1d1)](_0x574b9a);}console[_0x524d19(0x1ef)](_0x524d19(0x1a0)),console['log'](_0x524d19(0x1bf),Array[_0x524d19(0x1e9)](this[_0x524d19(0x1f1)]['entries']())),_0x1432da();},_0x3694d2=>{const _0x30a091=a4_0x41b5;console[_0x30a091(0x1c2)]('[TopicManager]\x20Error\x20getting\x20topics:',_0x3694d2),_0x49b710(_0x3694d2);});});}catch(_0x4ec420){console['error'](_0x272b8c(0x1b6),_0x4ec420);}finally{this[_0x272b8c(0x1ff)]=![];}}[a4_0x955b3b(0x1d1)](_0x1033b4){const _0x420553=a4_0x955b3b,_0x1edcca=this[_0x420553(0x1e5)](_0x1033b4);this['topicStrategies']['set'](_0x1033b4['name'],{'type':_0x1033b4[_0x420553(0x1b9)],'strategy':_0x1edcca['type'],'reason':_0x1edcca['reason'],'maxFrequency':_0x1edcca['maxFrequency'],'isLargeData':_0x1edcca[_0x420553(0x1d6)],'estimatedSize':_0x1edcca[_0x420553(0x1f5)]}),console[_0x420553(0x1ef)]('[TopicManager]\x20Topic\x20'+_0x1033b4['name']+':\x20'+_0x1edcca['type']+'\x20('+_0x1edcca[_0x420553(0x1ab)]+')');}[a4_0x955b3b(0x1e5)](_0x616dd1){const _0x19026e=a4_0x955b3b;if(this[_0x19026e(0x1fc)][_0x19026e(0x1c0)][_0x616dd1[_0x19026e(0x1bc)]]){const _0x196bab=this[_0x19026e(0x1fc)]['strategiesConfig'][_0x616dd1[_0x19026e(0x1bc)]];return this['parseStrategyConfig'](_0x196bab,'user_configured');}for(const [_0x362336,_0x436442]of Object['entries'](this['config'][_0x19026e(0x1c0)])){if(_0x616dd1['name'][_0x19026e(0x1c6)](_0x362336[_0x19026e(0x1ae)]('/','')))return this['parseStrategyConfig'](_0x436442,_0x19026e(0x1da));}if(this[_0x19026e(0x1b1)](_0x616dd1[_0x19026e(0x1bc)],_0x616dd1[_0x19026e(0x1b9)])){const _0x3438e9=this[_0x19026e(0x1e1)](_0x616dd1[_0x19026e(0x1bc)],_0x616dd1[_0x19026e(0x1b9)]);return{'type':_0x19026e(0x1bd),'reason':_0x19026e(0x1db),'isLargeData':!![],'estimatedSize':_0x3438e9,'maxFrequency':null};}const _0x4c3393=this['isLargeDataTopic'](_0x616dd1[_0x19026e(0x1bc)],_0x616dd1['type']),_0x127f14=this[_0x19026e(0x1e1)](_0x616dd1[_0x19026e(0x1bc)],_0x616dd1['type']);if(_0x4c3393||_0x127f14>this[_0x19026e(0x1fc)]['largeDataThreshold']){let _0x44414c=this[_0x19026e(0x1fc)][_0x19026e(0x1de)][_0x616dd1['type']]||0xa,_0x521f6d=_0x19026e(0x1fb);if(_0x616dd1['type']['includes'](_0x19026e(0x1d4))||_0x616dd1[_0x19026e(0x1bc)][_0x19026e(0x1c6)](_0x19026e(0x1fd)))_0x44414c=this[_0x19026e(0x1fc)][_0x19026e(0x1de)][_0x616dd1[_0x19026e(0x1b9)]]||0x5,_0x521f6d='point_cloud_throttled';else{if(_0x616dd1[_0x19026e(0x1b9)][_0x19026e(0x1c6)](_0x19026e(0x1b8))||_0x616dd1[_0x19026e(0x1bc)][_0x19026e(0x1c6)](_0x19026e(0x1a8)))_0x44414c=this[_0x19026e(0x1fc)][_0x19026e(0x1de)][_0x616dd1[_0x19026e(0x1b9)]]||0xf,_0x521f6d=_0x19026e(0x1e8);else _0x616dd1[_0x19026e(0x1b9)][_0x19026e(0x1c6)](_0x19026e(0x1f0))&&(_0x44414c=this[_0x19026e(0x1fc)][_0x19026e(0x1de)][_0x616dd1[_0x19026e(0x1b9)]]||0xa,_0x521f6d='image_throttled');}return{'type':'throttle','reason':_0x521f6d,'isLargeData':!![],'estimatedSize':_0x127f14,'maxFrequency':_0x44414c};}return{'type':_0x19026e(0x1af),'reason':_0x19026e(0x1cd),'isLargeData':![],'estimatedSize':_0x127f14,'maxFrequency':null};}['parseStrategyConfig'](_0x3f0ef5,_0x148de4){const _0x24c7de=a4_0x955b3b;if(_0x3f0ef5[_0x24c7de(0x1c6)](':')){const [_0x431b67,_0xd6e704]=_0x3f0ef5[_0x24c7de(0x1ee)](':');return{'type':_0x431b67,'reason':_0x148de4,'isLargeData':!![],'maxFrequency':_0x431b67===_0x24c7de(0x1ad)?parseFloat(_0xd6e704):null,'estimatedSize':this[_0x24c7de(0x1fc)][_0x24c7de(0x1ac)]+0x1};}return{'type':_0x3f0ef5,'reason':_0x148de4,'isLargeData':_0x3f0ef5!==_0x24c7de(0x1af),'maxFrequency':null,'estimatedSize':this['config'][_0x24c7de(0x1ac)]+0x1};}[a4_0x955b3b(0x1a9)](_0x1509c0,_0x31c010){const _0x20320d=a4_0x955b3b,_0x3d70a9=[/point_cloud/i,/points/i,/depth.*image/i,/.*pointcloud/i,/laser.*scan/i,/scan/i,/camera.*image_raw/i,/lidar/i],_0x42ec03=['sensor_msgs/msg/PointCloud2',_0x20320d(0x1ea),_0x20320d(0x19e),'sensor_msgs/msg/CompressedImage'];return _0x3d70a9[_0x20320d(0x1a3)](_0x3833a8=>_0x3833a8[_0x20320d(0x1bb)](_0x1509c0))||_0x42ec03[_0x20320d(0x1c6)](_0x31c010);}[a4_0x955b3b(0x1b1)](_0x99a5e9,_0x425dfb=''){const _0x11a298=a4_0x955b3b,_0x5bddf7=[_0x11a298(0x1ea),_0x11a298(0x1ec)];if(_0x5bddf7[_0x11a298(0x1c6)](_0x425dfb))return!_0x99a5e9[_0x11a298(0x1c6)]('points')&&!_0x99a5e9[_0x11a298(0x1c6)]('point_cloud')&&!_0x99a5e9['includes'](_0x11a298(0x1b5));return(_0x99a5e9[_0x11a298(0x1c6)](_0x11a298(0x1b3))||_0x99a5e9[_0x11a298(0x1c6)](_0x11a298(0x1dc)))&&!_0x99a5e9[_0x11a298(0x1c6)](_0x11a298(0x1fd))&&!_0x99a5e9[_0x11a298(0x1c6)](_0x11a298(0x1a2))&&!_0x99a5e9[_0x11a298(0x1c6)](_0x11a298(0x1b5));}[a4_0x955b3b(0x1e1)](_0x36ac33,_0x12c208){const _0xdf819a=a4_0x955b3b,_0x513043={'sensor_msgs/msg/PointCloud2':0x1f4*0x400,'sensor_msgs/msg/Image':0x12c*0x400,'sensor_msgs/msg/CompressedImage':0x32*0x400,'sensor_msgs/msg/LaserScan':0x14*0x400};if(_0x513043[_0x12c208])return _0x513043[_0x12c208];if(_0x36ac33[_0xdf819a(0x1c6)](_0xdf819a(0x1cc))||_0x36ac33['includes']('cloud'))return 0x190*0x400;if(_0x36ac33[_0xdf819a(0x1c6)]('image_raw'))return 0x12c*0x400;if(_0x36ac33[_0xdf819a(0x1c6)](_0xdf819a(0x1dc)))return 0x32*0x400;return 0x400;}[a4_0x955b3b(0x1ba)](_0x45f831){const _0x330327=a4_0x955b3b;let _0x59c41c=this[_0x330327(0x1f1)][_0x330327(0x1eb)](_0x45f831['topic']);if(!_0x59c41c){console[_0x330327(0x1ef)](_0x330327(0x1ca)+_0x45f831[_0x330327(0x1c9)]);let _0x567e6d=_0x330327(0x1ce);if(_0x45f831[_0x330327(0x1c9)][_0x330327(0x1c6)](_0x330327(0x1b3))&&_0x45f831[_0x330327(0x1c9)][_0x330327(0x1c6)](_0x330327(0x1dc)))_0x567e6d=_0x330327(0x1ec);else{if(_0x45f831[_0x330327(0x1c9)]['includes']('image'))_0x567e6d=_0x330327(0x1ea);else{if(_0x45f831[_0x330327(0x1c9)]['includes']('point')||_0x45f831[_0x330327(0x1c9)][_0x330327(0x1c6)](_0x330327(0x1e6)))_0x567e6d='sensor_msgs/msg/PointCloud2';else _0x45f831['topic'][_0x330327(0x1c6)]('scan')&&(_0x567e6d=_0x330327(0x19e));}}const _0x10887c={'name':_0x45f831[_0x330327(0x1c9)],'type':_0x567e6d};this[_0x330327(0x1d1)](_0x10887c),_0x59c41c=this[_0x330327(0x1f1)]['get'](_0x45f831[_0x330327(0x1c9)]);}if(!_0x59c41c)return{'action':_0x330327(0x1ed),'message':_0x45f831};switch(_0x59c41c[_0x330327(0x1b0)]){case _0x330327(0x1ad):return this[_0x330327(0x1dd)](_0x45f831[_0x330327(0x1c9)],_0x59c41c[_0x330327(0x1e4)])?{'action':_0x330327(0x1ed),'message':_0x45f831}:{'action':_0x330327(0x1d8)};case _0x330327(0x1bd):return{'action':'webrtc_skip'};case _0x330327(0x1af):default:return{'action':_0x330327(0x1ed),'message':_0x45f831};}}['shouldThrottle'](_0x33546e,_0x2f6219){const _0x250a83=a4_0x955b3b;if(!_0x2f6219)return!![];const _0x56f296=Date[_0x250a83(0x1f7)](),_0x193cd4=0x3e8/_0x2f6219;!this[_0x250a83(0x1d0)][_0x250a83(0x1d7)](_0x33546e)&&this[_0x250a83(0x1d0)][_0x250a83(0x1f3)](_0x33546e,0x0);const _0x2494d2=this[_0x250a83(0x1d0)][_0x250a83(0x1eb)](_0x33546e),_0x860044=_0x56f296-_0x2494d2;if(_0x860044>=_0x193cd4)return this[_0x250a83(0x1d0)][_0x250a83(0x1f3)](_0x33546e,_0x56f296),!![];return![];}['getTopicStrategy'](_0x54f153){const _0xec37ee=a4_0x955b3b;return this[_0xec37ee(0x1f1)][_0xec37ee(0x1eb)](_0x54f153);}['getManagedTopics'](){const _0x59d040=a4_0x955b3b;return Array[_0x59d040(0x1e9)](this[_0x59d040(0x1f1)][_0x59d040(0x1b4)]())[_0x59d040(0x19f)](([_0x3f49ee,_0x3ba6b6])=>({'topic':_0x3f49ee,..._0x3ba6b6}));}[a4_0x955b3b(0x1f4)](_0x1998e9){const _0x57870b=a4_0x955b3b,_0x176d45=this[_0x57870b(0x1f1)][_0x57870b(0x1eb)](_0x1998e9);return _0x176d45?.['strategy']==='webrtc_only';}[a4_0x955b3b(0x1df)](){const _0x330324=a4_0x955b3b,_0x3e99e5={};return this[_0x330324(0x1f1)][_0x330324(0x1fe)]((_0x50cac8,_0x37cabe)=>{const _0x24060b=_0x330324;!_0x3e99e5[_0x50cac8[_0x24060b(0x1b0)]]&&(_0x3e99e5[_0x50cac8[_0x24060b(0x1b0)]]=0x0),_0x3e99e5[_0x50cac8['strategy']]++;}),{'totalTopics':this[_0x330324(0x1f1)][_0x330324(0x1d9)],'strategies':_0x3e99e5,'largeDataTopics':Array[_0x330324(0x1e9)](this[_0x330324(0x1f1)]['entries']())[_0x330324(0x1cf)](([_0x1ca972,_0xc8f314])=>_0xc8f314[_0x330324(0x1d6)])[_0x330324(0x19f)](([_0x1dabc1,_0x6d890f])=>_0x1dabc1)};}}module[a4_0x955b3b(0x1c3)]=new TopicManager();