function a4_0x2c19(){const _0x3201a5=['reason','webrtc','[TopicManager]\x20Strategies:','has','large_data_throttled','entries','discoveryInProgress','326123kWsOFi','37538zDrQDj','getManagedTopics','discoverTopics','log','apply','search','forward','forEach','throttleFrequencies','user_configured','points','toString','sensor_msgs/msg/Image','cloud','normal_size','error','set','exports','name','split','determineTopicStrategy','1009341VMClxA','strategiesConfig','now','4YvkDyj','sensor_msgs/msg/LaserScan','includes','[TopicManager]\x20Starting\x20topic\x20discovery...','unknown','replace','strategy','largeDataThreshold','isCameraTopic','5883896HEaWdQ','LaserScan','handleMessage','parseStrategyConfig','throttle_skip','PointCloud2','115045MFVdoh','types','Image','sensor_msgs/msg/PointCloud2','size','websocket','maxFrequency','topicStrategies','defaultLargeDataStrategy','[TopicManager]\x20Topic\x20','[TopicManager]\x20Loaded\x20configuration:','getTopicStrategy','48KeWzjV','shouldThrottle','length','strategies','throttle','image','[TopicManager]\x20Discovering\x20new\x20topic\x20at\x20runtime:\x20','[TopicManager]\x20Error\x20getting\x20topics:','constructor','estimateTopicSize','topic','loadConfig','2ThFKHl','point','map','isLargeDataTopic','3910520oZfcpa','getStatistics','\x20topics','depth_points','[TopicManager]\x20Topic\x20discovery\x20failed:','config','type','sensor_msgs/msg/CompressedImage','from','video_webrtc_streaming','lastMessageTimes','image_throttled','some','topicHandling','(((.+)+)+)+$','image_raw','topics','scan','1434033ZeIjPq','webrtc_only','pattern_configured','isLargeData','[TopicManager]\x20Initialised','get','compressed','analyzeTopicStrategy'];a4_0x2c19=function(){return _0x3201a5;};return a4_0x2c19();}const a4_0x4845ff=a4_0x6143;function a4_0x6143(_0x2e87d7,_0x35aa95){const _0x199d52=a4_0x2c19();return a4_0x6143=function(_0x19e82c,_0x5d3ea9){_0x19e82c=_0x19e82c-0x19a;let _0x2c1923=_0x199d52[_0x19e82c];return _0x2c1923;},a4_0x6143(_0x2e87d7,_0x35aa95);}(function(_0x16996e,_0x2c356d){const _0x55c3a5=a4_0x6143,_0x42fa92=_0x16996e();while(!![]){try{const _0xf2e174=-parseInt(_0x55c3a5(0x1c1))/0x1*(parseInt(_0x55c3a5(0x1e7))/0x2)+-parseInt(_0x55c3a5(0x1d7))/0x3*(-parseInt(_0x55c3a5(0x19a))/0x4)+-parseInt(_0x55c3a5(0x1a9))/0x5*(-parseInt(_0x55c3a5(0x1b5))/0x6)+parseInt(_0x55c3a5(0x1e6))/0x7+-parseInt(_0x55c3a5(0x1a3))/0x8+parseInt(_0x55c3a5(0x1fc))/0x9+parseInt(_0x55c3a5(0x1c5))/0xa;if(_0xf2e174===_0x2c356d)break;else _0x42fa92['push'](_0x42fa92['shift']());}catch(_0x3f428f){_0x42fa92['push'](_0x42fa92['shift']());}}}(a4_0x2c19,0x6b240));const a4_0x5d3ea9=(function(){let _0x3365df=!![];return function(_0x21ad7a,_0x4d5929){const _0x92ccad=_0x3365df?function(){const _0x4b377f=a4_0x6143;if(_0x4d5929){const _0xf3689=_0x4d5929[_0x4b377f(0x1eb)](_0x21ad7a,arguments);return _0x4d5929=null,_0xf3689;}}:function(){};return _0x3365df=![],_0x92ccad;};}()),a4_0x19e82c=a4_0x5d3ea9(this,function(){const _0x427242=a4_0x6143;return a4_0x19e82c[_0x427242(0x1f2)]()[_0x427242(0x1ec)](_0x427242(0x1d3))[_0x427242(0x1f2)]()[_0x427242(0x1bd)](a4_0x19e82c)[_0x427242(0x1ec)](_0x427242(0x1d3));});a4_0x19e82c();const {execSync}=require('child_process');class TopicManager{constructor(){const _0x1858f2=a4_0x6143;this['topicStrategies']=new Map(),this[_0x1858f2(0x1cf)]=new Map(),this['discoveryInProgress']=![],this[_0x1858f2(0x1ca)]={'largeDataThreshold':0x64*0x400,'defaultLargeDataStrategy':'webrtc_only','throttleFrequencies':{'sensor_msgs/msg/PointCloud2':0x5,'sensor_msgs/msg/LaserScan':0xf},'strategiesConfig':{}},console[_0x1858f2(0x1ea)](_0x1858f2(0x1db));}[a4_0x4845ff(0x1c0)](_0x1a57f9){const _0x518332=a4_0x4845ff;if(_0x1a57f9[_0x518332(0x1d2)]){const _0x2e57fe=_0x1a57f9[_0x518332(0x1d2)];_0x2e57fe['largeDataThreshold']&&(this['config'][_0x518332(0x1a1)]=_0x2e57fe[_0x518332(0x1a1)]),_0x2e57fe[_0x518332(0x1b1)]&&(this[_0x518332(0x1ca)][_0x518332(0x1b1)]=_0x2e57fe[_0x518332(0x1b1)]),_0x2e57fe['strategies']&&(this[_0x518332(0x1ca)][_0x518332(0x1fd)]={..._0x2e57fe[_0x518332(0x1b8)]}),_0x2e57fe['throttleFrequencies']&&(this[_0x518332(0x1ca)][_0x518332(0x1ef)]={...this[_0x518332(0x1ca)]['throttleFrequencies'],..._0x2e57fe['throttleFrequencies']}),console[_0x518332(0x1ea)](_0x518332(0x1b3),this[_0x518332(0x1ca)]);}}async[a4_0x4845ff(0x1e9)](_0x1f6091){const _0x4a3022=a4_0x4845ff;if(this[_0x4a3022(0x1e5)]||!_0x1f6091)return;this[_0x4a3022(0x1e5)]=!![],console[_0x4a3022(0x1ea)](_0x4a3022(0x19d));try{await new Promise((_0x35a813,_0x2228ce)=>{_0x1f6091['getTopics'](_0x3fa390=>{const _0x554a3b=a4_0x6143,_0x33224e=_0x3fa390[_0x554a3b(0x1d5)][_0x554a3b(0x1c3)]((_0x160877,_0x11e54b)=>({'name':_0x160877,'type':_0x3fa390[_0x554a3b(0x1aa)][_0x11e54b]}));console[_0x554a3b(0x1ea)]('[TopicManager]\x20Found\x20'+_0x33224e[_0x554a3b(0x1b7)]+_0x554a3b(0x1c7));for(const _0x750762 of _0x33224e){this['analyzeTopicStrategy'](_0x750762);}console[_0x554a3b(0x1ea)]('[TopicManager]\x20Topic\x20discovery\x20completed'),console[_0x554a3b(0x1ea)](_0x554a3b(0x1e1),Array[_0x554a3b(0x1cd)](this[_0x554a3b(0x1b0)][_0x554a3b(0x1e4)]())),_0x35a813();},_0x228181=>{const _0x45d071=a4_0x6143;console[_0x45d071(0x1f6)](_0x45d071(0x1bc),_0x228181),_0x2228ce(_0x228181);});});}catch(_0x45c725){console[_0x4a3022(0x1f6)](_0x4a3022(0x1c9),_0x45c725);}finally{this[_0x4a3022(0x1e5)]=![];}}[a4_0x4845ff(0x1de)](_0x48b4a6){const _0x7f8f5=a4_0x4845ff,_0x3b8f1d=this[_0x7f8f5(0x1fb)](_0x48b4a6);this[_0x7f8f5(0x1b0)][_0x7f8f5(0x1f7)](_0x48b4a6['name'],{'type':_0x48b4a6[_0x7f8f5(0x1cb)],'strategy':_0x3b8f1d[_0x7f8f5(0x1cb)],'reason':_0x3b8f1d[_0x7f8f5(0x1df)],'maxFrequency':_0x3b8f1d[_0x7f8f5(0x1af)],'isLargeData':_0x3b8f1d[_0x7f8f5(0x1da)],'estimatedSize':_0x3b8f1d['estimatedSize']}),console[_0x7f8f5(0x1ea)](_0x7f8f5(0x1b2)+_0x48b4a6[_0x7f8f5(0x1f9)]+':\x20'+_0x3b8f1d[_0x7f8f5(0x1cb)]+'\x20('+_0x3b8f1d[_0x7f8f5(0x1df)]+')');}[a4_0x4845ff(0x1fb)](_0x219a8d){const _0x7b38ac=a4_0x4845ff;if(this[_0x7b38ac(0x1ca)][_0x7b38ac(0x1fd)][_0x219a8d[_0x7b38ac(0x1f9)]]){const _0x1e8425=this[_0x7b38ac(0x1ca)][_0x7b38ac(0x1fd)][_0x219a8d['name']];return this[_0x7b38ac(0x1a6)](_0x1e8425,_0x7b38ac(0x1f0));}for(const [_0x353e1b,_0x1b6298]of Object['entries'](this[_0x7b38ac(0x1ca)]['strategiesConfig'])){if(_0x219a8d[_0x7b38ac(0x1f9)]['includes'](_0x353e1b[_0x7b38ac(0x19f)]('/','')))return this['parseStrategyConfig'](_0x1b6298,_0x7b38ac(0x1d9));}if(this[_0x7b38ac(0x1a2)](_0x219a8d[_0x7b38ac(0x1f9)],_0x219a8d[_0x7b38ac(0x1cb)])){const _0x4f2311=this[_0x7b38ac(0x1be)](_0x219a8d[_0x7b38ac(0x1f9)],_0x219a8d[_0x7b38ac(0x1cb)]);return{'type':_0x7b38ac(0x1e0),'reason':_0x7b38ac(0x1ce),'isLargeData':!![],'estimatedSize':_0x4f2311,'maxFrequency':null};}const _0x4ec457=this[_0x7b38ac(0x1c4)](_0x219a8d[_0x7b38ac(0x1f9)],_0x219a8d[_0x7b38ac(0x1cb)]),_0x3afff8=this[_0x7b38ac(0x1be)](_0x219a8d[_0x7b38ac(0x1f9)],_0x219a8d[_0x7b38ac(0x1cb)]);if(_0x4ec457||_0x3afff8>this[_0x7b38ac(0x1ca)][_0x7b38ac(0x1a1)]){let _0x23f3f8=this[_0x7b38ac(0x1ca)][_0x7b38ac(0x1ef)][_0x219a8d[_0x7b38ac(0x1cb)]]||0xa,_0x2f3660=_0x7b38ac(0x1e3);if(_0x219a8d[_0x7b38ac(0x1cb)][_0x7b38ac(0x19c)](_0x7b38ac(0x1a8))||_0x219a8d[_0x7b38ac(0x1f9)][_0x7b38ac(0x19c)]('points'))_0x23f3f8=this[_0x7b38ac(0x1ca)][_0x7b38ac(0x1ef)][_0x219a8d[_0x7b38ac(0x1cb)]]||0x5,_0x2f3660='point_cloud_throttled';else{if(_0x219a8d[_0x7b38ac(0x1cb)]['includes'](_0x7b38ac(0x1a4))||_0x219a8d['name']['includes'](_0x7b38ac(0x1d6)))_0x23f3f8=this[_0x7b38ac(0x1ca)][_0x7b38ac(0x1ef)][_0x219a8d[_0x7b38ac(0x1cb)]]||0xf,_0x2f3660='laser_scan_throttled';else _0x219a8d[_0x7b38ac(0x1cb)][_0x7b38ac(0x19c)](_0x7b38ac(0x1ab))&&(_0x23f3f8=this[_0x7b38ac(0x1ca)][_0x7b38ac(0x1ef)][_0x219a8d[_0x7b38ac(0x1cb)]]||0xa,_0x2f3660=_0x7b38ac(0x1d0));}return{'type':_0x7b38ac(0x1b9),'reason':_0x2f3660,'isLargeData':!![],'estimatedSize':_0x3afff8,'maxFrequency':_0x23f3f8};}return{'type':_0x7b38ac(0x1ae),'reason':_0x7b38ac(0x1f5),'isLargeData':![],'estimatedSize':_0x3afff8,'maxFrequency':null};}[a4_0x4845ff(0x1a6)](_0x45e43b,_0x5c2a47){const _0x145832=a4_0x4845ff;if(_0x45e43b[_0x145832(0x19c)](':')){const [_0x4cdb80,_0xf3753]=_0x45e43b[_0x145832(0x1fa)](':');return{'type':_0x4cdb80,'reason':_0x5c2a47,'isLargeData':!![],'maxFrequency':_0x4cdb80===_0x145832(0x1b9)?parseFloat(_0xf3753):null,'estimatedSize':this[_0x145832(0x1ca)][_0x145832(0x1a1)]+0x1};}return{'type':_0x45e43b,'reason':_0x5c2a47,'isLargeData':_0x45e43b!=='websocket','maxFrequency':null,'estimatedSize':this[_0x145832(0x1ca)][_0x145832(0x1a1)]+0x1};}[a4_0x4845ff(0x1c4)](_0x5bd5b9,_0x523a){const _0x32c75a=a4_0x4845ff,_0x11dfd2=[/point_cloud/i,/points/i,/depth.*image/i,/.*pointcloud/i,/laser.*scan/i,/scan/i,/camera.*image_raw/i,/lidar/i],_0x1b2541=[_0x32c75a(0x1ac),_0x32c75a(0x1f3),_0x32c75a(0x19b),_0x32c75a(0x1cc)];return _0x11dfd2[_0x32c75a(0x1d1)](_0x472a26=>_0x472a26['test'](_0x5bd5b9))||_0x1b2541[_0x32c75a(0x19c)](_0x523a);}['isCameraTopic'](_0x4f3283,_0x43de52=''){const _0x18359d=a4_0x4845ff,_0x2d9947=[_0x18359d(0x1f3),_0x18359d(0x1cc)];if(_0x2d9947[_0x18359d(0x19c)](_0x43de52))return!_0x4f3283[_0x18359d(0x19c)](_0x18359d(0x1f1))&&!_0x4f3283[_0x18359d(0x19c)]('point_cloud')&&!_0x4f3283['includes'](_0x18359d(0x1c8));return(_0x4f3283[_0x18359d(0x19c)]('image')||_0x4f3283[_0x18359d(0x19c)](_0x18359d(0x1dd)))&&!_0x4f3283[_0x18359d(0x19c)]('points')&&!_0x4f3283[_0x18359d(0x19c)]('point_cloud')&&!_0x4f3283[_0x18359d(0x19c)](_0x18359d(0x1c8));}[a4_0x4845ff(0x1be)](_0x2419cb,_0x38e8ee){const _0x2ec6d4=a4_0x4845ff,_0x5b1d5f={'sensor_msgs/msg/PointCloud2':0x1f4*0x400,'sensor_msgs/msg/Image':0x12c*0x400,'sensor_msgs/msg/CompressedImage':0x32*0x400,'sensor_msgs/msg/LaserScan':0x14*0x400};if(_0x5b1d5f[_0x38e8ee])return _0x5b1d5f[_0x38e8ee];if(_0x2419cb[_0x2ec6d4(0x19c)]('point')||_0x2419cb[_0x2ec6d4(0x19c)](_0x2ec6d4(0x1f4)))return 0x190*0x400;if(_0x2419cb[_0x2ec6d4(0x19c)](_0x2ec6d4(0x1d4)))return 0x12c*0x400;if(_0x2419cb[_0x2ec6d4(0x19c)](_0x2ec6d4(0x1dd)))return 0x32*0x400;return 0x400;}[a4_0x4845ff(0x1a5)](_0x3a6d7e){const _0x48efed=a4_0x4845ff;let _0x385506=this[_0x48efed(0x1b0)][_0x48efed(0x1dc)](_0x3a6d7e[_0x48efed(0x1bf)]);if(!_0x385506){console[_0x48efed(0x1ea)](_0x48efed(0x1bb)+_0x3a6d7e['topic']);let _0x17ab1=_0x48efed(0x19e);if(_0x3a6d7e['topic'][_0x48efed(0x19c)](_0x48efed(0x1ba))&&_0x3a6d7e['topic'][_0x48efed(0x19c)](_0x48efed(0x1dd)))_0x17ab1=_0x48efed(0x1cc);else{if(_0x3a6d7e['topic']['includes'](_0x48efed(0x1ba)))_0x17ab1=_0x48efed(0x1f3);else{if(_0x3a6d7e[_0x48efed(0x1bf)]['includes'](_0x48efed(0x1c2))||_0x3a6d7e[_0x48efed(0x1bf)][_0x48efed(0x19c)]('cloud'))_0x17ab1='sensor_msgs/msg/PointCloud2';else _0x3a6d7e['topic']['includes'](_0x48efed(0x1d6))&&(_0x17ab1=_0x48efed(0x19b));}}const _0x503922={'name':_0x3a6d7e[_0x48efed(0x1bf)],'type':_0x17ab1};this[_0x48efed(0x1de)](_0x503922),_0x385506=this['topicStrategies']['get'](_0x3a6d7e['topic']);}if(!_0x385506)return{'action':_0x48efed(0x1ed),'message':_0x3a6d7e};switch(_0x385506[_0x48efed(0x1a0)]){case _0x48efed(0x1b9):return this[_0x48efed(0x1b6)](_0x3a6d7e[_0x48efed(0x1bf)],_0x385506[_0x48efed(0x1af)])?{'action':'forward','message':_0x3a6d7e}:{'action':_0x48efed(0x1a7)};case'webrtc':return{'action':'webrtc_skip'};case _0x48efed(0x1ae):default:return{'action':_0x48efed(0x1ed),'message':_0x3a6d7e};}}[a4_0x4845ff(0x1b6)](_0x5e3539,_0x31ebf2){const _0x49ba5a=a4_0x4845ff;if(!_0x31ebf2)return!![];const _0x640c9=Date[_0x49ba5a(0x1fe)](),_0x4d1e78=0x3e8/_0x31ebf2;!this[_0x49ba5a(0x1cf)][_0x49ba5a(0x1e2)](_0x5e3539)&&this[_0x49ba5a(0x1cf)][_0x49ba5a(0x1f7)](_0x5e3539,0x0);const _0x5840f4=this[_0x49ba5a(0x1cf)][_0x49ba5a(0x1dc)](_0x5e3539),_0x3005a8=_0x640c9-_0x5840f4;if(_0x3005a8>=_0x4d1e78)return this['lastMessageTimes'][_0x49ba5a(0x1f7)](_0x5e3539,_0x640c9),!![];return![];}[a4_0x4845ff(0x1b4)](_0x5e2237){const _0x38e05e=a4_0x4845ff;return this[_0x38e05e(0x1b0)][_0x38e05e(0x1dc)](_0x5e2237);}[a4_0x4845ff(0x1e8)](){const _0x5de8d5=a4_0x4845ff;return Array[_0x5de8d5(0x1cd)](this['topicStrategies'][_0x5de8d5(0x1e4)]())['map'](([_0x3c71b0,_0x73310b])=>({'topic':_0x3c71b0,..._0x73310b}));}['shouldUseWebRTC'](_0x13aee7){const _0x5a0283=a4_0x4845ff,_0x8637b6=this[_0x5a0283(0x1b0)]['get'](_0x13aee7);return _0x8637b6?.[_0x5a0283(0x1a0)]===_0x5a0283(0x1d8);}[a4_0x4845ff(0x1c6)](){const _0x2577a3=a4_0x4845ff,_0x29e84c={};return this[_0x2577a3(0x1b0)][_0x2577a3(0x1ee)]((_0xa7fe93,_0x392aec)=>{const _0x522b8d=_0x2577a3;!_0x29e84c[_0xa7fe93[_0x522b8d(0x1a0)]]&&(_0x29e84c[_0xa7fe93[_0x522b8d(0x1a0)]]=0x0),_0x29e84c[_0xa7fe93[_0x522b8d(0x1a0)]]++;}),{'totalTopics':this[_0x2577a3(0x1b0)][_0x2577a3(0x1ad)],'strategies':_0x29e84c,'largeDataTopics':Array[_0x2577a3(0x1cd)](this[_0x2577a3(0x1b0)]['entries']())['filter'](([_0xd10a87,_0x3af064])=>_0x3af064['isLargeData'])['map'](([_0x132f47,_0x437229])=>_0x132f47)};}}module[a4_0x4845ff(0x1f8)]=new TopicManager();