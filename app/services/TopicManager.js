function a6_0x4009(_0x45d894,_0x56e365){const _0x544691=a6_0x31bb();return a6_0x4009=function(_0x865e40,_0x56be32){_0x865e40=_0x865e40-0x111;let _0x31bb86=_0x544691[_0x865e40];return _0x31bb86;},a6_0x4009(_0x45d894,_0x56e365);}const a6_0x521a0a=a6_0x4009;(function(_0x101d08,_0x471067){const _0x1083be=a6_0x4009,_0xa83587=_0x101d08();while(!![]){try{const _0x1f8f93=parseInt(_0x1083be(0x129))/0x1*(-parseInt(_0x1083be(0x174))/0x2)+-parseInt(_0x1083be(0x15e))/0x3*(-parseInt(_0x1083be(0x145))/0x4)+-parseInt(_0x1083be(0x16d))/0x5+-parseInt(_0x1083be(0x16a))/0x6+-parseInt(_0x1083be(0x14b))/0x7+parseInt(_0x1083be(0x125))/0x8+parseInt(_0x1083be(0x150))/0x9;if(_0x1f8f93===_0x471067)break;else _0xa83587['push'](_0xa83587['shift']());}catch(_0x4a931b){_0xa83587['push'](_0xa83587['shift']());}}}(a6_0x31bb,0xdd64c));const a6_0x56be32=(function(){let _0x5a273e=!![];return function(_0x17b499,_0x21c31b){const _0x1a1b44=_0x5a273e?function(){const _0x3b1fdc=a6_0x4009;if(_0x21c31b){const _0xd0f184=_0x21c31b[_0x3b1fdc(0x153)](_0x17b499,arguments);return _0x21c31b=null,_0xd0f184;}}:function(){};return _0x5a273e=![],_0x1a1b44;};}()),a6_0x865e40=a6_0x56be32(this,function(){const _0x8d06c9=a6_0x4009;return a6_0x865e40[_0x8d06c9(0x170)]()['search']('(((.+)+)+)+$')[_0x8d06c9(0x170)]()['constructor'](a6_0x865e40)[_0x8d06c9(0x147)](_0x8d06c9(0x13b));});a6_0x865e40();const {execSync}=require('child_process');class TopicManager{constructor(){const _0x28718b=a6_0x4009;this[_0x28718b(0x16c)]=new Map(),this['lastMessageTimes']=new Map(),this[_0x28718b(0x12d)]=![],this['config']={'largeDataThreshold':0x64*0x400,'defaultLargeDataStrategy':'webrtc_only','throttleFrequencies':{'sensor_msgs/msg/PointCloud2':0x5,'sensor_msgs/msg/LaserScan':0xf},'strategiesConfig':{}},console['log']('[TopicManager]\x20Initialised');}[a6_0x521a0a(0x162)](_0xe6303c){const _0x587bd5=a6_0x521a0a;if(_0xe6303c[_0x587bd5(0x141)]){const _0x2beb04=_0xe6303c[_0x587bd5(0x141)];_0x2beb04[_0x587bd5(0x12e)]&&(this[_0x587bd5(0x15a)]['largeDataThreshold']=_0x2beb04[_0x587bd5(0x12e)]),_0x2beb04[_0x587bd5(0x14e)]&&(this[_0x587bd5(0x15a)][_0x587bd5(0x14e)]=_0x2beb04[_0x587bd5(0x14e)]),_0x2beb04[_0x587bd5(0x161)]&&(this[_0x587bd5(0x15a)][_0x587bd5(0x140)]={..._0x2beb04['strategies']}),_0x2beb04['throttleFrequencies']&&(this[_0x587bd5(0x15a)][_0x587bd5(0x14f)]={...this['config']['throttleFrequencies'],..._0x2beb04['throttleFrequencies']}),console[_0x587bd5(0x171)](_0x587bd5(0x130),this[_0x587bd5(0x15a)]);}}async[a6_0x521a0a(0x139)](_0x400305){const _0x177e72=a6_0x521a0a;if(this['discoveryInProgress']||!_0x400305)return;this['discoveryInProgress']=!![],console['log'](_0x177e72(0x131));try{await new Promise((_0x46198f,_0xf25fe3)=>{const _0x3cde90=_0x177e72;_0x400305[_0x3cde90(0x124)](_0x24e6a4=>{const _0x24e191=_0x3cde90,_0x440877=_0x24e6a4[_0x24e191(0x160)][_0x24e191(0x151)]((_0x45ec77,_0x195a4f)=>({'name':_0x45ec77,'type':_0x24e6a4[_0x24e191(0x135)][_0x195a4f]}));console[_0x24e191(0x171)]('[TopicManager]\x20Found\x20'+_0x440877[_0x24e191(0x143)]+_0x24e191(0x137));for(const _0x39366c of _0x440877){this[_0x24e191(0x133)](_0x39366c);}console[_0x24e191(0x171)](_0x24e191(0x11c)),console['log'](_0x24e191(0x168),Array[_0x24e191(0x119)](this['topicStrategies'][_0x24e191(0x12b)]())),_0x46198f();},_0x208c7d=>{const _0x1ef920=_0x3cde90;console[_0x1ef920(0x128)]('[TopicManager]\x20Error\x20getting\x20topics:',_0x208c7d),_0xf25fe3(_0x208c7d);});});}catch(_0x5487ee){console[_0x177e72(0x128)](_0x177e72(0x112),_0x5487ee);}finally{this[_0x177e72(0x12d)]=![];}}[a6_0x521a0a(0x133)](_0x4dbc2a){const _0x322443=a6_0x521a0a,_0x3dbecd=this[_0x322443(0x154)](_0x4dbc2a);this['topicStrategies'][_0x322443(0x134)](_0x4dbc2a['name'],{'type':_0x4dbc2a[_0x322443(0x132)],'strategy':_0x3dbecd[_0x322443(0x132)],'reason':_0x3dbecd[_0x322443(0x146)],'maxFrequency':_0x3dbecd[_0x322443(0x166)],'isLargeData':_0x3dbecd[_0x322443(0x149)],'estimatedSize':_0x3dbecd['estimatedSize']}),console['log'](_0x322443(0x116)+_0x4dbc2a['name']+':\x20'+_0x3dbecd[_0x322443(0x132)]+'\x20('+_0x3dbecd[_0x322443(0x146)]+')');}[a6_0x521a0a(0x154)](_0x2af5c6){const _0x2f52dd=a6_0x521a0a;if(this['config'][_0x2f52dd(0x140)][_0x2af5c6['name']]){const _0x5a457c=this[_0x2f52dd(0x15a)][_0x2f52dd(0x140)][_0x2af5c6[_0x2f52dd(0x126)]];return this[_0x2f52dd(0x113)](_0x5a457c,_0x2f52dd(0x14d));}for(const [_0x2d9a9a,_0x8361d4]of Object[_0x2f52dd(0x12b)](this[_0x2f52dd(0x15a)][_0x2f52dd(0x140)])){if(_0x2af5c6[_0x2f52dd(0x126)][_0x2f52dd(0x15b)](_0x2d9a9a[_0x2f52dd(0x12a)]('/','')))return this[_0x2f52dd(0x113)](_0x8361d4,_0x2f52dd(0x120));}if(this[_0x2f52dd(0x13d)](_0x2af5c6['name'],_0x2af5c6[_0x2f52dd(0x132)])){const _0x28a9e2=this[_0x2f52dd(0x157)](_0x2af5c6[_0x2f52dd(0x126)],_0x2af5c6[_0x2f52dd(0x132)]);return{'type':_0x2f52dd(0x172),'reason':'video_webrtc_streaming','isLargeData':!![],'estimatedSize':_0x28a9e2,'maxFrequency':null};}const _0x30fdbd=this[_0x2f52dd(0x14a)](_0x2af5c6[_0x2f52dd(0x126)],_0x2af5c6['type']),_0x1b39a3=this[_0x2f52dd(0x157)](_0x2af5c6[_0x2f52dd(0x126)],_0x2af5c6[_0x2f52dd(0x132)]);if(_0x30fdbd||_0x1b39a3>this[_0x2f52dd(0x15a)]['largeDataThreshold']){let _0xf45455=this['config'][_0x2f52dd(0x14f)][_0x2af5c6[_0x2f52dd(0x132)]]||0xa,_0x351faf=_0x2f52dd(0x159);if(_0x2af5c6[_0x2f52dd(0x132)][_0x2f52dd(0x15b)]('PointCloud2')||_0x2af5c6[_0x2f52dd(0x126)][_0x2f52dd(0x15b)](_0x2f52dd(0x13f)))_0xf45455=this['config'][_0x2f52dd(0x14f)][_0x2af5c6[_0x2f52dd(0x132)]]||0x5,_0x351faf=_0x2f52dd(0x152);else{if(_0x2af5c6[_0x2f52dd(0x132)]['includes'](_0x2f52dd(0x11f))||_0x2af5c6[_0x2f52dd(0x126)][_0x2f52dd(0x15b)]('scan'))_0xf45455=this['config']['throttleFrequencies'][_0x2af5c6[_0x2f52dd(0x132)]]||0xf,_0x351faf=_0x2f52dd(0x16b);else _0x2af5c6[_0x2f52dd(0x132)][_0x2f52dd(0x15b)](_0x2f52dd(0x13a))&&(_0xf45455=this['config'][_0x2f52dd(0x14f)][_0x2af5c6[_0x2f52dd(0x132)]]||0xa,_0x351faf='image_throttled');}return{'type':'throttle','reason':_0x351faf,'isLargeData':!![],'estimatedSize':_0x1b39a3,'maxFrequency':_0xf45455};}return{'type':_0x2f52dd(0x155),'reason':_0x2f52dd(0x164),'isLargeData':![],'estimatedSize':_0x1b39a3,'maxFrequency':null};}[a6_0x521a0a(0x113)](_0x50c7eb,_0x3dcd9a){const _0x37abbf=a6_0x521a0a;if(_0x50c7eb[_0x37abbf(0x15b)](':')){const [_0x138a7f,_0xe8f8aa]=_0x50c7eb['split'](':');return{'type':_0x138a7f,'reason':_0x3dcd9a,'isLargeData':!![],'maxFrequency':_0x138a7f==='throttle'?parseFloat(_0xe8f8aa):null,'estimatedSize':this[_0x37abbf(0x15a)][_0x37abbf(0x12e)]+0x1};}return{'type':_0x50c7eb,'reason':_0x3dcd9a,'isLargeData':_0x50c7eb!==_0x37abbf(0x155),'maxFrequency':null,'estimatedSize':this[_0x37abbf(0x15a)][_0x37abbf(0x12e)]+0x1};}[a6_0x521a0a(0x14a)](_0x5d5310,_0x3c71ad){const _0x44f289=a6_0x521a0a,_0xf32d50=[/point_cloud/i,/points/i,/depth.*image/i,/.*pointcloud/i,/laser.*scan/i,/scan/i,/camera.*image_raw/i,/lidar/i],_0x96e6ed=[_0x44f289(0x136),_0x44f289(0x15c),_0x44f289(0x12f),_0x44f289(0x123)];return _0xf32d50[_0x44f289(0x169)](_0x145773=>_0x145773[_0x44f289(0x122)](_0x5d5310))||_0x96e6ed[_0x44f289(0x15b)](_0x3c71ad);}[a6_0x521a0a(0x13d)](_0x6c06c7,_0x2c2a66=''){const _0x24d658=a6_0x521a0a,_0x2690bf=[_0x24d658(0x15c),_0x24d658(0x123)];if(_0x2690bf[_0x24d658(0x15b)](_0x2c2a66))return!_0x6c06c7[_0x24d658(0x15b)]('points')&&!_0x6c06c7['includes'](_0x24d658(0x14c))&&!_0x6c06c7[_0x24d658(0x15b)](_0x24d658(0x165));return(_0x6c06c7[_0x24d658(0x15b)]('image')||_0x6c06c7[_0x24d658(0x15b)](_0x24d658(0x13e)))&&!_0x6c06c7[_0x24d658(0x15b)](_0x24d658(0x13f))&&!_0x6c06c7['includes'](_0x24d658(0x14c))&&!_0x6c06c7[_0x24d658(0x15b)](_0x24d658(0x165));}[a6_0x521a0a(0x157)](_0x10f60c,_0x5077d5){const _0x45c59c=a6_0x521a0a,_0x47b50c={'sensor_msgs/msg/PointCloud2':0x1f4*0x400,'sensor_msgs/msg/Image':0x12c*0x400,'sensor_msgs/msg/CompressedImage':0x32*0x400,'sensor_msgs/msg/LaserScan':0x14*0x400};if(_0x47b50c[_0x5077d5])return _0x47b50c[_0x5077d5];if(_0x10f60c[_0x45c59c(0x15b)](_0x45c59c(0x158))||_0x10f60c[_0x45c59c(0x15b)]('cloud'))return 0x190*0x400;if(_0x10f60c[_0x45c59c(0x15b)](_0x45c59c(0x11e)))return 0x12c*0x400;if(_0x10f60c[_0x45c59c(0x15b)]('compressed'))return 0x32*0x400;return 0x400;}[a6_0x521a0a(0x156)](_0x1116c0){const _0x2837e6=a6_0x521a0a;let _0x5bce6e=this['topicStrategies'][_0x2837e6(0x144)](_0x1116c0[_0x2837e6(0x11b)]);if(!_0x5bce6e){console['log'](_0x2837e6(0x15f)+_0x1116c0[_0x2837e6(0x11b)]);let _0x27ed7c='unknown';if(_0x1116c0[_0x2837e6(0x11b)][_0x2837e6(0x15b)](_0x2837e6(0x13c))&&_0x1116c0[_0x2837e6(0x11b)][_0x2837e6(0x15b)]('compressed'))_0x27ed7c=_0x2837e6(0x123);else{if(_0x1116c0['topic']['includes'](_0x2837e6(0x13c)))_0x27ed7c=_0x2837e6(0x15c);else{if(_0x1116c0['topic'][_0x2837e6(0x15b)](_0x2837e6(0x158))||_0x1116c0[_0x2837e6(0x11b)][_0x2837e6(0x15b)](_0x2837e6(0x127)))_0x27ed7c='sensor_msgs/msg/PointCloud2';else _0x1116c0[_0x2837e6(0x11b)][_0x2837e6(0x15b)](_0x2837e6(0x12c))&&(_0x27ed7c=_0x2837e6(0x12f));}}const _0x36c85e={'name':_0x1116c0[_0x2837e6(0x11b)],'type':_0x27ed7c};this['analyzeTopicStrategy'](_0x36c85e),_0x5bce6e=this[_0x2837e6(0x16c)][_0x2837e6(0x144)](_0x1116c0[_0x2837e6(0x11b)]);}if(!_0x5bce6e)return{'action':_0x2837e6(0x142),'message':_0x1116c0};switch(_0x5bce6e[_0x2837e6(0x173)]){case _0x2837e6(0x175):return this[_0x2837e6(0x163)](_0x1116c0[_0x2837e6(0x11b)],_0x5bce6e['maxFrequency'])?{'action':_0x2837e6(0x142),'message':_0x1116c0}:{'action':_0x2837e6(0x15d)};case _0x2837e6(0x172):return{'action':_0x2837e6(0x148)};case _0x2837e6(0x155):default:return{'action':_0x2837e6(0x142),'message':_0x1116c0};}}[a6_0x521a0a(0x163)](_0x362d31,_0x55e272){const _0x5bea88=a6_0x521a0a;if(!_0x55e272)return!![];const _0x322f4a=Date[_0x5bea88(0x16e)](),_0x2c7055=0x3e8/_0x55e272;!this['lastMessageTimes'][_0x5bea88(0x167)](_0x362d31)&&this[_0x5bea88(0x16f)][_0x5bea88(0x134)](_0x362d31,0x0);const _0x2e141f=this[_0x5bea88(0x16f)][_0x5bea88(0x144)](_0x362d31),_0x2389de=_0x322f4a-_0x2e141f;if(_0x2389de>=_0x2c7055)return this['lastMessageTimes'][_0x5bea88(0x134)](_0x362d31,_0x322f4a),!![];return![];}[a6_0x521a0a(0x117)](_0x3ba567){const _0x4fa3b6=a6_0x521a0a;return this['topicStrategies'][_0x4fa3b6(0x144)](_0x3ba567);}[a6_0x521a0a(0x115)](){const _0x1f623a=a6_0x521a0a;return Array['from'](this[_0x1f623a(0x16c)]['entries']())[_0x1f623a(0x151)](([_0x52998f,_0x4d926c])=>({'topic':_0x52998f,..._0x4d926c}));}[a6_0x521a0a(0x121)](_0x41b333){const _0x3d5ba7=a6_0x521a0a,_0x4b383c=this[_0x3d5ba7(0x16c)][_0x3d5ba7(0x144)](_0x41b333);return _0x4b383c?.[_0x3d5ba7(0x173)]===_0x3d5ba7(0x11d);}[a6_0x521a0a(0x11a)](){const _0x5c1ac5=a6_0x521a0a,_0x364219={};return this['topicStrategies'][_0x5c1ac5(0x118)]((_0x5e1f9f,_0x2200f2)=>{const _0x33fb5b=_0x5c1ac5;!_0x364219[_0x5e1f9f['strategy']]&&(_0x364219[_0x5e1f9f[_0x33fb5b(0x173)]]=0x0),_0x364219[_0x5e1f9f[_0x33fb5b(0x173)]]++;}),{'totalTopics':this[_0x5c1ac5(0x16c)][_0x5c1ac5(0x114)],'strategies':_0x364219,'largeDataTopics':Array[_0x5c1ac5(0x119)](this[_0x5c1ac5(0x16c)]['entries']())[_0x5c1ac5(0x111)](([_0x13d6fa,_0x5b95a5])=>_0x5b95a5[_0x5c1ac5(0x149)])[_0x5c1ac5(0x151)](([_0x11c39d,_0x49b0b3])=>_0x11c39d)};}}module[a6_0x521a0a(0x138)]=new TopicManager();function a6_0x31bb(){const _0x382574=['[TopicManager]\x20Topic\x20','getTopicStrategy','forEach','from','getStatistics','topic','[TopicManager]\x20Topic\x20discovery\x20completed','webrtc_only','image_raw','LaserScan','pattern_configured','shouldUseWebRTC','test','sensor_msgs/msg/CompressedImage','getTopics','11167496ZCGXMr','name','cloud','error','1021101egondz','replace','entries','scan','discoveryInProgress','largeDataThreshold','sensor_msgs/msg/LaserScan','[TopicManager]\x20Loaded\x20configuration:','[TopicManager]\x20Starting\x20topic\x20discovery...','type','analyzeTopicStrategy','set','types','sensor_msgs/msg/PointCloud2','\x20topics','exports','discoverTopics','Image','(((.+)+)+)+$','image','isCameraTopic','compressed','points','strategiesConfig','topicHandling','forward','length','get','1172944uOViRC','reason','search','webrtc_skip','isLargeData','isLargeDataTopic','8971193oXfJNQ','point_cloud','user_configured','defaultLargeDataStrategy','throttleFrequencies','29227464vumgcX','map','point_cloud_throttled','apply','determineTopicStrategy','websocket','handleMessage','estimateTopicSize','point','large_data_throttled','config','includes','sensor_msgs/msg/Image','throttle_skip','6LVyCDP','[TopicManager]\x20Discovering\x20new\x20topic\x20at\x20runtime:\x20','topics','strategies','loadConfig','shouldThrottle','normal_size','depth_points','maxFrequency','has','[TopicManager]\x20Strategies:','some','8161410CEbZNh','laser_scan_throttled','topicStrategies','3300710BpOxWw','now','lastMessageTimes','toString','log','webrtc','strategy','2MMMZjv','throttle','filter','[TopicManager]\x20Topic\x20discovery\x20failed:','parseStrategyConfig','size','getManagedTopics'];a6_0x31bb=function(){return _0x382574;};return a6_0x31bb();}