const a8_0x2fc2fb=a8_0x3fa6;(function(_0x315a6f,_0x162c10){const _0x5a6abf=a8_0x3fa6,_0x16adf8=_0x315a6f();while(!![]){try{const _0x52008c=-parseInt(_0x5a6abf(0xa1))/0x1*(parseInt(_0x5a6abf(0xcf))/0x2)+-parseInt(_0x5a6abf(0xcc))/0x3+parseInt(_0x5a6abf(0xa5))/0x4*(parseInt(_0x5a6abf(0xb2))/0x5)+parseInt(_0x5a6abf(0xbf))/0x6*(-parseInt(_0x5a6abf(0xbe))/0x7)+parseInt(_0x5a6abf(0xa4))/0x8*(-parseInt(_0x5a6abf(0x95))/0x9)+-parseInt(_0x5a6abf(0xbc))/0xa+parseInt(_0x5a6abf(0xdf))/0xb;if(_0x52008c===_0x162c10)break;else _0x16adf8['push'](_0x16adf8['shift']());}catch(_0x218f79){_0x16adf8['push'](_0x16adf8['shift']());}}}(a8_0x547e,0x50a34));const a8_0x3a2279=(function(){let _0x4b69e1=!![];return function(_0x4daa8a,_0x12c54b){const _0x33714b=_0x4b69e1?function(){const _0x55f0d3=a8_0x3fa6;if(_0x12c54b){const _0x3c2b85=_0x12c54b[_0x55f0d3(0x9c)](_0x4daa8a,arguments);return _0x12c54b=null,_0x3c2b85;}}:function(){};return _0x4b69e1=![],_0x33714b;};}()),a8_0x39a01d=a8_0x3a2279(this,function(){const _0xb49f62=a8_0x3fa6;return a8_0x39a01d['toString']()['search'](_0xb49f62(0xbb))[_0xb49f62(0xa8)]()['constructor'](a8_0x39a01d)[_0xb49f62(0xc4)](_0xb49f62(0xbb));});function a8_0x3fa6(_0x1cd972,_0x2a79f1){const _0x4be47e=a8_0x547e();return a8_0x3fa6=function(_0x39a01d,_0x3a2279){_0x39a01d=_0x39a01d-0x90;let _0x547ed9=_0x4be47e[_0x39a01d];return _0x547ed9;},a8_0x3fa6(_0x1cd972,_0x2a79f1);}a8_0x39a01d();const {DOMParser,XMLSerializer}=require(a8_0x2fc2fb(0x90)),{execSync}=require(a8_0x2fc2fb(0xc7)),fs=require('fs'),path=require('path');class UrdfService{constructor(){const _0x2a85cb=a8_0x2fc2fb;this[_0x2a85cb(0xc3)]=process[_0x2a85cb(0xcb)][_0x2a85cb(0x9b)]||'',this['meshExtensions']=[_0x2a85cb(0xb6),_0x2a85cb(0x9d),_0x2a85cb(0xd8),_0x2a85cb(0xc8),_0x2a85cb(0xdb)];}[a8_0x2fc2fb(0xde)](_0x85089){const _0x18a3e3=a8_0x2fc2fb;try{const _0x8bc972=new DOMParser(),_0x3ba6de=_0x8bc972[_0x18a3e3(0xd3)](_0x85089,'text/xml');let _0x59e9e1=0x0,_0x16b1d0=0x0;const _0x47167a=_0x3ba6de[_0x18a3e3(0xa7)]('mesh');for(let _0x4209c0=0x0;_0x4209c0<_0x47167a[_0x18a3e3(0x94)];_0x4209c0++){const _0x42bfe7=_0x47167a[_0x4209c0],_0x5e5587=_0x42bfe7['getAttribute'](_0x18a3e3(0xaf)),_0xae4397=this[_0x18a3e3(0xc6)]['some'](_0x26177c=>_0x5e5587&&_0x5e5587['toLowerCase']()[_0x18a3e3(0xd7)](_0x26177c));if(_0x5e5587&&_0x5e5587[_0x18a3e3(0xb8)](_0x18a3e3(0x99))&&_0xae4397){_0x59e9e1++;const _0x3f323d=this['applianceBaseUrl']+'/ros/mesh?uri='+encodeURIComponent(_0x5e5587);_0x42bfe7[_0x18a3e3(0xdd)](_0x18a3e3(0xaf),_0x3f323d),_0x16b1d0++,console[_0x18a3e3(0x96)]('[URDF\x20REWRITE]\x20Rewrote\x20mesh\x20URI:\x20'+_0x5e5587+'\x20->\x20'+_0x3f323d);}}_0x59e9e1>0x0?console['log'](_0x18a3e3(0xcd)+_0x16b1d0+_0x18a3e3(0xd1)+_0x59e9e1+'\x20mesh\x20references\x20in\x20URDF'):console[_0x18a3e3(0x96)](_0x18a3e3(0xbd));const _0x4e8724=new XMLSerializer();return _0x4e8724[_0x18a3e3(0xa9)](_0x3ba6de);}catch(_0x222c5c){return console[_0x18a3e3(0xc1)](_0x18a3e3(0xd5),_0x222c5c),_0x85089;}}[a8_0x2fc2fb(0xd2)](_0xf6a3c5,_0x467a50){const _0x1f4fc7=a8_0x2fc2fb;if(_0x467a50==='/robot_description'&&_0xf6a3c5[_0x1f4fc7(0xd0)]&&_0xf6a3c5[_0x1f4fc7(0xd0)][_0x1f4fc7(0x9e)])try{const _0x30914d=_0xf6a3c5[_0x1f4fc7(0xd0)]['data'],_0x502893=this[_0x1f4fc7(0xde)](_0x30914d);if(_0x502893!==_0x30914d){const _0x2c4091={..._0xf6a3c5};return _0x2c4091[_0x1f4fc7(0xd0)]={..._0xf6a3c5[_0x1f4fc7(0xd0)]},_0x2c4091['msg'][_0x1f4fc7(0x9e)]=_0x502893,_0x2c4091;}}catch(_0x365e05){console['error'](_0x1f4fc7(0x93),_0x365e05);}return null;}[a8_0x2fc2fb(0xa2)](_0x86e2de,_0x282c92){const _0x1f3e6c=a8_0x2fc2fb;if(_0x86e2de['op']===_0x1f3e6c(0xb4)&&typeof _0x86e2de[_0x1f3e6c(0xda)]===_0x1f3e6c(0xe0)&&_0x86e2de['request_id'])try{console[_0x1f3e6c(0x96)](_0x1f3e6c(0xba)+_0x86e2de[_0x1f3e6c(0xda)]);const _0x43fd0f=execSync(_0x1f3e6c(0xb7)+_0x86e2de[_0x1f3e6c(0xda)],{'encoding':_0x1f3e6c(0xae)})[_0x1f3e6c(0xc5)]();let _0x3c8220=_0x43fd0f;_0x43fd0f[_0x1f3e6c(0xb8)](_0x1f3e6c(0xb9))&&(_0x3c8220=_0x43fd0f[_0x1f3e6c(0xb5)](_0x1f3e6c(0xb9)[_0x1f3e6c(0x94)]()));_0x3c8220['startsWith']('\x22')&&_0x3c8220['endsWith']('\x22')&&(_0x3c8220=_0x3c8220[_0x1f3e6c(0xd4)](0x1,-0x1));_0x3c8220=_0x3c8220[_0x1f3e6c(0xb1)](/\\n/g,'\x0a')[_0x1f3e6c(0xb1)](/\\"/g,'\x22');const _0x52e50e={'op':_0x1f3e6c(0x92),'request_id':_0x86e2de[_0x1f3e6c(0x97)],'data':_0x3c8220};return _0x282c92[_0x1f3e6c(0xac)](JSON[_0x1f3e6c(0xc9)](_0x52e50e)),console[_0x1f3e6c(0x96)](_0x1f3e6c(0x98)+_0x86e2de[_0x1f3e6c(0xda)]),!![];}catch(_0x5582f4){console['error'](_0x1f3e6c(0xce),_0x5582f4);const _0x2e0bf8={'op':_0x1f3e6c(0x92),'request_id':_0x86e2de[_0x1f3e6c(0x97)],'error':_0x5582f4[_0x1f3e6c(0xdc)]};return _0x282c92[_0x1f3e6c(0xac)](JSON[_0x1f3e6c(0xc9)](_0x2e0bf8)),!![];}return![];}['handleMeshRequest'](_0x359b64,_0x4a1fef){const _0x5062be=a8_0x2fc2fb;if(_0x359b64['op']===_0x5062be(0x9a)&&typeof _0x359b64[_0x5062be(0xa6)]===_0x5062be(0xe0)&&_0x359b64['request_id'])try{const _0x508820=_0x359b64[_0x5062be(0xa6)][_0x5062be(0xc0)](/^package:\/\/([^\/]+)\/(.+)$/);if(_0x508820){const _0x12932b=_0x508820[0x1],_0x487a6c=_0x508820[0x2],_0x1f8b36=execSync(_0x5062be(0xe1)+_0x12932b,{'encoding':_0x5062be(0xae)})['trim'](),_0x40640f=path[_0x5062be(0xab)](_0x1f8b36,_0x5062be(0xd9),_0x12932b,_0x487a6c);if(!fs['existsSync'](_0x40640f))throw new Error(_0x5062be(0xa3)+_0x40640f);const _0x459847=fs['readFileSync'](_0x40640f),_0x3174ac={'op':_0x5062be(0xaa),'request_id':_0x359b64['request_id'],'data':_0x459847[_0x5062be(0xa8)]('base64')};return _0x4a1fef[_0x5062be(0xac)](JSON['stringify'](_0x3174ac)),console[_0x5062be(0x96)](_0x5062be(0xca)+_0x359b64['uri']+_0x5062be(0xd6)+_0x40640f),!![];}}catch(_0x5b4914){console[_0x5062be(0xc1)](_0x5062be(0x91),_0x5b4914);const _0x157b98={'op':_0x5062be(0xaa),'request_id':_0x359b64[_0x5062be(0x97)],'error':_0x5b4914['message']};return _0x4a1fef['send'](JSON[_0x5062be(0xc9)](_0x157b98)),!![];}return![];}['handleMessage'](_0x29e192,_0x32fa4a){const _0xb2c3c5=a8_0x2fc2fb;if(this[_0xb2c3c5(0xa2)](_0x29e192,_0x32fa4a))return!![];if(this[_0xb2c3c5(0xad)](_0x29e192,_0x32fa4a))return!![];return![];}['getSupportedMeshExtensions'](){const _0xf564c9=a8_0x2fc2fb;return[...this[_0xf564c9(0xc6)]];}[a8_0x2fc2fb(0xa0)](_0x3d47ae){const _0x320fa8=a8_0x2fc2fb;if(!_0x3d47ae)return![];return this[_0x320fa8(0xc6)][_0x320fa8(0xc2)](_0x3f08a9=>_0x3d47ae[_0x320fa8(0x9f)]()['endsWith'](_0x3f08a9));}[a8_0x2fc2fb(0xb3)](_0x283882){const _0x4c51c9=a8_0x2fc2fb;this[_0x4c51c9(0xc3)]=_0x283882||'';}}function a8_0x547e(){const _0x481c4b=['[URDF\x20PARAM]\x20Error\x20fetching\x20URDF\x20parameter:','871466TOWThL','msg','\x20of\x20','processMessage','parseFromString','slice','[URDF\x20REWRITE]\x20Failed\x20to\x20rewrite\x20mesh\x20URIs\x20in\x20URDF:','\x20from\x20','endsWith','.obj','share','param_name','.mesh','message','setAttribute','rewriteMeshUris','14057351wRFFJf','string','ros2\x20pkg\x20prefix\x20','xmldom','[MESH]\x20Error\x20serving\x20mesh:','urdf_param_data','[URDF]\x20Failed\x20to\x20process\x20robot_description\x20message:','length','36ASqNtx','log','request_id','[URDF\x20PARAM]\x20Successfully\x20served\x20URDF\x20parameter:\x20','package://','get_mesh','APPLIANCE_BASE_URL','apply','.dae','data','toLowerCase','isMeshFile','1wAlhyp','handleUrdfParamRequest','Mesh\x20file\x20not\x20found:\x20','127872isPIAY','1921644eXMLUt','uri','getElementsByTagName','toString','serializeToString','mesh_data','join','send','handleMeshRequest','utf8','filename','exports','replace','5odBFlN','setApplianceBaseUrl','get_urdf_param','substring','.stl','ros2\x20param\x20get\x20','startsWith','String\x20value\x20is:\x20','[URDF\x20PARAM]\x20Fetching\x20URDF\x20from\x20parameter:\x20','(((.+)+)+)+$','307830Wqohsh','[URDF\x20REWRITE]\x20No\x20mesh\x20references\x20found\x20in\x20URDF','42VLGUcj','421716KjuLWu','match','error','some','applianceBaseUrl','search','trim','meshExtensions','child_process','.ply','stringify','[MESH]\x20Successfully\x20served\x20mesh:\x20','env','1427676aRTDbk','[URDF\x20REWRITE]\x20Rewrote\x20'];a8_0x547e=function(){return _0x481c4b;};return a8_0x547e();}module[a8_0x2fc2fb(0xb0)]=new UrdfService();