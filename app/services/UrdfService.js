function a8_0x271d(_0x5a3544,_0x599a7f){const _0x2cfab8=a8_0x1317();return a8_0x271d=function(_0x788554,_0x1947f5){_0x788554=_0x788554-0xcf;let _0x1317dd=_0x2cfab8[_0x788554];return _0x1317dd;},a8_0x271d(_0x5a3544,_0x599a7f);}const a8_0x29f402=a8_0x271d;(function(_0x27cef1,_0x1a7b3b){const _0x12ba38=a8_0x271d,_0x514f8a=_0x27cef1();while(!![]){try{const _0x59a505=parseInt(_0x12ba38(0x10c))/0x1+-parseInt(_0x12ba38(0x101))/0x2*(parseInt(_0x12ba38(0xde))/0x3)+-parseInt(_0x12ba38(0xe0))/0x4+parseInt(_0x12ba38(0xf6))/0x5+parseInt(_0x12ba38(0xd0))/0x6+-parseInt(_0x12ba38(0xd9))/0x7*(-parseInt(_0x12ba38(0xda))/0x8)+-parseInt(_0x12ba38(0xd5))/0x9*(parseInt(_0x12ba38(0x103))/0xa);if(_0x59a505===_0x1a7b3b)break;else _0x514f8a['push'](_0x514f8a['shift']());}catch(_0x1a1309){_0x514f8a['push'](_0x514f8a['shift']());}}}(a8_0x1317,0xd0959));function a8_0x1317(){const _0x1d4a0e=['[URDF\x20REWRITE]\x20Failed\x20to\x20rewrite\x20mesh\x20URIs\x20in\x20URDF:','.stl','param_name','match','ros2\x20pkg\x20prefix\x20','exports','String\x20value\x20is:\x20','get_mesh','replace','share','setAttribute','env','APPLIANCE_BASE_URL','constructor','\x20mesh\x20references\x20in\x20URDF','\x20->\x20','filename','setApplianceBaseUrl','[URDF\x20PARAM]\x20Successfully\x20served\x20URDF\x20parameter:\x20','6216000cUdobY','handleMeshRequest','string','parseFromString','error','495zMVFQw','isMeshFile','[URDF\x20PARAM]\x20Fetching\x20URDF\x20from\x20parameter:\x20','[URDF\x20REWRITE]\x20Rewrote\x20mesh\x20URI:\x20','21pXTuTJ','224216VIQtaP','search','urdf_param_data','[MESH]\x20Error\x20serving\x20mesh:','433833yLbtsY','path','5975144YuJsbe','\x20of\x20','data','base64','msg','mesh_data','utf8','get_urdf_param','Mesh\x20file\x20not\x20found:\x20','getSupportedMeshExtensions','uri','toLowerCase','stringify','.dae','/robot_description','handleMessage','apply','applianceBaseUrl','[URDF\x20REWRITE]\x20No\x20mesh\x20references\x20found\x20in\x20URDF','log','length','message','3449005balZIL','send','existsSync','some','meshExtensions','endsWith','slice','startsWith','trim','serializeToString','(((.+)+)+)+$','12tDrGmA','[URDF]\x20Failed\x20to\x20process\x20robot_description\x20message:','22510clTAtL','[URDF\x20PARAM]\x20Error\x20fetching\x20URDF\x20parameter:','[URDF\x20REWRITE]\x20Rewrote\x20','mesh','request_id','getAttribute','.ply','readFileSync','toString','1529736axLcob','\x20from\x20'];a8_0x1317=function(){return _0x1d4a0e;};return a8_0x1317();}const a8_0x1947f5=(function(){let _0x20895d=!![];return function(_0x3a52ea,_0x4aa531){const _0x470d8f=_0x20895d?function(){const _0x5db0e4=a8_0x271d;if(_0x4aa531){const _0x38f7ee=_0x4aa531[_0x5db0e4(0xf0)](_0x3a52ea,arguments);return _0x4aa531=null,_0x38f7ee;}}:function(){};return _0x20895d=![],_0x470d8f;};}()),a8_0x788554=a8_0x1947f5(this,function(){const _0x2acb9a=a8_0x271d;return a8_0x788554[_0x2acb9a(0x10b)]()[_0x2acb9a(0xdb)]('(((.+)+)+)+$')['toString']()[_0x2acb9a(0x11b)](a8_0x788554)[_0x2acb9a(0xdb)](_0x2acb9a(0x100));});a8_0x788554();const {DOMParser,XMLSerializer}=require('xmldom'),{execSync}=require('child_process'),fs=require('fs'),path=require(a8_0x29f402(0xdf));class UrdfService{constructor(){const _0x1b13fc=a8_0x29f402;this[_0x1b13fc(0xf1)]=process[_0x1b13fc(0x119)][_0x1b13fc(0x11a)]||'',this[_0x1b13fc(0xfa)]=[_0x1b13fc(0x10f),_0x1b13fc(0xed),'.obj',_0x1b13fc(0x109),'.mesh'];}['rewriteMeshUris'](_0x267899){const _0x37fd85=a8_0x29f402;try{const _0x4a1e7b=new DOMParser(),_0x4c2179=_0x4a1e7b[_0x37fd85(0xd3)](_0x267899,'text/xml');let _0x3d52bd=0x0,_0xdc2024=0x0;const _0x3e259f=_0x4c2179['getElementsByTagName'](_0x37fd85(0x106));for(let _0x4ac66d=0x0;_0x4ac66d<_0x3e259f[_0x37fd85(0xf4)];_0x4ac66d++){const _0x3a5810=_0x3e259f[_0x4ac66d],_0x2e1432=_0x3a5810[_0x37fd85(0x108)](_0x37fd85(0x11e)),_0x1b52c0=this[_0x37fd85(0xfa)][_0x37fd85(0xf9)](_0x136208=>_0x2e1432&&_0x2e1432[_0x37fd85(0xeb)]()[_0x37fd85(0xfb)](_0x136208));if(_0x2e1432&&_0x2e1432[_0x37fd85(0xfd)]('package://')&&_0x1b52c0){_0x3d52bd++;const _0x32a1f5=this[_0x37fd85(0xf1)]+'/ros/mesh?uri='+encodeURIComponent(_0x2e1432);_0x3a5810[_0x37fd85(0x118)](_0x37fd85(0x11e),_0x32a1f5),_0xdc2024++,console['log'](_0x37fd85(0xd8)+_0x2e1432+_0x37fd85(0x11d)+_0x32a1f5);}}_0x3d52bd>0x0?console[_0x37fd85(0xf3)](_0x37fd85(0x105)+_0xdc2024+_0x37fd85(0xe1)+_0x3d52bd+_0x37fd85(0x11c)):console[_0x37fd85(0xf3)](_0x37fd85(0xf2));const _0x350b1f=new XMLSerializer();return _0x350b1f[_0x37fd85(0xff)](_0x4c2179);}catch(_0x3ae738){return console['error'](_0x37fd85(0x10e),_0x3ae738),_0x267899;}}['processMessage'](_0x569365,_0x76349d){const _0x535743=a8_0x29f402;if(_0x76349d===_0x535743(0xee)&&_0x569365[_0x535743(0xe4)]&&_0x569365[_0x535743(0xe4)][_0x535743(0xe2)])try{const _0x3f0097=_0x569365[_0x535743(0xe4)][_0x535743(0xe2)],_0x171e3b=this['rewriteMeshUris'](_0x3f0097);if(_0x171e3b!==_0x3f0097){const _0x1fbbe6={..._0x569365};return _0x1fbbe6['msg']={..._0x569365[_0x535743(0xe4)]},_0x1fbbe6[_0x535743(0xe4)][_0x535743(0xe2)]=_0x171e3b,_0x1fbbe6;}}catch(_0x5c1794){console[_0x535743(0xd4)](_0x535743(0x102),_0x5c1794);}return null;}['handleUrdfParamRequest'](_0x4d3519,_0x1b8f2f){const _0x169b98=a8_0x29f402;if(_0x4d3519['op']===_0x169b98(0xe7)&&typeof _0x4d3519[_0x169b98(0x110)]===_0x169b98(0xd2)&&_0x4d3519[_0x169b98(0x107)])try{console[_0x169b98(0xf3)](_0x169b98(0xd7)+_0x4d3519[_0x169b98(0x110)]);const _0x10291d=execSync('ros2\x20param\x20get\x20'+_0x4d3519['param_name'],{'encoding':_0x169b98(0xe6)})[_0x169b98(0xfe)]();let _0x526388=_0x10291d;_0x10291d['startsWith'](_0x169b98(0x114))&&(_0x526388=_0x10291d['substring'](_0x169b98(0x114)[_0x169b98(0xf4)]()));_0x526388['startsWith']('\x22')&&_0x526388[_0x169b98(0xfb)]('\x22')&&(_0x526388=_0x526388[_0x169b98(0xfc)](0x1,-0x1));_0x526388=_0x526388[_0x169b98(0x116)](/\\n/g,'\x0a')['replace'](/\\"/g,'\x22');const _0x977d33={'op':_0x169b98(0xdc),'request_id':_0x4d3519['request_id'],'data':_0x526388};return _0x1b8f2f[_0x169b98(0xf7)](JSON['stringify'](_0x977d33)),console[_0x169b98(0xf3)](_0x169b98(0xcf)+_0x4d3519[_0x169b98(0x110)]),!![];}catch(_0x45e208){console[_0x169b98(0xd4)](_0x169b98(0x104),_0x45e208);const _0x3322d5={'op':'urdf_param_data','request_id':_0x4d3519[_0x169b98(0x107)],'error':_0x45e208[_0x169b98(0xf5)]};return _0x1b8f2f['send'](JSON[_0x169b98(0xec)](_0x3322d5)),!![];}return![];}[a8_0x29f402(0xd1)](_0x7513be,_0x3c0ad5){const _0x127634=a8_0x29f402;if(_0x7513be['op']===_0x127634(0x115)&&typeof _0x7513be['uri']===_0x127634(0xd2)&&_0x7513be[_0x127634(0x107)])try{const _0x456fc5=_0x7513be[_0x127634(0xea)][_0x127634(0x111)](/^package:\/\/([^\/]+)\/(.+)$/);if(_0x456fc5){const _0x380e06=_0x456fc5[0x1],_0x516d0a=_0x456fc5[0x2],_0xb0db9e=execSync(_0x127634(0x112)+_0x380e06,{'encoding':_0x127634(0xe6)})[_0x127634(0xfe)](),_0x30a8d0=path['join'](_0xb0db9e,_0x127634(0x117),_0x380e06,_0x516d0a);if(!fs[_0x127634(0xf8)](_0x30a8d0))throw new Error(_0x127634(0xe8)+_0x30a8d0);const _0x18cb31=fs[_0x127634(0x10a)](_0x30a8d0),_0x4a1790={'op':_0x127634(0xe5),'request_id':_0x7513be[_0x127634(0x107)],'data':_0x18cb31[_0x127634(0x10b)](_0x127634(0xe3))};return _0x3c0ad5['send'](JSON['stringify'](_0x4a1790)),console[_0x127634(0xf3)]('[MESH]\x20Successfully\x20served\x20mesh:\x20'+_0x7513be[_0x127634(0xea)]+_0x127634(0x10d)+_0x30a8d0),!![];}}catch(_0x58556d){console[_0x127634(0xd4)](_0x127634(0xdd),_0x58556d);const _0x3f7923={'op':'mesh_data','request_id':_0x7513be[_0x127634(0x107)],'error':_0x58556d['message']};return _0x3c0ad5[_0x127634(0xf7)](JSON[_0x127634(0xec)](_0x3f7923)),!![];}return![];}[a8_0x29f402(0xef)](_0xc0b811,_0x12ebb2){const _0x3c5220=a8_0x29f402;if(this['handleUrdfParamRequest'](_0xc0b811,_0x12ebb2))return!![];if(this[_0x3c5220(0xd1)](_0xc0b811,_0x12ebb2))return!![];return![];}[a8_0x29f402(0xe9)](){const _0x58e699=a8_0x29f402;return[...this[_0x58e699(0xfa)]];}[a8_0x29f402(0xd6)](_0x3cf4a6){const _0x5bcc7e=a8_0x29f402;if(!_0x3cf4a6)return![];return this['meshExtensions'][_0x5bcc7e(0xf9)](_0xab4290=>_0x3cf4a6[_0x5bcc7e(0xeb)]()['endsWith'](_0xab4290));}[a8_0x29f402(0x11f)](_0x4215bf){this['applianceBaseUrl']=_0x4215bf||'';}}module[a8_0x29f402(0x113)]=new UrdfService();