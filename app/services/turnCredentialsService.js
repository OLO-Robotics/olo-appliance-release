function a5_0x50b0(_0xc1ce92,_0x27ea2c){const _0x3d31df=a5_0x5053();return a5_0x50b0=function(_0x32ee8e,_0xa49fc8){_0x32ee8e=_0x32ee8e-0x74;let _0x5053e3=_0x3d31df[_0x32ee8e];return _0x5053e3;},a5_0x50b0(_0xc1ce92,_0x27ea2c);}const a5_0x7fc34f=a5_0x50b0;(function(_0x71148e,_0xe6947e){const _0x4b1870=a5_0x50b0,_0x51c07a=_0x71148e();while(!![]){try{const _0x3f56df=parseInt(_0x4b1870(0x7c))/0x1*(parseInt(_0x4b1870(0x8a))/0x2)+parseInt(_0x4b1870(0x9b))/0x3+-parseInt(_0x4b1870(0x79))/0x4+-parseInt(_0x4b1870(0x9d))/0x5*(parseInt(_0x4b1870(0x99))/0x6)+-parseInt(_0x4b1870(0x96))/0x7*(parseInt(_0x4b1870(0xa6))/0x8)+-parseInt(_0x4b1870(0x8e))/0x9+parseInt(_0x4b1870(0x7d))/0xa*(parseInt(_0x4b1870(0x9e))/0xb);if(_0x3f56df===_0xe6947e)break;else _0x51c07a['push'](_0x51c07a['shift']());}catch(_0x2e4716){_0x51c07a['push'](_0x51c07a['shift']());}}}(a5_0x5053,0x1f39e));function a5_0x5053(){const _0x421bc8=['end','[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server','initialize','[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available','pathname','831272eXvrYh','isAuthenticated','getFallbackIceServers','7129ZQMbce','935260niVFTf','login','cacheDuration','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','iceServers','toString','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','stun:stun1.l.google.com:19302','setTimeout','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','hostname','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','fetchCredentials','34uPXBCS','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','log','2016909JgzrjH','serverUrl','credentialsCache','[Appliance\x20TURN\x20Service]\x20Request\x20error:','Bearer\x20','OLO-Appliance/1.0','data','warn','97279cHcZcE','/webrtc/turn-credentials','request','2370vtyAGs','http','132216eLdVEg','getCredentials','2765zgzUVe','77GSvuOF','apply','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','stun:stun.l.google.com:19302','cacheExpiry','[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials','search','24qRlTJg','now','clearCache','error','./auth','https:','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','exports','https'];a5_0x5053=function(){return _0x421bc8;};return a5_0x5053();}const a5_0xa49fc8=(function(){let _0xcb340b=!![];return function(_0x44715b,_0xef4e4b){const _0x34c1f7=_0xcb340b?function(){const _0x4e81df=a5_0x50b0;if(_0xef4e4b){const _0x1395c2=_0xef4e4b[_0x4e81df(0x9f)](_0x44715b,arguments);return _0xef4e4b=null,_0x1395c2;}}:function(){};return _0xcb340b=![],_0x34c1f7;};}()),a5_0x32ee8e=a5_0xa49fc8(this,function(){const _0x5cd829=a5_0x50b0;return a5_0x32ee8e['toString']()[_0x5cd829(0xa5)]('(((.+)+)+)+$')[_0x5cd829(0x82)]()['constructor'](a5_0x32ee8e)[_0x5cd829(0xa5)]('(((.+)+)+)+$');});a5_0x32ee8e();const https=require(a5_0x7fc34f(0xae)),http=require(a5_0x7fc34f(0x9a)),authService=require(a5_0x7fc34f(0xaa));class ApplianceTurnCredentialsService{constructor(){const _0x100098=a5_0x7fc34f;this[_0x100098(0x90)]=null,this[_0x100098(0xa3)]=0x0,this['cacheDuration']=0xe10*0x3e8,this['serverUrl']=null;}[a5_0x7fc34f(0x76)](_0x3aedea){const _0x3958c0=a5_0x7fc34f;this['serverUrl']=_0x3aedea,console[_0x3958c0(0x8d)]('[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:',_0x3aedea);}async[a5_0x7fc34f(0x89)](){const _0x12dcf3=a5_0x7fc34f;if(!this[_0x12dcf3(0x8f)])return console[_0x12dcf3(0xa9)]('[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized'),this[_0x12dcf3(0x7b)]();if(!authService[_0x12dcf3(0x7a)]()){console['log'](_0x12dcf3(0x88));const _0x4c8e6b=await authService[_0x12dcf3(0x7e)]();if(!_0x4c8e6b)return console[_0x12dcf3(0xa9)](_0x12dcf3(0xa1)),this['getFallbackIceServers']();}try{console[_0x12dcf3(0x8d)](_0x12dcf3(0x83));const _0x14d6b9=new URL(_0x12dcf3(0x97),this[_0x12dcf3(0x8f)]),_0x13f3ab=_0x14d6b9['protocol']===_0x12dcf3(0xab),_0x1ad9ac=_0x13f3ab?https:http,_0x191fbc=authService['getToken']();if(!_0x191fbc)return console[_0x12dcf3(0xa9)](_0x12dcf3(0x77)),this['getFallbackIceServers']();return new Promise((_0x2955e0,_0x20d72c)=>{const _0x19b56e=_0x12dcf3,_0x3a0907={'hostname':_0x14d6b9[_0x19b56e(0x87)],'port':_0x14d6b9['port']||(_0x13f3ab?0x1bb:0x50),'path':_0x14d6b9[_0x19b56e(0x78)],'method':'GET','headers':{'User-Agent':_0x19b56e(0x93),'Authorization':_0x19b56e(0x92)+_0x191fbc}},_0x5ae28a=_0x1ad9ac[_0x19b56e(0x98)](_0x3a0907,_0x49da2f=>{const _0x5664e2=_0x19b56e;let _0x513340='';_0x49da2f['on'](_0x5664e2(0x94),_0x5f5d01=>{_0x513340+=_0x5f5d01;}),_0x49da2f['on'](_0x5664e2(0x74),()=>{const _0x58155c=_0x5664e2;try{const _0x2b896c=JSON['parse'](_0x513340);_0x2b896c[_0x58155c(0x81)]?(console[_0x58155c(0x8d)](_0x58155c(0x75)),_0x2955e0(_0x2b896c[_0x58155c(0x81)])):(console[_0x58155c(0x95)](_0x58155c(0x8b)),_0x2955e0(this[_0x58155c(0x7b)]()));}catch(_0x50142){console[_0x58155c(0xa9)](_0x58155c(0x86),_0x50142),_0x2955e0(this[_0x58155c(0x7b)]());}});});_0x5ae28a['on'](_0x19b56e(0xa9),_0x4db47e=>{const _0x24afd4=_0x19b56e;console['error'](_0x24afd4(0x91),_0x4db47e),_0x2955e0(this[_0x24afd4(0x7b)]());}),_0x5ae28a[_0x19b56e(0x85)](0x2710,()=>{const _0x1f2ee6=_0x19b56e;console['error'](_0x1f2ee6(0xac)),_0x5ae28a['destroy'](),_0x2955e0(this[_0x1f2ee6(0x7b)]());}),_0x5ae28a[_0x19b56e(0x74)]();});}catch(_0x220b16){return console['error'](_0x12dcf3(0x80),_0x220b16),this[_0x12dcf3(0x7b)]();}}async[a5_0x7fc34f(0x9c)](){const _0x52d75f=a5_0x7fc34f,_0x36e2b7=Date[_0x52d75f(0xa7)]();if(this[_0x52d75f(0x90)]&&_0x36e2b7<this['cacheExpiry'])return console[_0x52d75f(0x8d)](_0x52d75f(0xa4)),this['credentialsCache'];const _0x2ec4f2=await this[_0x52d75f(0x89)]();return this['credentialsCache']=_0x2ec4f2,this[_0x52d75f(0xa3)]=_0x36e2b7+this[_0x52d75f(0x7f)],console[_0x52d75f(0x8d)](_0x52d75f(0xa0)),_0x2ec4f2;}async['getIceServers'](){return await this['getCredentials']();}[a5_0x7fc34f(0x7b)](){const _0x297a1b=a5_0x7fc34f;return console[_0x297a1b(0x8d)](_0x297a1b(0x8c)),[{'urls':_0x297a1b(0xa2)},{'urls':_0x297a1b(0x84)}];}[a5_0x7fc34f(0xa8)](){const _0x4ba4b4=a5_0x7fc34f;this[_0x4ba4b4(0x90)]=null,this[_0x4ba4b4(0xa3)]=0x0,console[_0x4ba4b4(0x8d)]('[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared');}}module[a5_0x7fc34f(0xad)]=new ApplianceTurnCredentialsService();