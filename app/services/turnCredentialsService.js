const a5_0x25eb9b=a5_0x94cd;(function(_0x5952f7,_0x582289){const _0x55606d=a5_0x94cd,_0x29b794=_0x5952f7();while(!![]){try{const _0x533f68=parseInt(_0x55606d(0x1b2))/0x1+parseInt(_0x55606d(0x1bb))/0x2*(-parseInt(_0x55606d(0x19b))/0x3)+parseInt(_0x55606d(0x1ca))/0x4+-parseInt(_0x55606d(0x1a0))/0x5+parseInt(_0x55606d(0x1c8))/0x6+parseInt(_0x55606d(0x19e))/0x7*(parseInt(_0x55606d(0x1bf))/0x8)+parseInt(_0x55606d(0x19d))/0x9;if(_0x533f68===_0x582289)break;else _0x29b794['push'](_0x29b794['shift']());}catch(_0x2b2194){_0x29b794['push'](_0x29b794['shift']());}}}(a5_0x2862,0xb8eba));const a5_0x2fc40c=(function(){let _0x3065b6=!![];return function(_0x2a8d81,_0x59681f){const _0x18b18b=_0x3065b6?function(){if(_0x59681f){const _0x1f25d3=_0x59681f['apply'](_0x2a8d81,arguments);return _0x59681f=null,_0x1f25d3;}}:function(){};return _0x3065b6=![],_0x18b18b;};}()),a5_0x5b23cb=a5_0x2fc40c(this,function(){const _0x54240d=a5_0x94cd;return a5_0x5b23cb[_0x54240d(0x1c4)]()[_0x54240d(0x1b9)](_0x54240d(0x1b3))[_0x54240d(0x1c4)]()[_0x54240d(0x1af)](a5_0x5b23cb)[_0x54240d(0x1b9)](_0x54240d(0x1b3));});function a5_0x94cd(_0x2a6aba,_0x5f0eaf){const _0x1979e8=a5_0x2862();return a5_0x94cd=function(_0x5b23cb,_0x2fc40c){_0x5b23cb=_0x5b23cb-0x196;let _0x2862e1=_0x1979e8[_0x5b23cb];return _0x2862e1;},a5_0x94cd(_0x2a6aba,_0x5f0eaf);}a5_0x5b23cb();function a5_0x2862(){const _0x9100ba=['(((.+)+)+)+$','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','/webrtc/turn-credentials','exports','login','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','search','getFallbackIceServers','2740gWDYFF','request','clearCache','[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials','6134296NwiuaS','pathname','log','port','Bearer\x20','toString','cacheExpiry','setTimeout','./auth','1036056Ndsmqy','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','1295252mznnhG','destroy','iceServers','end','[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server','getCredentials','fetchCredentials','https:','error','credentialsCache','getToken','stun:stun.l.google.com:19302','[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:','3183hCkqaZ','parse','733536uIqZXY','7GbHNbw','https','1755250JXPswo','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','isAuthenticated','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','hostname','serverUrl','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','OLO-Appliance/1.0','now','getIceServers','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','constructor','[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared','cacheDuration','1217274EEqBHC'];a5_0x2862=function(){return _0x9100ba;};return a5_0x2862();}const https=require(a5_0x25eb9b(0x19f)),http=require('http'),authService=require(a5_0x25eb9b(0x1c7));class ApplianceTurnCredentialsService{constructor(){const _0x5028c1=a5_0x25eb9b;this['credentialsCache']=null,this[_0x5028c1(0x1c5)]=0x0,this[_0x5028c1(0x1b1)]=0xe10*0x3e8,this[_0x5028c1(0x1a5)]=null;}['initialize'](_0xcb0ac2){const _0x54317b=a5_0x25eb9b;this[_0x54317b(0x1a5)]=_0xcb0ac2,console[_0x54317b(0x1c1)](_0x54317b(0x19a),_0xcb0ac2);}async[a5_0x25eb9b(0x1d0)](){const _0x4aa60c=a5_0x25eb9b;if(!this['serverUrl'])return console[_0x4aa60c(0x196)](_0x4aa60c(0x1a7)),this[_0x4aa60c(0x1ba)]();if(!authService[_0x4aa60c(0x1a2)]()){console[_0x4aa60c(0x1c1)](_0x4aa60c(0x1ac));const _0x13a509=await authService[_0x4aa60c(0x1b7)]();if(!_0x13a509)return console[_0x4aa60c(0x196)](_0x4aa60c(0x1ae)),this[_0x4aa60c(0x1ba)]();}try{console[_0x4aa60c(0x1c1)](_0x4aa60c(0x1a6));const _0xb7911f=new URL(_0x4aa60c(0x1b5),this[_0x4aa60c(0x1a5)]),_0x2e1c4c=_0xb7911f['protocol']===_0x4aa60c(0x1d1),_0x5b3eea=_0x2e1c4c?https:http,_0x3b5826=authService[_0x4aa60c(0x198)]();if(!_0x3b5826)return console[_0x4aa60c(0x196)](_0x4aa60c(0x1ad)),this['getFallbackIceServers']();return new Promise((_0x1ac9c6,_0x2043c5)=>{const _0x377407=_0x4aa60c,_0x47dd2e={'hostname':_0xb7911f[_0x377407(0x1a4)],'port':_0xb7911f[_0x377407(0x1c2)]||(_0x2e1c4c?0x1bb:0x50),'path':_0xb7911f[_0x377407(0x1c0)],'method':'GET','headers':{'User-Agent':_0x377407(0x1a8),'Authorization':_0x377407(0x1c3)+_0x3b5826}},_0x39446f=_0x5b3eea[_0x377407(0x1bc)](_0x47dd2e,_0x15ca57=>{const _0x42af5d=_0x377407;let _0x4a0fc2='';_0x15ca57['on']('data',_0x307ad0=>{_0x4a0fc2+=_0x307ad0;}),_0x15ca57['on'](_0x42af5d(0x1cd),()=>{const _0x3d7adb=_0x42af5d;try{const _0x15c444=JSON[_0x3d7adb(0x19c)](_0x4a0fc2);_0x15c444[_0x3d7adb(0x1cc)]?(console[_0x3d7adb(0x1c1)](_0x3d7adb(0x1ce)),_0x1ac9c6(_0x15c444[_0x3d7adb(0x1cc)])):(console['warn'](_0x3d7adb(0x1b8)),_0x1ac9c6(this[_0x3d7adb(0x1ba)]()));}catch(_0x3015be){console[_0x3d7adb(0x196)](_0x3d7adb(0x1b4),_0x3015be),_0x1ac9c6(this[_0x3d7adb(0x1ba)]());}});});_0x39446f['on'](_0x377407(0x196),_0x160c7d=>{const _0x1dcfab=_0x377407;console['error']('[Appliance\x20TURN\x20Service]\x20Request\x20error:',_0x160c7d),_0x1ac9c6(this[_0x1dcfab(0x1ba)]());}),_0x39446f[_0x377407(0x1c6)](0x2710,()=>{const _0xe8d9f=_0x377407;console[_0xe8d9f(0x196)](_0xe8d9f(0x1c9)),_0x39446f[_0xe8d9f(0x1cb)](),_0x1ac9c6(this['getFallbackIceServers']());}),_0x39446f[_0x377407(0x1cd)]();});}catch(_0x525c05){return console[_0x4aa60c(0x196)](_0x4aa60c(0x1a1),_0x525c05),this['getFallbackIceServers']();}}async[a5_0x25eb9b(0x1cf)](){const _0x2ad229=a5_0x25eb9b,_0x137392=Date[_0x2ad229(0x1a9)]();if(this[_0x2ad229(0x197)]&&_0x137392<this[_0x2ad229(0x1c5)])return console[_0x2ad229(0x1c1)](_0x2ad229(0x1be)),this[_0x2ad229(0x197)];const _0x41ee56=await this['fetchCredentials']();return this[_0x2ad229(0x197)]=_0x41ee56,this[_0x2ad229(0x1c5)]=_0x137392+this[_0x2ad229(0x1b1)],console[_0x2ad229(0x1c1)](_0x2ad229(0x1a3)),_0x41ee56;}async[a5_0x25eb9b(0x1aa)](){const _0x56bbad=a5_0x25eb9b;return await this[_0x56bbad(0x1cf)]();}['getFallbackIceServers'](){const _0x148058=a5_0x25eb9b;return console['log'](_0x148058(0x1ab)),[{'urls':_0x148058(0x199)},{'urls':'stun:stun1.l.google.com:19302'}];}[a5_0x25eb9b(0x1bd)](){const _0x151c29=a5_0x25eb9b;this[_0x151c29(0x197)]=null,this[_0x151c29(0x1c5)]=0x0,console[_0x151c29(0x1c1)](_0x151c29(0x1b0));}}module[a5_0x25eb9b(0x1b6)]=new ApplianceTurnCredentialsService();