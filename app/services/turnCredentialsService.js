function a7_0x37f0(){const _0x31d826=['880NnrWnI','4906869cZrTxM','Bearer\x20','iceServers','[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','warn','cacheExpiry','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','[Appliance\x20TURN\x20Service]\x20Request\x20error:','initialize','toString','cacheDuration','[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server','search','117VFEIUT','./auth','fetchCredentials','OLO-Appliance/1.0','339678NRvasE','4002nwrimo','serverUrl','credentialsCache','http','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','port','364120ubJAmO','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','(((.+)+)+)+$','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','4964920qezWOX','data','end','protocol','isAuthenticated','parse','error','getToken','12618HsYUYG','217996wVrbms','stun:stun.l.google.com:19302','destroy','login','log','getFallbackIceServers','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','getIceServers','apply','getCredentials','1337KKKnKv','request','stun:stun1.l.google.com:19302','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:','clearCache','12EGreBJ','constructor','55YtJknP'];a7_0x37f0=function(){return _0x31d826;};return a7_0x37f0();}const a7_0x2aeb17=a7_0x37f9;function a7_0x37f9(_0x20784b,_0x480cdf){const _0x4fceed=a7_0x37f0();return a7_0x37f9=function(_0x188f8b,_0x151414){_0x188f8b=_0x188f8b-0x87;let _0x37f0a7=_0x4fceed[_0x188f8b];return _0x37f0a7;},a7_0x37f9(_0x20784b,_0x480cdf);}(function(_0x12d557,_0x2876c2){const _0x2ce19b=a7_0x37f9,_0x1dc107=_0x12d557();while(!![]){try{const _0x15fe30=-parseInt(_0x2ce19b(0x9f))/0x1+parseInt(_0x2ce19b(0x8b))/0x2*(-parseInt(_0x2ce19b(0xa0))/0x3)+parseInt(_0x2ce19b(0xb4))/0x4*(-parseInt(_0x2ce19b(0x8a))/0x5)+-parseInt(_0x2ce19b(0xb3))/0x6*(-parseInt(_0x2ce19b(0xbe))/0x7)+parseInt(_0x2ce19b(0xa7))/0x8*(parseInt(_0x2ce19b(0x9b))/0x9)+parseInt(_0x2ce19b(0xab))/0xa+parseInt(_0x2ce19b(0x8c))/0xb*(parseInt(_0x2ce19b(0x88))/0xc);if(_0x15fe30===_0x2876c2)break;else _0x1dc107['push'](_0x1dc107['shift']());}catch(_0xa36b0b){_0x1dc107['push'](_0x1dc107['shift']());}}}(a7_0x37f0,0x640d4));const a7_0x151414=(function(){let _0x43f654=!![];return function(_0x31b95a,_0x5f48b9){const _0x332c2c=_0x43f654?function(){const _0x449a51=a7_0x37f9;if(_0x5f48b9){const _0x6754f9=_0x5f48b9[_0x449a51(0xbc)](_0x31b95a,arguments);return _0x5f48b9=null,_0x6754f9;}}:function(){};return _0x43f654=![],_0x332c2c;};}()),a7_0x188f8b=a7_0x151414(this,function(){const _0x4aad12=a7_0x37f9;return a7_0x188f8b['toString']()[_0x4aad12(0x9a)](_0x4aad12(0xa9))[_0x4aad12(0x97)]()[_0x4aad12(0x89)](a7_0x188f8b)[_0x4aad12(0x9a)](_0x4aad12(0xa9));});a7_0x188f8b();const https=require('https'),http=require(a7_0x2aeb17(0xa3)),authService=require(a7_0x2aeb17(0x9c));class ApplianceTurnCredentialsService{constructor(){const _0x589692=a7_0x2aeb17;this['credentialsCache']=null,this[_0x589692(0x93)]=0x0,this[_0x589692(0x98)]=0xe10*0x3e8,this[_0x589692(0xa1)]=null;}[a7_0x2aeb17(0x96)](_0x417d14){const _0x181e1a=a7_0x2aeb17;this[_0x181e1a(0xa1)]=_0x417d14,console[_0x181e1a(0xb8)](_0x181e1a(0xc2),_0x417d14);}async[a7_0x2aeb17(0x9d)](){const _0x3200e6=a7_0x2aeb17;if(!this['serverUrl'])return console['error'](_0x3200e6(0x90)),this[_0x3200e6(0xb9)]();if(!authService[_0x3200e6(0xaf)]()){console['log'](_0x3200e6(0x94));const _0x2b6d71=await authService[_0x3200e6(0xb7)]();if(!_0x2b6d71)return console[_0x3200e6(0xb1)](_0x3200e6(0x91)),this[_0x3200e6(0xb9)]();}try{console[_0x3200e6(0xb8)](_0x3200e6(0xa4));const _0x41905a=new URL('/webrtc/turn-credentials',this[_0x3200e6(0xa1)]),_0x4c2693=_0x41905a[_0x3200e6(0xae)]==='https:',_0x3b4d45=_0x4c2693?https:http,_0x280a98=authService[_0x3200e6(0xb2)]();if(!_0x280a98)return console[_0x3200e6(0xb1)](_0x3200e6(0x8f)),this[_0x3200e6(0xb9)]();return new Promise((_0x367c26,_0x3e4073)=>{const _0x418f54=_0x3200e6,_0x33c2df={'hostname':_0x41905a['hostname'],'port':_0x41905a[_0x418f54(0xa6)]||(_0x4c2693?0x1bb:0x50),'path':_0x41905a['pathname'],'method':'GET','headers':{'User-Agent':_0x418f54(0x9e),'Authorization':_0x418f54(0x8d)+_0x280a98}},_0x4fc848=_0x3b4d45[_0x418f54(0xbf)](_0x33c2df,_0x3fd126=>{const _0x5b008a=_0x418f54;let _0x1b50e9='';_0x3fd126['on'](_0x5b008a(0xac),_0x36ffd9=>{_0x1b50e9+=_0x36ffd9;}),_0x3fd126['on'](_0x5b008a(0xad),()=>{const _0x1283b7=_0x5b008a;try{const _0x12cafb=JSON[_0x1283b7(0xb0)](_0x1b50e9);_0x12cafb[_0x1283b7(0x8e)]?(console[_0x1283b7(0xb8)](_0x1283b7(0x99)),_0x367c26(_0x12cafb['iceServers'])):(console[_0x1283b7(0x92)](_0x1283b7(0xc1)),_0x367c26(this['getFallbackIceServers']()));}catch(_0x26e4c2){console[_0x1283b7(0xb1)](_0x1283b7(0xaa),_0x26e4c2),_0x367c26(this[_0x1283b7(0xb9)]());}});});_0x4fc848['on']('error',_0xa6aa2=>{const _0x3fb6b7=_0x418f54;console['error'](_0x3fb6b7(0x95),_0xa6aa2),_0x367c26(this[_0x3fb6b7(0xb9)]());}),_0x4fc848['setTimeout'](0x2710,()=>{const _0x256fb5=_0x418f54;console['error'](_0x256fb5(0xa5)),_0x4fc848[_0x256fb5(0xb6)](),_0x367c26(this['getFallbackIceServers']());}),_0x4fc848['end']();});}catch(_0x4eab97){return console['error'](_0x3200e6(0xa8),_0x4eab97),this[_0x3200e6(0xb9)]();}}async[a7_0x2aeb17(0xbd)](){const _0x1c7f1e=a7_0x2aeb17,_0x2af4bc=Date['now']();if(this[_0x1c7f1e(0xa2)]&&_0x2af4bc<this[_0x1c7f1e(0x93)])return console['log']('[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials'),this['credentialsCache'];const _0x11e7b1=await this[_0x1c7f1e(0x9d)]();return this[_0x1c7f1e(0xa2)]=_0x11e7b1,this['cacheExpiry']=_0x2af4bc+this[_0x1c7f1e(0x98)],console['log'](_0x1c7f1e(0xba)),_0x11e7b1;}async[a7_0x2aeb17(0xbb)](){const _0x21aed9=a7_0x2aeb17;return await this[_0x21aed9(0xbd)]();}[a7_0x2aeb17(0xb9)](){const _0x3576ad=a7_0x2aeb17;return console[_0x3576ad(0xb8)]('[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers'),[{'urls':_0x3576ad(0xb5)},{'urls':_0x3576ad(0xc0)}];}[a7_0x2aeb17(0x87)](){const _0xb66db7=a7_0x2aeb17;this[_0xb66db7(0xa2)]=null,this['cacheExpiry']=0x0,console[_0xb66db7(0xb8)]('[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared');}}module['exports']=new ApplianceTurnCredentialsService();