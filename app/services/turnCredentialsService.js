function a5_0x51f2(_0x11eee4,_0x568ad3){const _0x10a23f=a5_0x176d();return a5_0x51f2=function(_0x507d30,_0x4e0ff1){_0x507d30=_0x507d30-0x76;let _0x176d1b=_0x10a23f[_0x507d30];return _0x176d1b;},a5_0x51f2(_0x11eee4,_0x568ad3);}const a5_0xb6181=a5_0x51f2;function a5_0x176d(){const _0x2febc6=['20110259yBSOxn','55561hKpnzj','(((.+)+)+)+$','error','6FkfVLP','1761125ekJaCK','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','https','iceServers','destroy','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','end','now','5818338aZrpIg','search','getCredentials','fetchCredentials','48388PFdqGX','constructor','stun:stun1.l.google.com:19302','serverUrl','10hVJCdJ','115314iycGdc','./auth','12wZqSsz','[Appliance\x20TURN\x20Service]\x20Request\x20error:','getFallbackIceServers','cacheDuration','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','8gjsLaa','OLO-Appliance/1.0','initialize','credentialsCache','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','https:','clearCache','isAuthenticated','getToken','exports','getIceServers','[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server','log','[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','hostname','39976ufgZpl','Bearer\x20','cacheExpiry','[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:','warn','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','protocol','530BvjqjD','[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials','login','parse','77JjClGN','pathname','http','GET','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','toString'];a5_0x176d=function(){return _0x2febc6;};return a5_0x176d();}(function(_0x1e6809,_0x23a65d){const _0x3ce5a7=a5_0x51f2,_0x47c6ab=_0x1e6809();while(!![]){try{const _0x2146c4=parseInt(_0x3ce5a7(0x7d))/0x1*(parseInt(_0x3ce5a7(0x79))/0x2)+-parseInt(_0x3ce5a7(0xaa))/0x3*(-parseInt(_0x3ce5a7(0x95))/0x4)+-parseInt(_0x3ce5a7(0xab))/0x5+-parseInt(_0x3ce5a7(0x7e))/0x6*(parseInt(_0x3ce5a7(0xa0))/0x7)+parseInt(_0x3ce5a7(0x85))/0x8*(-parseInt(_0x3ce5a7(0xb3))/0x9)+-parseInt(_0x3ce5a7(0x9c))/0xa*(parseInt(_0x3ce5a7(0xa7))/0xb)+-parseInt(_0x3ce5a7(0x80))/0xc*(-parseInt(_0x3ce5a7(0xa6))/0xd);if(_0x2146c4===_0x23a65d)break;else _0x47c6ab['push'](_0x47c6ab['shift']());}catch(_0x5d33e3){_0x47c6ab['push'](_0x47c6ab['shift']());}}}(a5_0x176d,0x50d2c));const a5_0x4e0ff1=(function(){let _0x29078b=!![];return function(_0x5227ba,_0x3b8d61){const _0xc34ff6=_0x29078b?function(){if(_0x3b8d61){const _0x577db2=_0x3b8d61['apply'](_0x5227ba,arguments);return _0x3b8d61=null,_0x577db2;}}:function(){};return _0x29078b=![],_0xc34ff6;};}()),a5_0x507d30=a5_0x4e0ff1(this,function(){const _0x329bbe=a5_0x51f2;return a5_0x507d30[_0x329bbe(0xa5)]()['search'](_0x329bbe(0xa8))[_0x329bbe(0xa5)]()[_0x329bbe(0x7a)](a5_0x507d30)[_0x329bbe(0x76)](_0x329bbe(0xa8));});a5_0x507d30();const https=require(a5_0xb6181(0xad)),http=require(a5_0xb6181(0xa2)),authService=require(a5_0xb6181(0x7f));class ApplianceTurnCredentialsService{constructor(){const _0x495523=a5_0xb6181;this[_0x495523(0x88)]=null,this[_0x495523(0x97)]=0x0,this[_0x495523(0x83)]=0xe10*0x3e8,this[_0x495523(0x7c)]=null;}[a5_0xb6181(0x87)](_0x127fde){const _0x12b08f=a5_0xb6181;this[_0x12b08f(0x7c)]=_0x127fde,console[_0x12b08f(0x91)](_0x12b08f(0x98),_0x127fde);}async[a5_0xb6181(0x78)](){const _0x5e3348=a5_0xb6181;if(!this[_0x5e3348(0x7c)])return console[_0x5e3348(0xa9)](_0x5e3348(0x93)),this[_0x5e3348(0x82)]();if(!authService[_0x5e3348(0x8c)]()){console[_0x5e3348(0x91)]('[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...');const _0xdd91a8=await authService[_0x5e3348(0x9e)]();if(!_0xdd91a8)return console[_0x5e3348(0xa9)]('[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate'),this['getFallbackIceServers']();}try{console[_0x5e3348(0x91)](_0x5e3348(0xb0));const _0x54690b=new URL('/webrtc/turn-credentials',this[_0x5e3348(0x7c)]),_0x3ad1d5=_0x54690b[_0x5e3348(0x9b)]===_0x5e3348(0x8a),_0x450c36=_0x3ad1d5?https:http,_0x374196=authService[_0x5e3348(0x8d)]();if(!_0x374196)return console[_0x5e3348(0xa9)](_0x5e3348(0x92)),this[_0x5e3348(0x82)]();return new Promise((_0x4e950f,_0x35dfa4)=>{const _0x3c7394=_0x5e3348,_0x10c18b={'hostname':_0x54690b[_0x3c7394(0x94)],'port':_0x54690b['port']||(_0x3ad1d5?0x1bb:0x50),'path':_0x54690b[_0x3c7394(0xa1)],'method':_0x3c7394(0xa3),'headers':{'User-Agent':_0x3c7394(0x86),'Authorization':_0x3c7394(0x96)+_0x374196}},_0x120593=_0x450c36['request'](_0x10c18b,_0x3521a7=>{const _0x4bc15e=_0x3c7394;let _0x1b55fc='';_0x3521a7['on']('data',_0x2cbd0c=>{_0x1b55fc+=_0x2cbd0c;}),_0x3521a7['on'](_0x4bc15e(0xb1),()=>{const _0xda145e=_0x4bc15e;try{const _0x568c7b=JSON[_0xda145e(0x9f)](_0x1b55fc);_0x568c7b[_0xda145e(0xae)]?(console[_0xda145e(0x91)](_0xda145e(0x90)),_0x4e950f(_0x568c7b[_0xda145e(0xae)])):(console[_0xda145e(0x99)](_0xda145e(0x9a)),_0x4e950f(this[_0xda145e(0x82)]()));}catch(_0x58ccd1){console[_0xda145e(0xa9)](_0xda145e(0x84),_0x58ccd1),_0x4e950f(this[_0xda145e(0x82)]());}});});_0x120593['on'](_0x3c7394(0xa9),_0x5770d7=>{const _0x437181=_0x3c7394;console['error'](_0x437181(0x81),_0x5770d7),_0x4e950f(this[_0x437181(0x82)]());}),_0x120593['setTimeout'](0x2710,()=>{const _0x3dd4f7=_0x3c7394;console[_0x3dd4f7(0xa9)](_0x3dd4f7(0xa4)),_0x120593[_0x3dd4f7(0xaf)](),_0x4e950f(this[_0x3dd4f7(0x82)]());}),_0x120593[_0x3c7394(0xb1)]();});}catch(_0x54191c){return console[_0x5e3348(0xa9)](_0x5e3348(0xac),_0x54191c),this[_0x5e3348(0x82)]();}}async[a5_0xb6181(0x77)](){const _0x59a19e=a5_0xb6181,_0x3887f5=Date[_0x59a19e(0xb2)]();if(this['credentialsCache']&&_0x3887f5<this[_0x59a19e(0x97)])return console[_0x59a19e(0x91)](_0x59a19e(0x9d)),this[_0x59a19e(0x88)];const _0x10f447=await this[_0x59a19e(0x78)]();return this[_0x59a19e(0x88)]=_0x10f447,this[_0x59a19e(0x97)]=_0x3887f5+this[_0x59a19e(0x83)],console['log'](_0x59a19e(0x89)),_0x10f447;}async[a5_0xb6181(0x8f)](){const _0x17b253=a5_0xb6181;return await this[_0x17b253(0x77)]();}['getFallbackIceServers'](){const _0x39e2a4=a5_0xb6181;return console[_0x39e2a4(0x91)]('[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers'),[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0x39e2a4(0x7b)}];}[a5_0xb6181(0x8b)](){const _0x5bb8ab=a5_0xb6181;this[_0x5bb8ab(0x88)]=null,this[_0x5bb8ab(0x97)]=0x0,console[_0x5bb8ab(0x91)]('[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared');}}module[a5_0xb6181(0x8e)]=new ApplianceTurnCredentialsService();