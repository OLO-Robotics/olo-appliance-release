const a5_0x1f5f34=a5_0x3b29;(function(_0x1d21d1,_0x5baae2){const _0x321ee6=a5_0x3b29,_0x2e713b=_0x1d21d1();while(!![]){try{const _0x305a81=-parseInt(_0x321ee6(0xa8))/0x1+-parseInt(_0x321ee6(0xad))/0x2+parseInt(_0x321ee6(0xd5))/0x3*(-parseInt(_0x321ee6(0xe1))/0x4)+parseInt(_0x321ee6(0xc5))/0x5+parseInt(_0x321ee6(0xaa))/0x6*(parseInt(_0x321ee6(0xd1))/0x7)+-parseInt(_0x321ee6(0xe0))/0x8*(parseInt(_0x321ee6(0xc0))/0x9)+parseInt(_0x321ee6(0xb9))/0xa;if(_0x305a81===_0x5baae2)break;else _0x2e713b['push'](_0x2e713b['shift']());}catch(_0xc9e685){_0x2e713b['push'](_0x2e713b['shift']());}}}(a5_0x30f2,0xde1b6));const a5_0x5915d4=(function(){let _0x2b6d12=!![];return function(_0x1f14ec,_0x2ba2b1){const _0x51ef3e=_0x2b6d12?function(){const _0x181b8c=a5_0x3b29;if(_0x2ba2b1){const _0x33e80a=_0x2ba2b1[_0x181b8c(0xc6)](_0x1f14ec,arguments);return _0x2ba2b1=null,_0x33e80a;}}:function(){};return _0x2b6d12=![],_0x51ef3e;};}()),a5_0x35c7e7=a5_0x5915d4(this,function(){const _0x3f91f8=a5_0x3b29;return a5_0x35c7e7[_0x3f91f8(0xd0)]()[_0x3f91f8(0xdc)]('(((.+)+)+)+$')[_0x3f91f8(0xd0)]()[_0x3f91f8(0xd8)](a5_0x35c7e7)[_0x3f91f8(0xdc)](_0x3f91f8(0xbb));});a5_0x35c7e7();const https=require(a5_0x1f5f34(0xba)),http=require(a5_0x1f5f34(0xb4)),authService=require(a5_0x1f5f34(0xd9));class ApplianceTurnCredentialsService{constructor(){const _0x516da4=a5_0x1f5f34;this[_0x516da4(0xdb)]=null,this[_0x516da4(0xab)]=0x0,this[_0x516da4(0xbd)]=0xe10*0x3e8,this[_0x516da4(0xaf)]=null;}[a5_0x1f5f34(0xc7)](_0x258f19){const _0x33ba46=a5_0x1f5f34;this[_0x33ba46(0xaf)]=_0x258f19,console[_0x33ba46(0xce)](_0x33ba46(0xbc),_0x258f19);}async[a5_0x1f5f34(0xc4)](){const _0xaf5346=a5_0x1f5f34;if(!this['serverUrl'])return console[_0xaf5346(0xb2)]('[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized'),this['getFallbackIceServers']();if(!authService[_0xaf5346(0xd4)]()){console['log'](_0xaf5346(0xb1));const _0x2c349f=await authService['login']();if(!_0x2c349f)return console['error'](_0xaf5346(0xc8)),this[_0xaf5346(0xbe)]();}try{console[_0xaf5346(0xce)](_0xaf5346(0xb6));const _0x542b8a=new URL(_0xaf5346(0xc9),this['serverUrl']),_0x34e107=_0x542b8a[_0xaf5346(0xb3)]===_0xaf5346(0xa6),_0x26919d=_0x34e107?https:http,_0x3c70c6=authService[_0xaf5346(0xcc)]();if(!_0x3c70c6)return console[_0xaf5346(0xb2)](_0xaf5346(0xcb)),this[_0xaf5346(0xbe)]();return new Promise((_0x22b9f,_0x2e3dc7)=>{const _0x21adba=_0xaf5346,_0x35a841={'hostname':_0x542b8a[_0x21adba(0xd7)],'port':_0x542b8a[_0x21adba(0xc1)]||(_0x34e107?0x1bb:0x50),'path':_0x542b8a['pathname'],'method':_0x21adba(0xd6),'headers':{'User-Agent':_0x21adba(0xdd),'Authorization':_0x21adba(0xdf)+_0x3c70c6}},_0x1f23b1=_0x26919d[_0x21adba(0xa9)](_0x35a841,_0x2e0bd5=>{const _0x2274da=_0x21adba;let _0x259705='';_0x2e0bd5['on'](_0x2274da(0xc3),_0x4321ed=>{_0x259705+=_0x4321ed;}),_0x2e0bd5['on']('end',()=>{const _0x4920ee=_0x2274da;try{const _0x92c7a2=JSON['parse'](_0x259705);_0x92c7a2['iceServers']?(console[_0x4920ee(0xce)](_0x4920ee(0xb0)),_0x22b9f(_0x92c7a2['iceServers'])):(console[_0x4920ee(0xa7)](_0x4920ee(0xda)),_0x22b9f(this[_0x4920ee(0xbe)]()));}catch(_0x5c4796){console[_0x4920ee(0xb2)](_0x4920ee(0xc2),_0x5c4796),_0x22b9f(this[_0x4920ee(0xbe)]());}});});_0x1f23b1['on'](_0x21adba(0xb2),_0x61d498=>{const _0x351ec2=_0x21adba;console[_0x351ec2(0xb2)](_0x351ec2(0xd3),_0x61d498),_0x22b9f(this['getFallbackIceServers']());}),_0x1f23b1['setTimeout'](0x2710,()=>{const _0x17db4c=_0x21adba;console['error'](_0x17db4c(0xb7)),_0x1f23b1[_0x17db4c(0xae)](),_0x22b9f(this[_0x17db4c(0xbe)]());}),_0x1f23b1[_0x21adba(0xbf)]();});}catch(_0x115176){return console[_0xaf5346(0xb2)]('[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:',_0x115176),this[_0xaf5346(0xbe)]();}}async['getCredentials'](){const _0x4de2bd=a5_0x1f5f34,_0x42d1f2=Date[_0x4de2bd(0xca)]();if(this['credentialsCache']&&_0x42d1f2<this[_0x4de2bd(0xab)])return console[_0x4de2bd(0xce)]('[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials'),this[_0x4de2bd(0xdb)];const _0x580d2b=await this[_0x4de2bd(0xc4)]();return this[_0x4de2bd(0xdb)]=_0x580d2b,this[_0x4de2bd(0xab)]=_0x42d1f2+this[_0x4de2bd(0xbd)],console[_0x4de2bd(0xce)](_0x4de2bd(0xde)),_0x580d2b;}async['getIceServers'](){const _0x3c5288=a5_0x1f5f34;return await this[_0x3c5288(0xb5)]();}[a5_0x1f5f34(0xbe)](){const _0x1c949a=a5_0x1f5f34;return console[_0x1c949a(0xce)](_0x1c949a(0xb8)),[{'urls':_0x1c949a(0xac)},{'urls':_0x1c949a(0xcd)}];}[a5_0x1f5f34(0xcf)](){const _0x13775d=a5_0x1f5f34;this[_0x13775d(0xdb)]=null,this['cacheExpiry']=0x0,console[_0x13775d(0xce)](_0x13775d(0xd2));}}module['exports']=new ApplianceTurnCredentialsService();function a5_0x3b29(_0x22ec6b,_0x1a490e){const _0x1d6ffb=a5_0x30f2();return a5_0x3b29=function(_0x35c7e7,_0x5915d4){_0x35c7e7=_0x35c7e7-0xa6;let _0x30f236=_0x1d6ffb[_0x35c7e7];return _0x30f236;},a5_0x3b29(_0x22ec6b,_0x1a490e);}function a5_0x30f2(){const _0x4236cd=['end','7318035VVrSSl','port','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','data','fetchCredentials','4086070tJwJRT','apply','initialize','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','/webrtc/turn-credentials','now','[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available','getToken','stun:stun1.l.google.com:19302','log','clearCache','toString','44905nfsQan','[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared','[Appliance\x20TURN\x20Service]\x20Request\x20error:','isAuthenticated','3mGcxoW','GET','hostname','constructor','./auth','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','credentialsCache','search','OLO-Appliance/1.0','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','Bearer\x20','16lVXUpJ','3272516EJOgQT','https:','warn','1434442RLciNd','request','1554HYuIXf','cacheExpiry','stun:stun.l.google.com:19302','1109326lDAKqf','destroy','serverUrl','[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','error','protocol','http','getCredentials','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','28645150tlxrSL','https','(((.+)+)+)+$','[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:','cacheDuration','getFallbackIceServers'];a5_0x30f2=function(){return _0x4236cd;};return a5_0x30f2();}