const a5_0x3deaf8=a5_0x3801;(function(_0x12377d,_0x350ed2){const _0x4b9dcd=a5_0x3801,_0x117a98=_0x12377d();while(!![]){try{const _0x33e9a2=parseInt(_0x4b9dcd(0x1f3))/0x1*(parseInt(_0x4b9dcd(0x21f))/0x2)+parseInt(_0x4b9dcd(0x204))/0x3*(-parseInt(_0x4b9dcd(0x1f4))/0x4)+parseInt(_0x4b9dcd(0x210))/0x5*(parseInt(_0x4b9dcd(0x1ff))/0x6)+parseInt(_0x4b9dcd(0x219))/0x7*(-parseInt(_0x4b9dcd(0x21e))/0x8)+-parseInt(_0x4b9dcd(0x222))/0x9+-parseInt(_0x4b9dcd(0x1f7))/0xa+-parseInt(_0x4b9dcd(0x209))/0xb*(-parseInt(_0x4b9dcd(0x1fc))/0xc);if(_0x33e9a2===_0x350ed2)break;else _0x117a98['push'](_0x117a98['shift']());}catch(_0x2dd299){_0x117a98['push'](_0x117a98['shift']());}}}(a5_0x3fa7,0x8f930));const a5_0x2daf9e=(function(){let _0x1dfab3=!![];return function(_0x2ebad5,_0x3e8e12){const _0x43c0fb=_0x1dfab3?function(){const _0x5acc17=a5_0x3801;if(_0x3e8e12){const _0x336a58=_0x3e8e12[_0x5acc17(0x229)](_0x2ebad5,arguments);return _0x3e8e12=null,_0x336a58;}}:function(){};return _0x1dfab3=![],_0x43c0fb;};}()),a5_0x339bd7=a5_0x2daf9e(this,function(){const _0x3ce411=a5_0x3801;return a5_0x339bd7[_0x3ce411(0x226)]()[_0x3ce411(0x214)](_0x3ce411(0x20e))['toString']()[_0x3ce411(0x1f1)](a5_0x339bd7)[_0x3ce411(0x214)](_0x3ce411(0x20e));});function a5_0x3801(_0x7a9179,_0x2c2715){const _0x409392=a5_0x3fa7();return a5_0x3801=function(_0x339bd7,_0x2daf9e){_0x339bd7=_0x339bd7-0x1f0;let _0x3fa782=_0x409392[_0x339bd7];return _0x3fa782;},a5_0x3801(_0x7a9179,_0x2c2715);}a5_0x339bd7();const https=require(a5_0x3deaf8(0x213)),http=require(a5_0x3deaf8(0x228)),authService=require(a5_0x3deaf8(0x218));class ApplianceTurnCredentialsService{constructor(){const _0x50d81e=a5_0x3deaf8;this['credentialsCache']=null,this[_0x50d81e(0x1f5)]=0x0,this[_0x50d81e(0x212)]=0xe10*0x3e8,this[_0x50d81e(0x1fd)]=null;}['initialize'](_0x5711e4){const _0x5dbf04=a5_0x3deaf8;this[_0x5dbf04(0x1fd)]=_0x5711e4,console['log'](_0x5dbf04(0x205),_0x5711e4);}async[a5_0x3deaf8(0x225)](){const _0x409e6e=a5_0x3deaf8;if(!this['serverUrl'])return console['error'](_0x409e6e(0x206)),this['getFallbackIceServers']();if(!authService[_0x409e6e(0x215)]()){console[_0x409e6e(0x223)](_0x409e6e(0x207));const _0x2e5f96=await authService['login']();if(!_0x2e5f96)return console[_0x409e6e(0x211)](_0x409e6e(0x203)),this[_0x409e6e(0x1f2)]();}try{console['log'](_0x409e6e(0x20b));const _0x5af17e=new URL(_0x409e6e(0x20d),this[_0x409e6e(0x1fd)]),_0x1af372=_0x5af17e[_0x409e6e(0x20c)]===_0x409e6e(0x202),_0x2c5154=_0x1af372?https:http,_0x32e264=authService[_0x409e6e(0x1fa)]();if(!_0x32e264)return console[_0x409e6e(0x211)](_0x409e6e(0x201)),this['getFallbackIceServers']();return new Promise((_0x27c950,_0x4d991c)=>{const _0x5fdca7=_0x409e6e,_0x7b8953={'hostname':_0x5af17e[_0x5fdca7(0x227)],'port':_0x5af17e[_0x5fdca7(0x21b)]||(_0x1af372?0x1bb:0x50),'path':_0x5af17e[_0x5fdca7(0x1f6)],'method':_0x5fdca7(0x20f),'headers':{'User-Agent':_0x5fdca7(0x208),'Authorization':_0x5fdca7(0x21d)+_0x32e264}},_0x1c9f79=_0x2c5154[_0x5fdca7(0x22a)](_0x7b8953,_0x521280=>{const _0x1ca452=_0x5fdca7;let _0x5f1208='';_0x521280['on'](_0x1ca452(0x21a),_0x296b86=>{_0x5f1208+=_0x296b86;}),_0x521280['on'](_0x1ca452(0x217),()=>{const _0x46ed4f=_0x1ca452;try{const _0xe8b0e5=JSON[_0x46ed4f(0x1f0)](_0x5f1208);_0xe8b0e5['iceServers']?(console['log'](_0x46ed4f(0x20a)),_0x27c950(_0xe8b0e5['iceServers'])):(console[_0x46ed4f(0x216)](_0x46ed4f(0x1fe)),_0x27c950(this['getFallbackIceServers']()));}catch(_0x3ab9da){console[_0x46ed4f(0x211)](_0x46ed4f(0x1fb),_0x3ab9da),_0x27c950(this[_0x46ed4f(0x1f2)]());}});});_0x1c9f79['on'](_0x5fdca7(0x211),_0x1b0eac=>{const _0xa50a56=_0x5fdca7;console[_0xa50a56(0x211)](_0xa50a56(0x221),_0x1b0eac),_0x27c950(this[_0xa50a56(0x1f2)]());}),_0x1c9f79['setTimeout'](0x2710,()=>{const _0x375c7d=_0x5fdca7;console[_0x375c7d(0x211)]('[Appliance\x20TURN\x20Service]\x20Request\x20timeout'),_0x1c9f79[_0x375c7d(0x1f8)](),_0x27c950(this[_0x375c7d(0x1f2)]());}),_0x1c9f79[_0x5fdca7(0x217)]();});}catch(_0x131d2f){return console[_0x409e6e(0x211)]('[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:',_0x131d2f),this[_0x409e6e(0x1f2)]();}}async[a5_0x3deaf8(0x224)](){const _0x573d88=a5_0x3deaf8,_0x11e45e=Date['now']();if(this[_0x573d88(0x200)]&&_0x11e45e<this['cacheExpiry'])return console[_0x573d88(0x223)](_0x573d88(0x1f9)),this['credentialsCache'];const _0x1d30a1=await this[_0x573d88(0x225)]();return this[_0x573d88(0x200)]=_0x1d30a1,this[_0x573d88(0x1f5)]=_0x11e45e+this[_0x573d88(0x212)],console[_0x573d88(0x223)]('[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials'),_0x1d30a1;}async['getIceServers'](){const _0x43fffc=a5_0x3deaf8;return await this[_0x43fffc(0x224)]();}[a5_0x3deaf8(0x1f2)](){const _0xd091e1=a5_0x3deaf8;return console[_0xd091e1(0x223)]('[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers'),[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0xd091e1(0x220)}];}['clearCache'](){const _0x55f0e3=a5_0x3deaf8;this['credentialsCache']=null,this[_0x55f0e3(0x1f5)]=0x0,console[_0x55f0e3(0x223)](_0x55f0e3(0x21c));}}module['exports']=new ApplianceTurnCredentialsService();function a5_0x3fa7(){const _0x581ee4=['credentialsCache','[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available','https:','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','6jvxVRP','[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','OLO-Appliance/1.0','583ZnuysU','[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','protocol','/webrtc/turn-credentials','(((.+)+)+)+$','GET','19940vyiwPn','error','cacheDuration','https','search','isAuthenticated','warn','end','./auth','763PtyhIz','data','port','[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared','Bearer\x20','40928rEmJnF','8068DHbdpi','stun:stun1.l.google.com:19302','[Appliance\x20TURN\x20Service]\x20Request\x20error:','4701780GjzDVZ','log','getCredentials','fetchCredentials','toString','hostname','http','apply','request','parse','constructor','getFallbackIceServers','129RaMxis','435444pIUzey','cacheExpiry','pathname','7607900mMvUwK','destroy','[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials','getToken','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','299928pLYzxw','serverUrl','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','1206NkFxiF'];a5_0x3fa7=function(){return _0x581ee4;};return a5_0x3fa7();}