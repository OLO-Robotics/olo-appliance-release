function a5_0x4192(){const _0x13f350=['cacheExpiry','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','destroy','39GiYoHH','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','688184YNLIac','20574nQzOjt','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','getToken','iceServers','toString','apply','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','cacheDuration','stun:stun1.l.google.com:19302','login','parse','15590FpgSyW','https:','12xpfKUc','getFallbackIceServers','stun:stun.l.google.com:19302','clearCache','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','OLO-Appliance/1.0','log','port','10953163hROGBV','fetchCredentials','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','error','27VaIrJk','now','[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server','2035IBeHot','[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available','constructor','end','exports','[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials','pathname','(((.+)+)+)+$','332418vwTAEW','getIceServers','46312trwvQE','hostname','protocol','credentialsCache','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','166330wdARMv','data','204rgGLJK','http','request','./auth','serverUrl','12eMEhFC','[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared','/webrtc/turn-credentials','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','getCredentials','warn'];a5_0x4192=function(){return _0x13f350;};return a5_0x4192();}function a5_0x186f(_0x49d97c,_0x39cf5c){const _0x5bea77=a5_0x4192();return a5_0x186f=function(_0x147266,_0x4284e0){_0x147266=_0x147266-0xb3;let _0x419271=_0x5bea77[_0x147266];return _0x419271;},a5_0x186f(_0x49d97c,_0x39cf5c);}const a5_0x5249cc=a5_0x186f;(function(_0x365767,_0x28e2b2){const _0x3ebf08=a5_0x186f,_0x244e49=_0x365767();while(!![]){try{const _0x17360b=-parseInt(_0x3ebf08(0xb4))/0x1+-parseInt(_0x3ebf08(0xce))/0x2*(-parseInt(_0x3ebf08(0xcb))/0x3)+parseInt(_0x3ebf08(0xc2))/0x4*(-parseInt(_0x3ebf08(0xbb))/0x5)+parseInt(_0x3ebf08(0xbd))/0x6*(parseInt(_0x3ebf08(0xb6))/0x7)+-parseInt(_0x3ebf08(0xcd))/0x8*(parseInt(_0x3ebf08(0xe8))/0x9)+parseInt(_0x3ebf08(0xd9))/0xa*(-parseInt(_0x3ebf08(0xeb))/0xb)+-parseInt(_0x3ebf08(0xdb))/0xc*(-parseInt(_0x3ebf08(0xe4))/0xd);if(_0x17360b===_0x28e2b2)break;else _0x244e49['push'](_0x244e49['shift']());}catch(_0x3f723e){_0x244e49['push'](_0x244e49['shift']());}}}(a5_0x4192,0x3653e));const a5_0x4284e0=(function(){let _0x3ebb23=!![];return function(_0x4cb083,_0x44aeef){const _0x384bb0=_0x3ebb23?function(){const _0x2efde3=a5_0x186f;if(_0x44aeef){const _0xcca101=_0x44aeef[_0x2efde3(0xd3)](_0x4cb083,arguments);return _0x44aeef=null,_0xcca101;}}:function(){};return _0x3ebb23=![],_0x384bb0;};}()),a5_0x147266=a5_0x4284e0(this,function(){const _0x2a9a90=a5_0x186f;return a5_0x147266[_0x2a9a90(0xd2)]()['search'](_0x2a9a90(0xb3))[_0x2a9a90(0xd2)]()[_0x2a9a90(0xed)](a5_0x147266)['search']('(((.+)+)+)+$');});a5_0x147266();const https=require('https'),http=require(a5_0x5249cc(0xbe)),authService=require(a5_0x5249cc(0xc0));class ApplianceTurnCredentialsService{constructor(){const _0x142f54=a5_0x5249cc;this[_0x142f54(0xb9)]=null,this[_0x142f54(0xc8)]=0x0,this['cacheDuration']=0xe10*0x3e8,this[_0x142f54(0xc1)]=null;}['initialize'](_0x482ebe){const _0x1869ac=a5_0x5249cc;this['serverUrl']=_0x482ebe,console[_0x1869ac(0xe2)]('[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:',_0x482ebe);}async[a5_0x5249cc(0xe5)](){const _0x496944=a5_0x5249cc;if(!this[_0x496944(0xc1)])return console[_0x496944(0xe7)](_0x496944(0xe0)),this[_0x496944(0xdc)]();if(!authService['isAuthenticated']()){console[_0x496944(0xe2)](_0x496944(0xc5));const _0x26308c=await authService[_0x496944(0xd7)]();if(!_0x26308c)return console[_0x496944(0xe7)](_0x496944(0xe6)),this[_0x496944(0xdc)]();}try{console['log'](_0x496944(0xdf));const _0x4ed7dc=new URL(_0x496944(0xc4),this[_0x496944(0xc1)]),_0x171b1b=_0x4ed7dc[_0x496944(0xb8)]===_0x496944(0xda),_0x55a59d=_0x171b1b?https:http,_0x1a585c=authService[_0x496944(0xd0)]();if(!_0x1a585c)return console['error'](_0x496944(0xec)),this[_0x496944(0xdc)]();return new Promise((_0x26f8c3,_0x58a500)=>{const _0x287f63=_0x496944,_0x4309ee={'hostname':_0x4ed7dc[_0x287f63(0xb7)],'port':_0x4ed7dc[_0x287f63(0xe3)]||(_0x171b1b?0x1bb:0x50),'path':_0x4ed7dc[_0x287f63(0xf1)],'method':'GET','headers':{'User-Agent':_0x287f63(0xe1),'Authorization':'Bearer\x20'+_0x1a585c}},_0x51a9ae=_0x55a59d[_0x287f63(0xbf)](_0x4309ee,_0x59e41b=>{const _0x3385d5=_0x287f63;let _0x100d96='';_0x59e41b['on'](_0x3385d5(0xbc),_0x3268aa=>{_0x100d96+=_0x3268aa;}),_0x59e41b['on'](_0x3385d5(0xee),()=>{const _0x17914f=_0x3385d5;try{const _0x392004=JSON[_0x17914f(0xd8)](_0x100d96);_0x392004[_0x17914f(0xd1)]?(console[_0x17914f(0xe2)](_0x17914f(0xea)),_0x26f8c3(_0x392004['iceServers'])):(console[_0x17914f(0xc7)](_0x17914f(0xd4)),_0x26f8c3(this['getFallbackIceServers']()));}catch(_0x1df363){console['error']('[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:',_0x1df363),_0x26f8c3(this[_0x17914f(0xdc)]());}});});_0x51a9ae['on'](_0x287f63(0xe7),_0x4e7142=>{const _0x10e295=_0x287f63;console[_0x10e295(0xe7)]('[Appliance\x20TURN\x20Service]\x20Request\x20error:',_0x4e7142),_0x26f8c3(this[_0x10e295(0xdc)]());}),_0x51a9ae['setTimeout'](0x2710,()=>{const _0x547cc0=_0x287f63;console[_0x547cc0(0xe7)](_0x547cc0(0xba)),_0x51a9ae[_0x547cc0(0xca)](),_0x26f8c3(this['getFallbackIceServers']());}),_0x51a9ae['end']();});}catch(_0x13b355){return console[_0x496944(0xe7)](_0x496944(0xcf),_0x13b355),this[_0x496944(0xdc)]();}}async[a5_0x5249cc(0xc6)](){const _0x2c2aca=a5_0x5249cc,_0x58d14b=Date[_0x2c2aca(0xe9)]();if(this[_0x2c2aca(0xb9)]&&_0x58d14b<this[_0x2c2aca(0xc8)])return console[_0x2c2aca(0xe2)](_0x2c2aca(0xf0)),this[_0x2c2aca(0xb9)];const _0x4c089b=await this[_0x2c2aca(0xe5)]();return this['credentialsCache']=_0x4c089b,this['cacheExpiry']=_0x58d14b+this[_0x2c2aca(0xd5)],console['log'](_0x2c2aca(0xc9)),_0x4c089b;}async[a5_0x5249cc(0xb5)](){const _0x1736be=a5_0x5249cc;return await this[_0x1736be(0xc6)]();}[a5_0x5249cc(0xdc)](){const _0x2da5d1=a5_0x5249cc;return console['log'](_0x2da5d1(0xcc)),[{'urls':_0x2da5d1(0xdd)},{'urls':_0x2da5d1(0xd6)}];}[a5_0x5249cc(0xde)](){const _0x39e740=a5_0x5249cc;this['credentialsCache']=null,this['cacheExpiry']=0x0,console[_0x39e740(0xe2)](_0x39e740(0xc3));}}module[a5_0x5249cc(0xef)]=new ApplianceTurnCredentialsService();