const a5_0x443bb4=a5_0xe406;(function(_0x21bd6f,_0xc57a89){const _0x23a190=a5_0xe406,_0x553bd3=_0x21bd6f();while(!![]){try{const _0x329c59=parseInt(_0x23a190(0x1ed))/0x1*(parseInt(_0x23a190(0x1f1))/0x2)+parseInt(_0x23a190(0x1ea))/0x3+parseInt(_0x23a190(0x1e6))/0x4*(-parseInt(_0x23a190(0x1d9))/0x5)+-parseInt(_0x23a190(0x20c))/0x6+parseInt(_0x23a190(0x1dc))/0x7*(parseInt(_0x23a190(0x1f4))/0x8)+-parseInt(_0x23a190(0x1e0))/0x9*(parseInt(_0x23a190(0x1f8))/0xa)+parseInt(_0x23a190(0x1df))/0xb;if(_0x329c59===_0xc57a89)break;else _0x553bd3['push'](_0x553bd3['shift']());}catch(_0x473467){_0x553bd3['push'](_0x553bd3['shift']());}}}(a5_0x4ca7,0x54548));const a5_0x5b23fe=(function(){let _0x3bbbdd=!![];return function(_0x4847af,_0x2207ba){const _0x5c565b=_0x3bbbdd?function(){const _0x43b740=a5_0xe406;if(_0x2207ba){const _0x1b0e43=_0x2207ba[_0x43b740(0x1fb)](_0x4847af,arguments);return _0x2207ba=null,_0x1b0e43;}}:function(){};return _0x3bbbdd=![],_0x5c565b;};}()),a5_0x56a18d=a5_0x5b23fe(this,function(){const _0x2c1f9d=a5_0xe406;return a5_0x56a18d[_0x2c1f9d(0x1f7)]()[_0x2c1f9d(0x1fe)](_0x2c1f9d(0x20d))[_0x2c1f9d(0x1f7)]()[_0x2c1f9d(0x20a)](a5_0x56a18d)[_0x2c1f9d(0x1fe)](_0x2c1f9d(0x20d));});a5_0x56a18d();const https=require(a5_0x443bb4(0x202)),http=require('http'),authService=require(a5_0x443bb4(0x204));class ApplianceTurnCredentialsService{constructor(){const _0x58a803=a5_0x443bb4;this[_0x58a803(0x1e1)]=null,this[_0x58a803(0x1f3)]=0x0,this[_0x58a803(0x20e)]=0xe10*0x3e8,this['serverUrl']=null;}[a5_0x443bb4(0x1e9)](_0x536ed8){const _0x20fb71=a5_0x443bb4;this['serverUrl']=_0x536ed8,console[_0x20fb71(0x1da)]('[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:',_0x536ed8);}async[a5_0x443bb4(0x1ef)](){const _0x482061=a5_0x443bb4;if(!this['serverUrl'])return console['error'](_0x482061(0x200)),this['getFallbackIceServers']();if(!authService[_0x482061(0x1e4)]()){console[_0x482061(0x1da)](_0x482061(0x1f5));const _0x4631ae=await authService[_0x482061(0x210)]();if(!_0x4631ae)return console['error'](_0x482061(0x206)),this[_0x482061(0x201)]();}try{console[_0x482061(0x1da)](_0x482061(0x1f0));const _0x246a30=new URL(_0x482061(0x1fc),this[_0x482061(0x207)]),_0x4ebe10=_0x246a30[_0x482061(0x1e3)]===_0x482061(0x1fa),_0x333ba1=_0x4ebe10?https:http,_0x5cce14=authService['getToken']();if(!_0x5cce14)return console[_0x482061(0x1e8)](_0x482061(0x1f2)),this['getFallbackIceServers']();return new Promise((_0x3ed0ab,_0x344877)=>{const _0x2719c1=_0x482061,_0x45b636={'hostname':_0x246a30['hostname'],'port':_0x246a30[_0x2719c1(0x205)]||(_0x4ebe10?0x1bb:0x50),'path':_0x246a30[_0x2719c1(0x1d8)],'method':_0x2719c1(0x1f6),'headers':{'User-Agent':_0x2719c1(0x209),'Authorization':_0x2719c1(0x1e2)+_0x5cce14}},_0x5e04c9=_0x333ba1[_0x2719c1(0x1fd)](_0x45b636,_0x9f9450=>{let _0x28c49e='';_0x9f9450['on']('data',_0x4ae65c=>{_0x28c49e+=_0x4ae65c;}),_0x9f9450['on']('end',()=>{const _0x4cb233=a5_0xe406;try{const _0x23cd98=JSON['parse'](_0x28c49e);_0x23cd98[_0x4cb233(0x1dd)]?(console[_0x4cb233(0x1da)](_0x4cb233(0x211)),_0x3ed0ab(_0x23cd98['iceServers'])):(console[_0x4cb233(0x1de)](_0x4cb233(0x1e5)),_0x3ed0ab(this['getFallbackIceServers']()));}catch(_0x76797f){console[_0x4cb233(0x1e8)]('[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:',_0x76797f),_0x3ed0ab(this[_0x4cb233(0x201)]());}});});_0x5e04c9['on'](_0x2719c1(0x1e8),_0x234210=>{const _0x231ee9=_0x2719c1;console[_0x231ee9(0x1e8)](_0x231ee9(0x20f),_0x234210),_0x3ed0ab(this[_0x231ee9(0x201)]());}),_0x5e04c9[_0x2719c1(0x203)](0x2710,()=>{const _0x5ae39f=_0x2719c1;console[_0x5ae39f(0x1e8)](_0x5ae39f(0x1eb)),_0x5e04c9[_0x5ae39f(0x1ff)](),_0x3ed0ab(this[_0x5ae39f(0x201)]());}),_0x5e04c9['end']();});}catch(_0x3a26f9){return console[_0x482061(0x1e8)]('[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:',_0x3a26f9),this[_0x482061(0x201)]();}}async['getCredentials'](){const _0x64d1ba=a5_0x443bb4,_0x507cd3=Date[_0x64d1ba(0x208)]();if(this[_0x64d1ba(0x1e1)]&&_0x507cd3<this['cacheExpiry'])return console[_0x64d1ba(0x1da)]('[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials'),this['credentialsCache'];const _0x1daafb=await this[_0x64d1ba(0x1ef)]();return this[_0x64d1ba(0x1e1)]=_0x1daafb,this[_0x64d1ba(0x1f3)]=_0x507cd3+this['cacheDuration'],console[_0x64d1ba(0x1da)](_0x64d1ba(0x1ee)),_0x1daafb;}async['getIceServers'](){const _0x4d112d=a5_0x443bb4;return await this[_0x4d112d(0x1ec)]();}[a5_0x443bb4(0x201)](){const _0x290130=a5_0x443bb4;return console['log']('[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers'),[{'urls':_0x290130(0x1db)},{'urls':_0x290130(0x20b)}];}['clearCache'](){const _0x353a2b=a5_0x443bb4;this[_0x353a2b(0x1e1)]=null,this[_0x353a2b(0x1f3)]=0x0,console[_0x353a2b(0x1da)](_0x353a2b(0x1e7));}}function a5_0xe406(_0x3ab395,_0x537499){const _0x25a1ac=a5_0x4ca7();return a5_0xe406=function(_0x56a18d,_0x5b23fe){_0x56a18d=_0x56a18d-0x1d8;let _0x4ca757=_0x25a1ac[_0x56a18d];return _0x4ca757;},a5_0xe406(_0x3ab395,_0x537499);}module[a5_0x443bb4(0x1f9)]=new ApplianceTurnCredentialsService();function a5_0x4ca7(){const _0x2dc4ef=['5tZAahA','log','stun:stun.l.google.com:19302','55069aXOAoD','iceServers','warn','13635105DemrEY','36aiqpPy','credentialsCache','Bearer\x20','protocol','isAuthenticated','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','2609848smNwfw','[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared','error','initialize','462942VFlUnI','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','getCredentials','501791mTaJGv','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','fetchCredentials','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','2YwLfPH','[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available','cacheExpiry','144oImevs','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','GET','toString','1058170WjXcGz','exports','https:','apply','/webrtc/turn-credentials','request','search','destroy','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','getFallbackIceServers','https','setTimeout','./auth','port','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','serverUrl','now','OLO-Appliance/1.0','constructor','stun:stun1.l.google.com:19302','3696720wVDqwS','(((.+)+)+)+$','cacheDuration','[Appliance\x20TURN\x20Service]\x20Request\x20error:','login','[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server','pathname'];a5_0x4ca7=function(){return _0x2dc4ef;};return a5_0x4ca7();}