const a5_0x45c825=a5_0x4ee9;(function(_0x239dc2,_0x657a3c){const _0x3fe272=a5_0x4ee9,_0x2cb837=_0x239dc2();while(!![]){try{const _0x5c5421=-parseInt(_0x3fe272(0x1eb))/0x1*(parseInt(_0x3fe272(0x1ed))/0x2)+-parseInt(_0x3fe272(0x1db))/0x3*(-parseInt(_0x3fe272(0x1e2))/0x4)+parseInt(_0x3fe272(0x1e1))/0x5*(parseInt(_0x3fe272(0x1ef))/0x6)+parseInt(_0x3fe272(0x1ca))/0x7+-parseInt(_0x3fe272(0x1d1))/0x8+-parseInt(_0x3fe272(0x1b4))/0x9+parseInt(_0x3fe272(0x1cc))/0xa;if(_0x5c5421===_0x657a3c)break;else _0x2cb837['push'](_0x2cb837['shift']());}catch(_0x58c094){_0x2cb837['push'](_0x2cb837['shift']());}}}(a5_0x362d,0xa5885));const a5_0x226a46=(function(){let _0x46c4f5=!![];return function(_0x4eea37,_0x3c0c37){const _0xc13893=_0x46c4f5?function(){const _0x5bc538=a5_0x4ee9;if(_0x3c0c37){const _0x1adffb=_0x3c0c37[_0x5bc538(0x1d9)](_0x4eea37,arguments);return _0x3c0c37=null,_0x1adffb;}}:function(){};return _0x46c4f5=![],_0xc13893;};}()),a5_0x4c9f2b=a5_0x226a46(this,function(){const _0xf6d0a=a5_0x4ee9;return a5_0x4c9f2b[_0xf6d0a(0x1c5)]()['search'](_0xf6d0a(0x1e9))[_0xf6d0a(0x1c5)]()[_0xf6d0a(0x1e7)](a5_0x4c9f2b)[_0xf6d0a(0x1dd)](_0xf6d0a(0x1e9));});a5_0x4c9f2b();function a5_0x4ee9(_0x2f8471,_0x397576){const _0x217499=a5_0x362d();return a5_0x4ee9=function(_0x4c9f2b,_0x226a46){_0x4c9f2b=_0x4c9f2b-0x1b4;let _0x362dc1=_0x217499[_0x4c9f2b];return _0x362dc1;},a5_0x4ee9(_0x2f8471,_0x397576);}const https=require(a5_0x45c825(0x1de)),http=require(a5_0x45c825(0x1e5)),authService=require(a5_0x45c825(0x1ec));class ApplianceTurnCredentialsService{constructor(){const _0x1e7e6c=a5_0x45c825;this[_0x1e7e6c(0x1c4)]=null,this['cacheExpiry']=0x0,this[_0x1e7e6c(0x1d4)]=0xe10*0x3e8,this[_0x1e7e6c(0x1ba)]=null;}[a5_0x45c825(0x1df)](_0x1295fd){const _0x3b4ed5=a5_0x45c825;this[_0x3b4ed5(0x1ba)]=_0x1295fd,console['log']('[Appliance\x20TURN\x20Service]\x20Initialized\x20with\x20server\x20URL:',_0x1295fd);}async[a5_0x45c825(0x1e3)](){const _0x4a70a9=a5_0x45c825;if(!this['serverUrl'])return console[_0x4a70a9(0x1cd)](_0x4a70a9(0x1d3)),this[_0x4a70a9(0x1c8)]();if(!authService[_0x4a70a9(0x1f0)]()){console[_0x4a70a9(0x1b6)](_0x4a70a9(0x1e6));const _0x2781e4=await authService[_0x4a70a9(0x1d6)]();if(!_0x2781e4)return console[_0x4a70a9(0x1cd)](_0x4a70a9(0x1d7)),this[_0x4a70a9(0x1c8)]();}try{console[_0x4a70a9(0x1b6)](_0x4a70a9(0x1c9));const _0xbeab1e=new URL('/webrtc/turn-credentials',this[_0x4a70a9(0x1ba)]),_0x5e4ef0=_0xbeab1e[_0x4a70a9(0x1e4)]===_0x4a70a9(0x1ea),_0x2d9909=_0x5e4ef0?https:http,_0x875ec7=authService[_0x4a70a9(0x1da)]();if(!_0x875ec7)return console[_0x4a70a9(0x1cd)]('[Appliance\x20TURN\x20Service]\x20No\x20authentication\x20token\x20available'),this['getFallbackIceServers']();return new Promise((_0x4dd563,_0x20baa8)=>{const _0xb05502=_0x4a70a9,_0x22c0ee={'hostname':_0xbeab1e[_0xb05502(0x1d2)],'port':_0xbeab1e[_0xb05502(0x1dc)]||(_0x5e4ef0?0x1bb:0x50),'path':_0xbeab1e['pathname'],'method':_0xb05502(0x1e0),'headers':{'User-Agent':'OLO-Appliance/1.0','Authorization':_0xb05502(0x1b7)+_0x875ec7}},_0x15d1d0=_0x2d9909[_0xb05502(0x1bc)](_0x22c0ee,_0x22ff4b=>{const _0x34e103=_0xb05502;let _0x1c6915='';_0x22ff4b['on'](_0x34e103(0x1c1),_0x1a9511=>{_0x1c6915+=_0x1a9511;}),_0x22ff4b['on'](_0x34e103(0x1b9),()=>{const _0x2610fc=_0x34e103;try{const _0x2f97b6=JSON['parse'](_0x1c6915);_0x2f97b6['iceServers']?(console[_0x2610fc(0x1b6)](_0x2610fc(0x1c6)),_0x4dd563(_0x2f97b6['iceServers'])):(console[_0x2610fc(0x1d5)](_0x2610fc(0x1bf)),_0x4dd563(this['getFallbackIceServers']()));}catch(_0x3d262c){console[_0x2610fc(0x1cd)](_0x2610fc(0x1bd),_0x3d262c),_0x4dd563(this['getFallbackIceServers']());}});});_0x15d1d0['on']('error',_0x3ce2bf=>{const _0x29f772=_0xb05502;console[_0x29f772(0x1cd)](_0x29f772(0x1ee),_0x3ce2bf),_0x4dd563(this[_0x29f772(0x1c8)]());}),_0x15d1d0[_0xb05502(0x1c3)](0x2710,()=>{const _0x333997=_0xb05502;console[_0x333997(0x1cd)](_0x333997(0x1bb)),_0x15d1d0[_0x333997(0x1be)](),_0x4dd563(this[_0x333997(0x1c8)]());}),_0x15d1d0['end']();});}catch(_0x2ff6a1){return console[_0x4a70a9(0x1cd)](_0x4a70a9(0x1cf),_0x2ff6a1),this['getFallbackIceServers']();}}async['getCredentials'](){const _0x1f7268=a5_0x45c825,_0x7d6438=Date['now']();if(this['credentialsCache']&&_0x7d6438<this[_0x1f7268(0x1c2)])return console['log'](_0x1f7268(0x1d8)),this[_0x1f7268(0x1c4)];const _0x1817da=await this[_0x1f7268(0x1e3)]();return this[_0x1f7268(0x1c4)]=_0x1817da,this[_0x1f7268(0x1c2)]=_0x7d6438+this['cacheDuration'],console[_0x1f7268(0x1b6)](_0x1f7268(0x1cb)),_0x1817da;}async[a5_0x45c825(0x1b8)](){return await this['getCredentials']();}[a5_0x45c825(0x1c8)](){const _0x2d9fec=a5_0x45c825;return console[_0x2d9fec(0x1b6)](_0x2d9fec(0x1d0)),[{'urls':_0x2d9fec(0x1ce)},{'urls':_0x2d9fec(0x1e8)}];}[a5_0x45c825(0x1b5)](){const _0x57d9c8=a5_0x45c825;this[_0x57d9c8(0x1c4)]=null,this[_0x57d9c8(0x1c2)]=0x0,console[_0x57d9c8(0x1b6)](_0x57d9c8(0x1c0));}}function a5_0x362d(){const _0xc30a63=['exports','getFallbackIceServers','[Appliance\x20TURN\x20Service]\x20Fetching\x20TURN\x20credentials\x20from\x20server...','1700531VcMKKG','[Appliance\x20TURN\x20Service]\x20Cached\x20new\x20TURN\x20credentials','10002830gHzcSB','error','stun:stun.l.google.com:19302','[Appliance\x20TURN\x20Service]\x20Error\x20fetching\x20credentials:','[Appliance\x20TURN\x20Service]\x20Using\x20fallback\x20STUN\x20servers','9975224hEICwY','hostname','[Appliance\x20TURN\x20Service]\x20Server\x20URL\x20not\x20initialized','cacheDuration','warn','login','[Appliance\x20TURN\x20Service]\x20Failed\x20to\x20authenticate','[Appliance\x20TURN\x20Service]\x20Using\x20cached\x20TURN\x20credentials','apply','getToken','66ipfdiW','port','search','https','initialize','GET','3350275JgtlbE','109208OKQqrD','fetchCredentials','protocol','http','[Appliance\x20TURN\x20Service]\x20Not\x20authenticated,\x20attempting\x20to\x20login...','constructor','stun:stun1.l.google.com:19302','(((.+)+)+)+$','https:','419413DYXxIm','./auth','2mKnsWs','[Appliance\x20TURN\x20Service]\x20Request\x20error:','12sAUQGS','isAuthenticated','7556697zGCqfv','clearCache','log','Bearer\x20','getIceServers','end','serverUrl','[Appliance\x20TURN\x20Service]\x20Request\x20timeout','request','[Appliance\x20TURN\x20Service]\x20Error\x20parsing\x20response:','destroy','[Appliance\x20TURN\x20Service]\x20No\x20iceServers\x20in\x20response,\x20using\x20fallback','[Appliance\x20TURN\x20Service]\x20Credentials\x20cache\x20cleared','data','cacheExpiry','setTimeout','credentialsCache','toString','[Appliance\x20TURN\x20Service]\x20Successfully\x20fetched\x20TURN\x20credentials\x20from\x20server'];a5_0x362d=function(){return _0xc30a63;};return a5_0x362d();}module[a5_0x45c825(0x1c7)]=new ApplianceTurnCredentialsService();