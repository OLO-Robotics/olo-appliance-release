const a3_0x188634=a3_0x486c;(function(_0xf0f003,_0x594cad){const _0x3efbbe=a3_0x486c,_0x1c36f3=_0xf0f003();while(!![]){try{const _0x2de723=-parseInt(_0x3efbbe(0x18c))/0x1*(-parseInt(_0x3efbbe(0x181))/0x2)+parseInt(_0x3efbbe(0x179))/0x3+parseInt(_0x3efbbe(0x18a))/0x4+-parseInt(_0x3efbbe(0x176))/0x5*(-parseInt(_0x3efbbe(0x1a4))/0x6)+-parseInt(_0x3efbbe(0x1a8))/0x7+-parseInt(_0x3efbbe(0x195))/0x8*(-parseInt(_0x3efbbe(0x17e))/0x9)+-parseInt(_0x3efbbe(0x16b))/0xa*(parseInt(_0x3efbbe(0x1a9))/0xb);if(_0x2de723===_0x594cad)break;else _0x1c36f3['push'](_0x1c36f3['shift']());}catch(_0x5c8592){_0x1c36f3['push'](_0x1c36f3['shift']());}}}(a3_0x58a3,0xe847a));const a3_0xc800f5=(function(){let _0x20fc82=!![];return function(_0x2f7c02,_0x300154){const _0x1ceb20=_0x20fc82?function(){if(_0x300154){const _0x10bcbe=_0x300154['apply'](_0x2f7c02,arguments);return _0x300154=null,_0x10bcbe;}}:function(){};return _0x20fc82=![],_0x1ceb20;};}()),a3_0x1eacb1=a3_0xc800f5(this,function(){const _0x44ecf6=a3_0x486c;return a3_0x1eacb1[_0x44ecf6(0x198)]()[_0x44ecf6(0x171)](_0x44ecf6(0x19b))[_0x44ecf6(0x198)]()[_0x44ecf6(0x16f)](a3_0x1eacb1)[_0x44ecf6(0x171)](_0x44ecf6(0x19b));});a3_0x1eacb1();function a3_0x486c(_0x506f90,_0x46e7d5){const _0x2f92f4=a3_0x58a3();return a3_0x486c=function(_0x1eacb1,_0xc800f5){_0x1eacb1=_0x1eacb1-0x169;let _0x58a337=_0x2f92f4[_0x1eacb1];return _0x58a337;},a3_0x486c(_0x506f90,_0x46e7d5);}const sharp=require('sharp');class DepthImageProcessor{constructor(){const _0x45b492=a3_0x486c;console[_0x45b492(0x1a3)](_0x45b492(0x178));}async[a3_0x188634(0x16a)](_0x3f3f0f,_0x9938e1,_0x2208bc,_0x1042fe){const _0x583200=a3_0x188634;try{let _0x228be8,_0x5085ec;try{const _0x377ee1=await sharp(_0x3f3f0f)[_0x583200(0x180)]()[_0x583200(0x190)]()['toBuffer']({'resolveWithObject':!![]});_0x228be8=_0x377ee1['data'],_0x5085ec=_0x377ee1['info'];}catch(_0x36306d){try{const _0xeaa468=await sharp(_0x3f3f0f)[_0x583200(0x190)]()[_0x583200(0x19c)]({'resolveWithObject':!![]});_0x228be8=_0xeaa468[_0x583200(0x17c)],_0x5085ec=_0xeaa468['info'];}catch(_0x55ba13){try{const _0x10f6f7=await sharp(_0x3f3f0f)['greyscale']()[_0x583200(0x190)]()[_0x583200(0x19c)]({'resolveWithObject':!![]});_0x228be8=_0x10f6f7[_0x583200(0x17c)],_0x5085ec=_0x10f6f7[_0x583200(0x185)];}catch(_0x5c76a4){if(_0x3f3f0f[_0x583200(0x194)]>=0x4){let _0x47689c=-0x1;for(let _0x741708=0x0;_0x741708<=_0x3f3f0f['length']-0x4;_0x741708++){if(_0x3f3f0f[_0x741708]===0x89&&_0x3f3f0f[_0x741708+0x1]===0x50&&_0x3f3f0f[_0x741708+0x2]===0x4e&&_0x3f3f0f[_0x741708+0x3]===0x47){_0x47689c=_0x741708;break;}}if(_0x47689c>=0x0){const _0x520d85=_0x3f3f0f[_0x583200(0x19a)](_0x47689c);try{const _0xee9d22=await sharp(_0x520d85)[_0x583200(0x190)]()['toBuffer']({'resolveWithObject':!![]});_0x228be8=_0xee9d22['data'],_0x5085ec=_0xee9d22['info'];}catch(_0x3d8d31){try{const _0x24a84c=await sharp(_0x520d85)['png']()[_0x583200(0x190)]()[_0x583200(0x19c)]({'resolveWithObject':!![]});_0x228be8=_0x24a84c['data'],_0x5085ec=_0x24a84c[_0x583200(0x185)],console[_0x583200(0x1a3)](_0x583200(0x19f)+_0x5085ec[_0x583200(0x19d)]+'x'+_0x5085ec[_0x583200(0x173)]+_0x583200(0x1a7)+_0x5085ec[_0x583200(0x186)]+_0x583200(0x187)+_0x5085ec['depth']);}catch(_0x3acfbc){throw new Error('All\x20PNG\x20decode\x20attempts\x20failed:\x20'+_0x3acfbc['message']);}}}else{console[_0x583200(0x1a3)](_0x583200(0x17b)+_0x3f3f0f[_0x583200(0x194)]),console['log']('[DepthImageProcessor]\x20First\x2016\x20bytes:\x20'+Array[_0x583200(0x1a1)](_0x3f3f0f['slice'](0x0,0x10))['map'](_0x41e09b=>'0x'+_0x41e09b[_0x583200(0x198)](0x10)[_0x583200(0x19e)](0x2,'0'))[_0x583200(0x197)]('\x20'));const _0x5a0c41=0x280,_0x4f0b2e=0x1e0,_0x271950=_0x5a0c41*_0x4f0b2e*0x2;if(Math[_0x583200(0x192)](_0x3f3f0f[_0x583200(0x194)]-_0x271950)<0x3e8)console['log']('[DepthImageProcessor]\x20Buffer\x20size\x20matches\x20raw\x20depth\x20data,\x20interpreting\x20as\x20'+_0x5a0c41+'x'+_0x4f0b2e+_0x583200(0x17f)),_0x228be8=_0x3f3f0f,_0x5085ec={'width':_0x5a0c41,'height':_0x4f0b2e,'channels':0x1,'depth':_0x583200(0x1a6)};else throw new Error(_0x583200(0x18e)+_0x3f3f0f[_0x583200(0x194)]+_0x583200(0x18b)+_0x271950);}}else throw new Error('Buffer\x20too\x20small\x20to\x20contain\x20any\x20meaningful\x20depth\x20data');}}}const _0x18e242=_0x2208bc[_0x583200(0x17a)](_0x9938e1[_0x583200(0x19d)],_0x9938e1[_0x583200(0x173)]);if(_0x5085ec[_0x583200(0x186)]===0x1&&_0x5085ec['depth']==='uchar')this[_0x583200(0x16c)](_0x228be8,_0x18e242[_0x583200(0x17c)],_0x5085ec[_0x583200(0x19d)],_0x5085ec[_0x583200(0x173)],_0x9938e1[_0x583200(0x19d)],_0x9938e1[_0x583200(0x173)]);else{if(_0x5085ec['channels']===0x1&&(_0x5085ec['depth']==='ushort'||_0x5085ec[_0x583200(0x177)]===undefined))this['convertDepthToRGBA_16bit'](_0x228be8,_0x18e242['data'],_0x5085ec[_0x583200(0x19d)],_0x5085ec[_0x583200(0x173)],_0x9938e1['width'],_0x9938e1['height']);else{if(_0x5085ec[_0x583200(0x186)]===0x3)_0x1042fe[_0x583200(0x188)](_0x583200(0x177))?this[_0x583200(0x1a5)](_0x228be8,_0x18e242['data'],_0x5085ec[_0x583200(0x19d)],_0x5085ec[_0x583200(0x173)],_0x9938e1[_0x583200(0x19d)],_0x9938e1[_0x583200(0x173)]):this[_0x583200(0x17d)](_0x228be8,_0x18e242['data'],_0x5085ec['width'],_0x5085ec['height'],_0x9938e1['width'],_0x9938e1['height']);else _0x5085ec[_0x583200(0x186)]===0x2?this[_0x583200(0x1a2)](_0x228be8,_0x18e242[_0x583200(0x17c)],_0x5085ec[_0x583200(0x19d)],_0x5085ec[_0x583200(0x173)],_0x9938e1['width'],_0x9938e1['height']):(console[_0x583200(0x1a3)]('[DepthImageProcessor]\x20Unknown\x20format:\x20channels='+_0x5085ec[_0x583200(0x186)]+_0x583200(0x169)+_0x5085ec[_0x583200(0x177)]+_0x583200(0x16d)),this[_0x583200(0x1a2)](_0x228be8,_0x18e242[_0x583200(0x17c)],_0x5085ec[_0x583200(0x19d)],_0x5085ec[_0x583200(0x173)],_0x9938e1['width'],_0x9938e1[_0x583200(0x173)]));}}return _0x18e242;}catch(_0x1f1c50){console[_0x583200(0x196)](_0x583200(0x175),_0x1f1c50[_0x583200(0x183)]);Math[_0x583200(0x18f)]()<0.05&&console['warn'](_0x583200(0x1a0)+_0x3f3f0f[_0x583200(0x194)]+_0x583200(0x172),Array[_0x583200(0x1a1)](_0x3f3f0f['slice'](0x0,0x10))[_0x583200(0x184)](_0x13c9b2=>'0x'+_0x13c9b2[_0x583200(0x198)](0x10)['padStart'](0x2,'0'))[_0x583200(0x197)]('\x20'));const _0x473cc3=_0x2208bc[_0x583200(0x17a)](_0x9938e1['width'],_0x9938e1[_0x583200(0x173)]);for(let _0x1ab298=0x0;_0x1ab298<_0x9938e1[_0x583200(0x173)];_0x1ab298++){for(let _0x36def5=0x0;_0x36def5<_0x9938e1[_0x583200(0x19d)];_0x36def5++){const _0x482ff6=(_0x1ab298*_0x9938e1[_0x583200(0x19d)]+_0x36def5)*0x4,_0x2010fb=Math[_0x583200(0x192)](Math[_0x583200(0x18d)](_0x36def5*0.01)*Math[_0x583200(0x16e)](_0x1ab298*0.01)),_0x49aff0=this[_0x583200(0x189)](_0x2010fb);_0x473cc3[_0x583200(0x17c)][_0x482ff6]=_0x49aff0['r'],_0x473cc3[_0x583200(0x17c)][_0x482ff6+0x1]=_0x49aff0['g'],_0x473cc3[_0x583200(0x17c)][_0x482ff6+0x2]=_0x49aff0['b'],_0x473cc3[_0x583200(0x17c)][_0x482ff6+0x3]=0xff;}}return _0x473cc3;}}['convertDepthToRGBA_8bit'](_0x27d2cd,_0x40668c,_0x5f2ee3,_0x434034,_0x55750d,_0x973f81){const _0x220bd5=a3_0x188634,_0x1c3f9e=_0x5f2ee3/_0x55750d,_0x39cd6d=_0x434034/_0x973f81;for(let _0x246df3=0x0;_0x246df3<_0x973f81;_0x246df3++){for(let _0x4497e3=0x0;_0x4497e3<_0x55750d;_0x4497e3++){const _0x2b39cd=Math[_0x220bd5(0x174)](_0x4497e3*_0x1c3f9e),_0x29bdc7=Math[_0x220bd5(0x174)](_0x246df3*_0x39cd6d),_0x183f02=_0x29bdc7*_0x5f2ee3+_0x2b39cd,_0x48cb5f=(_0x246df3*_0x55750d+_0x4497e3)*0x4,_0x56ce19=_0x27d2cd[_0x183f02]||0x0,_0x45b619=this[_0x220bd5(0x189)](_0x56ce19/0xff);_0x40668c[_0x48cb5f]=_0x45b619['r'],_0x40668c[_0x48cb5f+0x1]=_0x45b619['g'],_0x40668c[_0x48cb5f+0x2]=_0x45b619['b'],_0x40668c[_0x48cb5f+0x3]=0xff;}}}['convertDepthToRGBA_16bit'](_0x12322a,_0x2d948d,_0x5beeda,_0x201152,_0x282c85,_0x56898b){const _0x153429=a3_0x188634,_0x453172=_0x5beeda/_0x282c85,_0x273918=_0x201152/_0x56898b;let _0x496695=0xffff,_0x4c548e=0x0;for(let _0x4c2346=0x0;_0x4c2346<_0x12322a[_0x153429(0x194)];_0x4c2346+=0x2){const _0x432fe4=_0x12322a[_0x4c2346+0x1]<<0x8|_0x12322a[_0x4c2346];_0x432fe4>0x0&&(_0x496695=Math[_0x153429(0x193)](_0x496695,_0x432fe4),_0x4c548e=Math[_0x153429(0x182)](_0x4c548e,_0x432fe4));}const _0x1e145a=_0x4c548e-_0x496695||0x1;for(let _0x341690=0x0;_0x341690<_0x56898b;_0x341690++){for(let _0x4b0899=0x0;_0x4b0899<_0x282c85;_0x4b0899++){const _0x41e852=Math[_0x153429(0x174)](_0x4b0899*_0x453172),_0x46fe1c=Math['floor'](_0x341690*_0x273918),_0x5a77ef=(_0x46fe1c*_0x5beeda+_0x41e852)*0x2,_0x270e7a=(_0x341690*_0x282c85+_0x4b0899)*0x4,_0x245811=_0x12322a[_0x5a77ef+0x1]<<0x8|_0x12322a[_0x5a77ef],_0x1e6ff5=_0x245811>0x0?(_0x245811-_0x496695)/_0x1e145a:0x0,_0x414121=this[_0x153429(0x189)](_0x1e6ff5);_0x2d948d[_0x270e7a]=_0x414121['r'],_0x2d948d[_0x270e7a+0x1]=_0x414121['g'],_0x2d948d[_0x270e7a+0x2]=_0x414121['b'],_0x2d948d[_0x270e7a+0x3]=0xff;}}}['convertRGBDepthToRGBA'](_0x2f3494,_0x593f2b,_0x5e285d,_0x5b9127,_0x5d0145,_0x5f2f5a){const _0x1733e2=a3_0x188634,_0x5d46be=_0x5e285d/_0x5d0145,_0xd5a380=_0x5b9127/_0x5f2f5a;let _0x153c9a=0xff,_0xf2fbd2=0x0;for(let _0x55df49=0x1;_0x55df49<_0x2f3494[_0x1733e2(0x194)];_0x55df49+=0x3){const _0x3f0c15=_0x2f3494[_0x55df49];_0x3f0c15>0x0&&(_0x153c9a=Math[_0x1733e2(0x193)](_0x153c9a,_0x3f0c15),_0xf2fbd2=Math[_0x1733e2(0x182)](_0xf2fbd2,_0x3f0c15));}const _0x3249eb=_0xf2fbd2-_0x153c9a||0x1;for(let _0x2c1463=0x0;_0x2c1463<_0x5f2f5a;_0x2c1463++){for(let _0x4e0f41=0x0;_0x4e0f41<_0x5d0145;_0x4e0f41++){const _0x574cca=Math[_0x1733e2(0x174)](_0x4e0f41*_0x5d46be),_0x483202=Math[_0x1733e2(0x174)](_0x2c1463*_0xd5a380),_0x2a3d8c=(_0x483202*_0x5e285d+_0x574cca)*0x3,_0x4f1a4a=(_0x2c1463*_0x5d0145+_0x4e0f41)*0x4,_0xea31ca=_0x2f3494[_0x2a3d8c+0x1],_0x189aa3=_0xea31ca>0x0?(_0xea31ca-_0x153c9a)/_0x3249eb:0x0,_0x44fd27=this[_0x1733e2(0x189)](_0x189aa3);_0x593f2b[_0x4f1a4a]=_0x44fd27['r'],_0x593f2b[_0x4f1a4a+0x1]=_0x44fd27['g'],_0x593f2b[_0x4f1a4a+0x2]=_0x44fd27['b'],_0x593f2b[_0x4f1a4a+0x3]=0xff;}}}[a3_0x188634(0x17d)](_0x36e731,_0x7a8782,_0x2511a8,_0x259645,_0x20c6a2,_0x422c86){const _0x4a53b9=a3_0x188634,_0x1cee2f=_0x2511a8/_0x20c6a2,_0x1d85fb=_0x259645/_0x422c86;for(let _0x41b076=0x0;_0x41b076<_0x422c86;_0x41b076++){for(let _0x1e243c=0x0;_0x1e243c<_0x20c6a2;_0x1e243c++){const _0x2262c7=Math[_0x4a53b9(0x174)](_0x1e243c*_0x1cee2f),_0x542b52=Math['floor'](_0x41b076*_0x1d85fb),_0x326efc=(_0x542b52*_0x2511a8+_0x2262c7)*0x3,_0x55181f=(_0x41b076*_0x20c6a2+_0x1e243c)*0x4;_0x7a8782[_0x55181f]=_0x36e731[_0x326efc],_0x7a8782[_0x55181f+0x1]=_0x36e731[_0x326efc+0x1],_0x7a8782[_0x55181f+0x2]=_0x36e731[_0x326efc+0x2],_0x7a8782[_0x55181f+0x3]=0xff;}}}['createDepthFallbackPattern'](_0x41887a,_0x1e68d4,_0x3a7248){const _0x5d1a5c=a3_0x188634;for(let _0x4ee113=0x0;_0x4ee113<_0x41887a[_0x5d1a5c(0x194)];_0x4ee113+=0x4){_0x41887a[_0x4ee113]=0x14,_0x41887a[_0x4ee113+0x1]=0x14,_0x41887a[_0x4ee113+0x2]=0x28,_0x41887a[_0x4ee113+0x3]=0xff;}for(let _0x4a204a=0x0;_0x4a204a<_0x3a7248;_0x4a204a++){for(let _0x78321c=0x0;_0x78321c<_0x1e68d4;_0x78321c++){const _0x34991a=(_0x4a204a*_0x1e68d4+_0x78321c)*0x4;(_0x78321c+_0x4a204a)%0x28<0x14&&(_0x41887a[_0x34991a]=0xff,_0x41887a[_0x34991a+0x1]=0x64,_0x41887a[_0x34991a+0x2]=0x0,_0x41887a[_0x34991a+0x3]=0xb4),(_0x78321c%0x32===0x0||_0x4a204a%0x32===0x0)&&(_0x41887a[_0x34991a]=0x64,_0x41887a[_0x34991a+0x1]=0x64,_0x41887a[_0x34991a+0x2]=0x64,_0x41887a[_0x34991a+0x3]=0xff);}}const _0x27ad40=Math['floor'](_0x1e68d4/0x2),_0x183bf3=Math[_0x5d1a5c(0x174)](_0x3a7248/0x2),_0x42edf2=0x1e;for(let _0x51d55a=_0x183bf3-_0x42edf2;_0x51d55a<_0x183bf3+_0x42edf2;_0x51d55a++){for(let _0x579fec=_0x27ad40-_0x42edf2;_0x579fec<_0x27ad40+_0x42edf2;_0x579fec++){if(_0x579fec>=0x0&&_0x579fec<_0x1e68d4&&_0x51d55a>=0x0&&_0x51d55a<_0x3a7248){const _0x507238=_0x579fec-_0x27ad40,_0x5458cd=_0x51d55a-_0x183bf3,_0x5ddf28=Math[_0x5d1a5c(0x199)](_0x507238*_0x507238+_0x5458cd*_0x5458cd);if(_0x5ddf28<_0x42edf2){const _0x4b42df=(_0x51d55a*_0x1e68d4+_0x579fec)*0x4,_0x3ce296=Math[_0x5d1a5c(0x182)](0x0,0xff-_0x5ddf28/_0x42edf2*0xff);_0x41887a[_0x4b42df]=0xff,_0x41887a[_0x4b42df+0x1]=_0x3ce296,_0x41887a[_0x4b42df+0x2]=0x0,_0x41887a[_0x4b42df+0x3]=0xc8;}}}}}[a3_0x188634(0x189)](_0x52f9d7){const _0x5d815d=a3_0x188634;if(_0x52f9d7<=0x0)return{'r':0x0,'g':0x0,'b':0x0};const _0x348a22=Math['max'](0x0,Math['min'](0x1,_0x52f9d7));if(_0x348a22<0.25){const _0x350a72=_0x348a22/0.25;return{'r':0x0,'g':Math[_0x5d815d(0x174)](_0x350a72*0xff),'b':0xff};}else{if(_0x348a22<0.5){const _0x444962=(_0x348a22-0.25)/0.25;return{'r':0x0,'g':0xff,'b':Math[_0x5d815d(0x174)]((0x1-_0x444962)*0xff)};}else{if(_0x348a22<0.75){const _0x3d7825=(_0x348a22-0.5)/0.25;return{'r':Math['floor'](_0x3d7825*0xff),'g':0xff,'b':0x0};}else{const _0x809d48=(_0x348a22-0.75)/0.25;return{'r':0xff,'g':Math['floor']((0x1-_0x809d48)*0xff),'b':0x0};}}}}['isDepthTopic'](_0xa3ef2b){const _0x6a2e4a=a3_0x188634;return _0xa3ef2b[_0x6a2e4a(0x188)](_0x6a2e4a(0x177));}async[a3_0x188634(0x170)](_0x4ab592,_0x14a8e2,_0x33a445){const _0x3a06ef=a3_0x188634,{data:_0x340b93,info:_0x381e26}=await sharp(_0x4ab592)['resize'](_0x14a8e2[_0x3a06ef(0x19d)],_0x14a8e2[_0x3a06ef(0x173)])[_0x3a06ef(0x190)]()[_0x3a06ef(0x19c)]({'resolveWithObject':!![]}),_0x45e0f9=_0x33a445[_0x3a06ef(0x17a)](_0x14a8e2['width'],_0x14a8e2['height']);for(let _0x4a2f89=0x0,_0x467582=0x0;_0x4a2f89<_0x340b93[_0x3a06ef(0x194)];_0x4a2f89+=0x3,_0x467582+=0x4){_0x45e0f9['data'][_0x467582]=_0x340b93[_0x4a2f89],_0x45e0f9[_0x3a06ef(0x17c)][_0x467582+0x1]=_0x340b93[_0x4a2f89+0x1],_0x45e0f9[_0x3a06ef(0x17c)][_0x467582+0x2]=_0x340b93[_0x4a2f89+0x2],_0x45e0f9['data'][_0x467582+0x3]=0xff;}return _0x45e0f9;}}module[a3_0x188634(0x191)]=DepthImageProcessor;function a3_0x58a3(){const _0x512b62=[',\x20depth=','processDepthImage','56376020TuLYav','convertDepthToRGBA_8bit',',\x20trying\x20as\x2016-bit\x20depth','cos','constructor','processColorImage','search',',\x20first\x2016\x20bytes:','height','floor','[DepthImageProcessor]\x20Depth\x20decoding\x20failed:','33795sqgvWv','depth','[DepthImageProcessor]\x20Initialized','5546436qXiQgx','createImageData','[DepthImageProcessor]\x20No\x20PNG\x20header\x20found\x20in\x20buffer,\x20size:\x20','data','convertRGBToRGBA','486jpSrcu','\x2016-bit','png','2798KoFrmO','max','message','map','info','channels',',\x20depth:\x20','includes','depthToColor','4986880rKGQlJ',',\x20expected\x20raw:\x20','479OEJcRC','sin','Unrecognized\x20depth\x20format,\x20buffer\x20size:\x20','random','raw','exports','abs','min','length','257552BaTShG','warn','join','toString','sqrt','slice','(((.+)+)+)+$','toBuffer','width','padStart','[DepthImageProcessor]\x20PNG\x20decode\x20with\x20explicit\x20format:\x20','[DepthImageProcessor]\x20Buffer\x20info:\x20size=','from','convertDepthToRGBA_16bit','log','1314sIwXzS','convertRGBDepthToRGBA','ushort',',\x20channels:\x20','2767310OlmDxm','11gbxnPA'];a3_0x58a3=function(){return _0x512b62;};return a3_0x58a3();}